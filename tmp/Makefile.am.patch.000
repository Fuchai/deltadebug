--- dbg/find14/find/find/Makefile.am	2020-01-28 23:47:42.000000000 -0600
+++ dbg/find6/find/find/Makefile.am	2020-01-28 23:39:42.000000000 -0600
@@ -1,10 +1,32 @@
 AUTOMAKE_OPTIONS = std-options
 localedir = $(datadir)/locale
-bin_PROGRAMS = find
-find_SOURCES = find.c fstype.c parser.c pred.c tree.c util.c version.c
+# noinst_PROGRAMS = regexprops
+# regexprops_SOURCES = regexprops.c
+
+noinst_LIBRARIES = libfindtools.a
+libfindtools_a_SOURCES = finddata.c fstype.c parser.c pred.c tree.c util.c version.c
+
+
+# We always build two versions of find, one with fts, one without.
+# Their names depend on whether the user specified --with-fts.
+#
+# --with-fts		find 		extra binary
+#	yes		with fts	'oldfind', without fts
+#        no             without fts     'ftsfind', with fts
+# 
+if WITH_FTS
+bin_PROGRAMS     = find oldfind
+find_SOURCES     = ftsfind.c
+oldfind_SOURCES  = find.c
+else
+bin_PROGRAMS      = find ftsfind
+find_SOURCES      = find.c
+ftsfind_SOURCES   = ftsfind.c
+endif
+
 EXTRA_DIST = defs.h $(man_MANS)
 INCLUDES = -I../gnulib/lib -I$(top_srcdir)/lib -I$(top_srcdir)/gnulib/lib -I../intl -DLOCALEDIR=\"$(localedir)\"
-LDADD = ../lib/libfind.a ../gnulib/lib/libgnulib.a @INTLLIBS@
+LDADD = ./libfindtools.a ../lib/libfind.a ../gnulib/lib/libgnulib.a @INTLLIBS@ @LIB_CLOCK_GETTIME@
 man_MANS = find.1
 SUBDIRS = testsuite
 
diff -up -r dbg/find14/find/find/Makefile.in dbg/find6/find/find/Makefile.in
