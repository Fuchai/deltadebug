--- dbg/find14/find/locate/locate.1	2020-01-28 23:47:42.000000000 -0600
+++ dbg/find6/find/locate/locate.1	2020-01-28 23:39:42.000000000 -0600
@@ -3,10 +3,11 @@
 locate \- list files in databases that match a pattern
 .SH SYNOPSIS
 .B locate
-[\-d path | \-\-database=path] [\-e | \-\-existing] [\-i | \-\-ignore-case]
-[\-0 | \-\-null] [\-c | \-\-count] [\-w | \-\-wholename] [\-b | \-\-basename] 
-[\-l N | \-\-limit=N] [\-S | \-\-statistics] [\-r | \-\-regex ]
-[\-P | \-H | \-\-nofollow] [\-L | \-\-follow] [\-\-version] [\-\-help] pattern...
+[\-d path | \-\-database=path] [\-e | \-E | \-\-[non\-]existing] [\-i
+| \-\-ignore-case] [\-0 | \-\-null] [\-c | \-\-count] [\-w | \-\-wholename]
+|\-b | \-\-basename] [\-l N | \-\-limit=N] [\-S | \-\-statistics] [\-r
+| \-\-regex ] [\-\-max-database-age D] [\-P | \-H | \-\-nofollow] [\-L
+| \-\-follow] [\-\-version] [\-A | \-\-all] [\-p | \-\-print] [\-\-help] pattern...
 .SH DESCRIPTION
 This manual page
 documents the GNU version of
@@ -38,11 +39,32 @@ when the databases were last updated.  T
 choose the file name of the default database, the frequency with which
 the databases are updated, and the directories for which they contain
 entries; see \fBupdatedb\fP(1).
+.P
+If 
+.BR locate 's 
+output is going to a terminal, unusual characters in the output are 
+escaped in the same way as for the \-print action of the 
+.B find
+command.  If the output is not going to a terminal, file names are
+printed exactly as-is.
+
 .SH OPTIONS
 .TP
+.I "\-0, \-\-null"
+Use ASCII NUL as a separator, instead of newline.   
+.TP
+.I "\-A, \-\-all"
+Print only names which match all non-option arguments, not those matching
+one or more non-option arguments.
+.TP
+.I "\-b, \-\-basename"
+Results are considered to match if the pattern specified matches the
+final component of the name of a file as listed in the database.
+This final component is usually referred to as the `base name'.
+.TP
 .I "\-c, \-\-count"
 Instead of printing the matched filenames, just print the total 
-number of matches we found.
+number of matches we found, unless \-\-\fIprint\fP (\-p) is also present.
 .TP
 .I "\-d \fIpath\fP, \-\-database=\fIpath\fP"
 Instead of searching the default file name database, search the file
@@ -53,12 +75,15 @@ to set the list of database files to sea
 The option overrides the environment variable if both are used.  Empty
 elements in the path are taken to be synonyms for the file name of the
 default database.
+A database can be supplied on stdin, using `\-' as an element
+of \fIpath\fP. If more than one element of \fIpath\fP is `\-',
+later instances are ignored (and a warning message is printed).
 .IP
 The file name database format changed starting with GNU
 .B find
 and
 .B locate
-version 4.0 to allow machines with diffent byte orderings to share
+version 4.0 to allow machines with different byte orderings to share
 the databases.  This version of
 .B locate
 can automatically recognize and read databases produced for older
@@ -80,16 +105,16 @@ please note that it is possible for the
 .B locate 
 has checked that it exists, but before you use it.
 .TP
-.I "\-L, \-\-follow"
-If testing for the existence of files (with the \-e option), omit
-broken symbolic links.   This is the default.
+.I "\-E, \-\-non\-existing"
+Only print out such names that currently do not exist (instead of such names
+that existed when the database was created).
+Note that this may slow down the program a lot, if there are many matches
+in the database.
 .TP
-.I "\-P, \-H, \-\-nofollow"
-If testing for the existence of files (with the \-e option), treat
-broken symbolic links count as if they were exiting files.  The \-H
-form of this option is provided purely for similarity with
-.BR find ;
-the use of \-P is recommended over \-H.
+.I "\-\-help"
+Print a summary of the options to
+.B locate
+and exit.
 .TP
 .I "\-i, \-\-ignore-case"
 Ignore case distinctions in both the pattern and the file names.
@@ -99,30 +124,45 @@ Limit the number of matches to N.  If a
 the number of results printed for the \-c option will never be larger
 than this number.
 .TP
+.I "\-L, \-\-follow"
+If testing for the existence of files (with the \-e or \-E options),
+consider broken symbolic links to be non-existing.   This is the default.
+.TP
+.I "\-\-max-database-age D"
+Normally, 
+.B locate
+will issue a warning message when it searches a database which is more
+than 8 days old.  This option changes that value to something other
+than 8.  The effect of specifying a negative value is undefined.
+.TP
 .I "\-m, \-\-mmap"
 Accepted but does nothing, for compatibility with BSD 
 .BR locate .
 .TP
-.I "\-0, \-\-null"
-Use ASCII NUL as a separator, instead of newline.   
+.I "\-P, \-H, \-\-nofollow"
+If testing for the existence of files (with the \-e or \-E options), treat
+broken symbolic links as if they were existing files.  The \-H
+form of this option is provided purely for similarity with
+.BR find ;
+the use of \-P is recommended over \-H.
 .TP
-.I "\-w, \-\-wholename"
-Match against the whole name of the file as listed in the database.
-This is the default.
-.TP
-.I "\-b, \-\-basename"
-Results are considered to match if the pattern specified matches the
-final component of the name of a file as listed in the database.
-This final component is usually referred to as the `base name'.
+.I "\-p, \-\-print"
+Print search results when they normally would not, because of the presence
+of \-\-statistics (\-S) or \-\-count (\-c).
 .TP
 .I "\-r, \-\-regex "
-The pattern specified on the command line is understood to be a POSIX
-exteded regular expression, as opposed to a glob pattern.  Filenames
-whose full paths match the specified regular expression are printed
-(or, in the case of the -c option, counted).  If you wish to anchor
-your regular expression at the ends of the full path name, then as is
-usual with regular expressions, you should use the characters ^ and $
-to signify this.   Newline is not considered to be special.
+The pattern specified on the command line is understood to be a
+regular expression, as opposed to a glob pattern.  The Regular
+expressions work in the same was as in 
+.B emacs
+and 
+.BR find ,
+except for the fact that "." will match a newline.
+Filenames whose full paths match the specified regular expression are
+printed (or, in the case of the \-c option, counted).  If you wish to
+anchor your regular expression at the ends of the full path name, then
+as is usual with regular expressions, you should use the characters ^
+and $ to signify this.  
 .TP
 .I "\-s, \-\-stdio"
 Accepted but does nothing, for compatibility with BSD 
@@ -130,19 +170,21 @@ Accepted but does nothing, for compatibi
 .TP
 .I "\-S, \-\-statistics"
 Print various statistics about each locate database and then exit
-without performing a search.  Any patterns given on the command line
-are ignored.  For compatibility with BSD, \-S is accepted as a synonym
-for \-\-statistics.
-.TP
-.I "\-\-help"
-Print a summary of the options to
-.B locate
-and exit.
+without performing a search, unless non-option arguments are given.
+For compatibility with BSD, \-S is accepted as a synonym
+for \-\-statistics.  However, the ouptut of 
+.B locate \-S 
+is different for the GNU and BSD implementations of 
+.BR locate .
 .TP
 .I "\-\-version"
 Print the version number of
 .B locate
 and exit.
+.TP
+.I "\-w, \-\-wholename"
+Match against the whole name of the file as listed in the database.
+This is the default.
 .SH ENVIRONMENT
 .TP
 .B LOCATE_PATH
@@ -153,7 +195,7 @@ results that vary between different vers
 
 .SH "SEE ALSO"
 \fBfind\fP(1), \fBlocatedb\fP(5), \fBupdatedb\fP(1), \fBxargs\fP(1),
-\fBglob\fP(3),\fregex\fP(7),
+\fBglob\fP(3),
 \fBFinding Files\fP (on-line in Info, or printed)
 .SH "BUGS"
 .P
diff -up -r dbg/find14/find/locate/locate.c dbg/find6/find/locate/locate.c
