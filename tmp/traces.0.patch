--- dbg/find14/find/autom4te.cache/traces.0	2020-01-28 23:47:42.000000000 -0600
+++ dbg/find6/find/autom4te.cache/traces.0	2020-01-28 23:39:42.000000000 -0600
@@ -525,6 +525,27 @@ else
   AC_MSG_WARN(['missing' script is too old or missing])
 fi
 ])
+m4trace:/usr/share/aclocal-1.14/mkdirp.m4:11: -1- AC_DEFUN([AM_PROG_MKDIR_P], [AC_PREREQ([2.60])dnl
+AC_REQUIRE([AC_PROG_MKDIR_P])dnl
+dnl FIXME we are no longer going to remove this! adjust warning
+dnl FIXME message accordingly.
+AC_DIAGNOSE([obsolete],
+[$0: this macro is deprecated, and will soon be removed.
+You should use the Autoconf-provided 'AC][_PROG_MKDIR_P' macro instead,
+and use '$(MKDIR_P)' instead of '$(mkdir_p)'in your Makefile.am files.])
+dnl Automake 1.8 to 1.9.6 used to define mkdir_p.  We now use MKDIR_P,
+dnl while keeping a definition of mkdir_p for backward compatibility.
+dnl @MKDIR_P@ is magic: AC_OUTPUT adjusts its value for each Makefile.
+dnl However we cannot define mkdir_p as $(MKDIR_P) for the sake of
+dnl Makefile.ins that do not define MKDIR_P, so we do our own
+dnl adjustment using top_builddir (which is defined more often than
+dnl MKDIR_P).
+AC_SUBST([mkdir_p], ["$MKDIR_P"])dnl
+case $mkdir_p in
+  [[\\/$]]* | ?:[[\\/]]*) ;;
+  */*) mkdir_p="\$(top_builddir)/$mkdir_p" ;;
+esac
+])
 m4trace:/usr/share/aclocal-1.14/options.m4:11: -1- AC_DEFUN([_AM_MANGLE_OPTION], [[_AM_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])
 m4trace:/usr/share/aclocal-1.14/options.m4:17: -1- AC_DEFUN([_AM_SET_OPTION], [m4_define(_AM_MANGLE_OPTION([$1]), [1])])
 m4trace:/usr/share/aclocal-1.14/options.m4:23: -1- AC_DEFUN([_AM_SET_OPTIONS], [m4_foreach_w([_AM_Option], [$1], [_AM_SET_OPTION(_AM_Option)])])
@@ -808,53 +829,30 @@ m4_if([$1], [v7],
 AC_SUBST([am__tar])
 AC_SUBST([am__untar])
 ])
-m4trace:m4/findlib.m4:3: -1- AC_DEFUN([FINDLIB_REPLACE_FUNCS], [AC_FOREACH([AC_Func], [$1], [jy_FINDLIBSOURCE(AC_Func.c)])dnl
-AC_CHECK_FUNCS([$1], , [_jy_FINDLIBOBJ($ac_func)])
-])
-m4trace:m4/findlib.m4:53: -1- AC_DEFUN([_jy_FINDLIBOBJS_NORMALIZE], [ac_findlibobjs=
-ac_ltfindlibobjs=
-for ac_i in : $FINDLIB@&t@OBJS; do test "x$ac_i" = x: && continue
-  # 1. Remove the extension, and $U if already installed.
-  ac_i=`echo "$ac_i" |
-         sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
-  # 2. Add them.
-  ac_findlibobjs="$ac_libobjs $ac_i\$U.$ac_objext"
-  ac_ltfindlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
-done
-AC_SUBST([FINDLIB@&t@OBJS], [$ac_findlibobjs])
-AC_SUBST([LTFINDLIBOBJS], [$ac_ltfindlibobjs])
-])
-m4trace:m4/nullsort.m4:1: -1- AC_DEFUN([jy_SORTZ], [AC_PATH_PROG([SORT], [sort], [sort])
-  AC_MSG_CHECKING([if $SORT supports the -z option])
-# find out if the sort command has a working -z option.
-if $SORT -z -c < "${srcdir:-.}/m4/order-good.bin" 2>/dev/null  >/dev/null
-then
-	# sort has a -z option, but we have not yet established that 
-	# sort thinks there is more than one input line there.   We have 
-	# to make sort -c do its thing with the input lines in the wrong 
-	# order to determine that (we can't do it in one shot because 
-	# if sort returns nonzero we cant tell that it wasn't just 
-	# complaining about this unknown -z option.
-	if $SORT -z -c < "${srcdir:-.}/m4/order-bad.bin" 2>/dev/null >/dev/null
-	then
-		# sort likes -z but it doesn't seem to make \0 
-		# a delimiter.
-		ac_sort_has_z=false
-	else
-		ac_sort_has_z=true
-	fi
-else
-	# Doesn't like the z option.
-	ac_sort_has_z=false
-fi
-if $ac_sort_has_z
-then
-	AC_MSG_RESULT([yes])
-	AC_SUBST(SORT_SUPPORTS_Z,[true])
-else
-	AC_MSG_RESULT([no])
-	AC_SUBST(SORT_SUPPORTS_Z,[false])
-fi
+m4trace:gnulib/m4/absolute-header.m4:19: -1- AC_DEFUN([gl_ABSOLUTE_HEADER], [AC_LANG_PREPROC_REQUIRE()dnl
+AC_FOREACH([gl_HEADER_NAME], [$1],
+  [AS_VAR_PUSHDEF([gl_absolute_header],
+                  [gl_cv_absolute_]m4_quote(m4_defn([gl_HEADER_NAME])))dnl
+  AC_CACHE_CHECK([absolute name of <]m4_quote(m4_defn([gl_HEADER_NAME]))[>],
+    m4_quote(m4_defn([gl_absolute_header])),
+    [AS_VAR_PUSHDEF([ac_header_exists],
+                    [ac_cv_header_]m4_quote(m4_defn([gl_HEADER_NAME])))dnl
+    AC_CHECK_HEADERS_ONCE(m4_quote(m4_defn([gl_HEADER_NAME])))dnl
+    if test AS_VAR_GET(ac_header_exists) = yes; then
+      AC_LANG_CONFTEST([AC_LANG_SOURCE([[#include <]]m4_dquote(m4_defn([gl_HEADER_NAME]))[[>]])])
+dnl eval is necessary to expand ac_cpp.
+dnl Ultrix and Pyramid sh refuse to redirect output of eval, so use subshell.
+      AS_VAR_SET(gl_absolute_header,
+[`(eval "$ac_cpp conftest.$ac_ext") 2>&AS_MESSAGE_LOG_FD |
+sed -n '\#/]m4_quote(m4_defn([gl_HEADER_NAME]))[#{s#.*"\(.*/]m4_quote(m4_defn([gl_HEADER_NAME]))[\)".*#\1#;s#^/[^/]#//&#;p;q;}'`])
+    fi
+    AS_VAR_POPDEF([ac_header_exists])dnl
+    ])dnl
+  AC_DEFINE_UNQUOTED(AS_TR_CPP([ABSOLUTE_]m4_quote(m4_defn([gl_HEADER_NAME]))),
+                     ["AS_VAR_GET(gl_absolute_header)"],
+                     [Define this to an absolute name of <]m4_quote(m4_defn([gl_HEADER_NAME]))[>.])
+  AS_VAR_POPDEF([gl_absolute_header])dnl
+])dnl
 ])
 m4trace:gnulib/m4/alloca.m4:7: -1- AC_DEFUN([gl_FUNC_ALLOCA], [
   dnl Work around a bug of AC_EGREP_CPP in autoconf-2.57.
@@ -868,16 +866,24 @@ m4trace:gnulib/m4/alloca.m4:7: -1- AC_DE
 
   # Define an additional variable used in the Makefile substitution.
   if test $ac_cv_working_alloca_h = yes; then
-    AC_EGREP_CPP([Need own alloca], [
+    AC_CACHE_CHECK([for alloca as a compiler built-in], [gl_cv_rpl_alloca], [
+      AC_EGREP_CPP([Need own alloca], [
 #if defined __GNUC__ || defined _AIX || defined _MSC_VER
-	Need own alloca
+        Need own alloca
 #endif
-      ],
-      [AC_DEFINE(HAVE_ALLOCA, 1,
-	    [Define to 1 if you have `alloca' after including <alloca.h>,
-	     a header that may be supplied by this distribution.])
-       ALLOCA_H=alloca.h],
-      [ALLOCA_H=])
+        ], [gl_cv_rpl_alloca=yes], [gl_cv_rpl_alloca=no])
+    ])
+    if test $gl_cv_rpl_alloca = yes; then
+      dnl OK, alloca can be implemented through a compiler built-in.
+      AC_DEFINE([HAVE_ALLOCA], 1,
+        [Define to 1 if you have 'alloca' after including <alloca.h>,
+         a header that may be supplied by this distribution.])
+      ALLOCA_H=alloca.h
+    else
+      dnl alloca exists as a library function, i.e. it is slow and probably
+      dnl a memory leak. Don't define HAVE_ALLOCA in this case.
+      ALLOCA_H=
+    fi
   else
     ALLOCA_H=alloca.h
   fi
@@ -887,30 +893,155 @@ m4trace:gnulib/m4/alloca.m4:7: -1- AC_DE
     [Define HAVE_ALLOCA_H for backward compatibility with older code
      that includes <alloca.h> only if HAVE_ALLOCA_H is defined.])
 ])
-m4trace:gnulib/m4/alloca.m4:42: -1- AC_DEFUN([gl_PREREQ_ALLOCA], [:])
-m4trace:gnulib/m4/atexit.m4:7: -1- AC_DEFUN([gl_FUNC_ATEXIT], [
-  AC_REPLACE_FUNCS(atexit)
-  if test $ac_cv_func_atexit = no; then
-    gl_PREREQ_ATEXIT
+m4trace:gnulib/m4/alloca.m4:50: -1- AC_DEFUN([gl_PREREQ_ALLOCA], [:])
+m4trace:gnulib/m4/allocsa.m4:7: -1- AC_DEFUN([gl_ALLOCSA], [
+  dnl Use the autoconf tests for alloca(), but not the AC_SUBSTed variables
+  dnl @ALLOCA@ and @LTALLOCA@.
+  dnl gl_FUNC_ALLOCA   dnl Already brought in by the module dependencies.
+  AC_REQUIRE([gl_EEMALLOC])
+  AC_REQUIRE([AC_TYPE_LONG_LONG_INT])
+  AC_REQUIRE([gt_TYPE_LONGDOUBLE])
+])
+m4trace:gnulib/m4/argmatch.m4:7: -1- AC_DEFUN([gl_ARGMATCH], [
+  AC_LIBOBJ([argmatch])
+])
+m4trace:gnulib/m4/bison.m4:8: -1- AC_DEFUN([gl_BISON], [
+  # getdate.y works with bison only.
+  : ${YACC='bison -y'}
+dnl
+dnl Declaring YACC & YFLAGS precious will not be necessary after GNULIB
+dnl requires an Autoconf greater than 2.59c, but it will probably still be
+dnl useful to override the description of YACC in the --help output, re
+dnl getdate.y assuming `bison -y'.
+  AC_ARG_VAR(YACC,
+[The `Yet Another C Compiler' implementation to use.  Defaults to `bison -y'.
+Values other than `bison -y' will most likely break on most systems.])dnl
+  AC_ARG_VAR(YFLAGS,
+[YFLAGS contains the list arguments that will be passed by default to Bison.
+This script will default YFLAGS to the empty string to avoid a default value of
+`-d' given by some make applications.])dnl
+])
+m4trace:gnulib/m4/canonicalize.m4:10: -1- AC_DEFUN([AC_FUNC_CANONICALIZE_FILE_NAME], [
+    AC_LIBOBJ([canonicalize])
+
+    AC_CHECK_HEADERS_ONCE([sys/param.h])
+    AC_CHECK_DECLS_ONCE([canonicalize_file_name])
+    AC_CHECK_FUNCS_ONCE([canonicalize_file_name resolvepath])
+  ])
+m4trace:gnulib/m4/chdir-long.m4:16: -1- AC_DEFUN([gl_FUNC_CHDIR_LONG], [
+  AC_CACHE_CHECK([whether this system has an arbitrary file name length limit],
+    gl_cv_have_arbitrary_file_name_length_limit,
+    [AC_EGREP_CPP([have_arbitrary_file_name_length_limit],
+                  [#include <unistd.h>
+#include <limits.h>
+#if defined PATH_MAX || defined MAXPATHLEN
+have_arbitrary_file_name_length_limit
+#endif],
+    gl_cv_have_arbitrary_file_name_length_limit=yes,
+    gl_cv_have_arbitrary_file_name_length_limit=no)])
+
+  if test $gl_cv_have_arbitrary_file_name_length_limit = yes; then
+    AC_LIBOBJ([chdir-long])
+    gl_PREREQ_CHDIR_LONG
   fi
 ])
-m4trace:gnulib/m4/atexit.m4:16: -1- AC_DEFUN([gl_PREREQ_ATEXIT], [
+m4trace:gnulib/m4/chdir-long.m4:35: -1- AC_DEFUN([gl_PREREQ_CHDIR_LONG], [
+  :
+])
+m4trace:gnulib/m4/chown.m4:17: -1- AC_DEFUN([gl_FUNC_CHOWN], [
+  AC_REQUIRE([gl_UNISTD_H_DEFAULTS])
+  AC_REQUIRE([AC_TYPE_UID_T])
+  AC_REQUIRE([AC_FUNC_CHOWN])
+  AC_REQUIRE([gl_FUNC_CHOWN_FOLLOWS_SYMLINK])
+
+  if test $ac_cv_func_chown_works = no; then
+    AC_DEFINE(CHOWN_FAILS_TO_HONOR_ID_OF_NEGATIVE_ONE, 1,
+      [Define if chown is not POSIX compliant regarding IDs of -1.])
+  fi
+
+  # If chown has either of the above problems, then we need the wrapper.
+  if test $ac_cv_func_chown_works$gl_cv_func_chown_follows_symlink = yesyes; then
+    : # no wrapper needed
+  else
+    REPLACE_CHOWN=1
+    AC_LIBOBJ(chown)
+    gl_PREREQ_CHOWN
+  fi
+])
+m4trace:gnulib/m4/chown.m4:40: -1- AC_DEFUN([gl_FUNC_CHOWN_FOLLOWS_SYMLINK], [
+  AC_CACHE_CHECK(
+    [whether chown(2) dereferences symlinks],
+    gl_cv_func_chown_follows_symlink,
+    [
+      AC_RUN_IFELSE([AC_LANG_SOURCE([[
+#include <unistd.h>
+#include <stdlib.h>
+#include <errno.h>
+
+	int
+	main ()
+	{
+	  char const *dangling_symlink = "conftest.dangle";
+
+	  unlink (dangling_symlink);
+	  if (symlink ("conftest.no-such", dangling_symlink))
+	    abort ();
+
+	  /* Exit successfully on a conforming system,
+	     i.e., where chown must fail with ENOENT.  */
+	  exit ( ! (chown (dangling_symlink, getuid (), getgid ()) != 0
+		    && errno == ENOENT));
+	}
+	]])],
+	[gl_cv_func_chown_follows_symlink=yes],
+	[gl_cv_func_chown_follows_symlink=no],
+	[gl_cv_func_chown_follows_symlink=yes]
+      )
+    ]
+  )
+
+  if test $gl_cv_func_chown_follows_symlink = no; then
+    AC_DEFINE(CHOWN_MODIFIES_SYMLINK, 1,
+      [Define if chown modifies symlinks.])
+  fi
+])
+m4trace:gnulib/m4/chown.m4:80: -1- AC_DEFUN([gl_PREREQ_CHOWN], [
+  AC_CHECK_FUNC([fchown], , [AC_LIBOBJ(fchown-stub)])
+])
+m4trace:gnulib/m4/clock_time.m4:12: -1- AC_DEFUN([gl_CLOCK_TIME], [
+  dnl Persuade glibc and Solaris <time.h> to declare these functions.
+  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
+
+  # Solaris 2.5.1 needs -lposix4 to get the clock_gettime function.
+  # Solaris 7 prefers the library name -lrt to the obsolescent name -lposix4.
+
+  # Save and restore LIBS so e.g., -lrt, isn't added to it.  Otherwise, *all*
+  # programs in the package would end up linked with that potentially-shared
+  # library, inducing unnecessary run-time overhead.
+  gl_saved_libs=$LIBS
+    AC_SEARCH_LIBS(clock_gettime, [rt posix4],
+                   [test "$ac_cv_search_clock_gettime" = "none required" ||
+                    LIB_CLOCK_GETTIME=$ac_cv_search_clock_gettime])
+    AC_SUBST([LIB_CLOCK_GETTIME])
+    AC_CHECK_FUNCS(clock_gettime clock_settime)
+  LIBS=$gl_saved_libs
+])
+m4trace:gnulib/m4/close-stream.m4:7: -1- AC_DEFUN([gl_CLOSE_STREAM], [
+  AC_LIBOBJ([close-stream])
+
+  dnl Prerequisites of lib/close-stream.c.
   :
 ])
-m4trace:gnulib/m4/canonicalize.m4:10: -1- AC_DEFUN([AC_FUNC_CANONICALIZE_FILE_NAME], [
-    AC_REQUIRE([AC_HEADER_STDC])
-    AC_CHECK_HEADERS(string.h sys/param.h stddef.h)
-    AC_CHECK_FUNCS(resolvepath canonicalize_file_name)
-    AC_REQUIRE([AC_HEADER_STAT])
-  ])
 m4trace:gnulib/m4/closeout.m4:7: -1- AC_DEFUN([gl_CLOSEOUT], [
+  AC_LIBOBJ([closeout])
+
   dnl Prerequisites of lib/closeout.c.
   :
 ])
 m4trace:gnulib/m4/codeset.m4:9: -1- AC_DEFUN([AM_LANGINFO_CODESET], [
   AC_CACHE_CHECK([for nl_langinfo and CODESET], am_cv_langinfo_codeset,
     [AC_TRY_LINK([#include <langinfo.h>],
-      [char* cs = nl_langinfo(CODESET);],
+      [char* cs = nl_langinfo(CODESET); return !cs;],
       am_cv_langinfo_codeset=yes,
       am_cv_langinfo_codeset=no)
     ])
@@ -919,26 +1050,16 @@ m4trace:gnulib/m4/codeset.m4:9: -1- AC_D
       [Define if you have <langinfo.h> and nl_langinfo(CODESET).])
   fi
 ])
-m4trace:gnulib/m4/d-ino.m4:15: -1- AC_DEFUN([gl_CHECK_TYPE_STRUCT_DIRENT_D_INO], [AC_REQUIRE([AC_HEADER_DIRENT])dnl
-   AC_CACHE_CHECK([for d_ino member in directory struct],
+m4trace:gnulib/m4/cycle-check.m4:7: -1- AC_DEFUN([gl_CYCLE_CHECK], [
+  AC_REQUIRE([AC_C_INLINE])
+  AC_LIBOBJ([cycle-check])
+])
+m4trace:gnulib/m4/d-ino.m4:15: -1- AC_DEFUN([gl_CHECK_TYPE_STRUCT_DIRENT_D_INO], [AC_CACHE_CHECK([for d_ino member in directory struct],
 		  jm_cv_struct_dirent_d_ino,
      [AC_TRY_LINK(dnl
        [
 #include <sys/types.h>
-#ifdef HAVE_DIRENT_H
-# include <dirent.h>
-#else /* not HAVE_DIRENT_H */
-# define dirent direct
-# ifdef HAVE_SYS_NDIR_H
-#  include <sys/ndir.h>
-# endif /* HAVE_SYS_NDIR_H */
-# ifdef HAVE_SYS_DIR_H
-#  include <sys/dir.h>
-# endif /* HAVE_SYS_DIR_H */
-# ifdef HAVE_NDIR_H
-#  include <ndir.h>
-# endif /* HAVE_NDIR_H */
-#endif /* HAVE_DIRENT_H */
+#include <dirent.h>
        ],
        [struct dirent dp; dp.d_ino = 0;],
 
@@ -953,39 +1074,133 @@ m4trace:gnulib/m4/d-ino.m4:15: -1- AC_DE
    fi
   
 ])
+m4trace:gnulib/m4/d-type.m4:15: -1- AC_DEFUN([gl_CHECK_TYPE_STRUCT_DIRENT_D_TYPE], [AC_CACHE_CHECK([for d_type member in directory struct],
+		  jm_cv_struct_dirent_d_type,
+     [AC_TRY_LINK(dnl
+       [
+#include <sys/types.h>
+#include <dirent.h>
+       ],
+       [struct dirent dp; dp.d_type = 0;],
+
+       jm_cv_struct_dirent_d_type=yes,
+       jm_cv_struct_dirent_d_type=no)
+     ]
+   )
+   if test $jm_cv_struct_dirent_d_type = yes; then
+     AC_DEFINE(HAVE_STRUCT_DIRENT_D_TYPE, 1,
+       [Define if there is a member named d_type in the struct describing
+        directory headers.])
+   fi
+  
+])
+m4trace:gnulib/m4/dirfd.m4:13: -1- AC_DEFUN([gl_FUNC_DIRFD], [
+  dnl Work around a bug of AC_EGREP_CPP in autoconf-2.57.
+  AC_REQUIRE([AC_PROG_CPP])
+  AC_REQUIRE([AC_PROG_EGREP])
+  AC_CHECK_FUNCS(dirfd)
+  AC_CHECK_DECLS([dirfd], , ,
+    [#include <sys/types.h>
+     #include <dirent.h>])
+
+  AC_CACHE_CHECK([whether dirfd is a macro],
+    gl_cv_func_dirfd_macro,
+    [AC_EGREP_CPP([dirent_header_defines_dirfd], [
+#include <sys/types.h>
+#include <dirent.h>
+#ifdef dirfd
+ dirent_header_defines_dirfd
+#endif],
+       gl_cv_func_dirfd_macro=yes,
+       gl_cv_func_dirfd_macro=no)])
+
+  # Use the replacement only if we have no function, macro,
+  # or declaration with that name.
+  if test $ac_cv_func_dirfd,$ac_cv_have_decl_dirfd,$gl_cv_func_dirfd_macro \
+      = no,no,no; then
+    AC_REPLACE_FUNCS([dirfd])
+    AC_CACHE_CHECK(
+	      [how to get the file descriptor associated with an open DIR*],
+		   gl_cv_sys_dir_fd_member_name,
+      [
+	dirfd_save_CFLAGS=$CFLAGS
+	for ac_expr in d_fd dd_fd; do
+
+	  CFLAGS="$CFLAGS -DDIR_FD_MEMBER_NAME=$ac_expr"
+	  AC_TRY_COMPILE(
+	    [#include <sys/types.h>
+	     #include <dirent.h>],
+	    [DIR *dir_p = opendir("."); (void) dir_p->DIR_FD_MEMBER_NAME;],
+	    dir_fd_found=yes
+	  )
+	  CFLAGS=$dirfd_save_CFLAGS
+	  test "$dir_fd_found" = yes && break
+	done
+	test "$dir_fd_found" = yes || ac_expr=no_such_member
+
+	gl_cv_sys_dir_fd_member_name=$ac_expr
+      ]
+    )
+    if test $gl_cv_sys_dir_fd_member_name != no_such_member; then
+      AC_DEFINE_UNQUOTED(DIR_FD_MEMBER_NAME,
+	$gl_cv_sys_dir_fd_member_name,
+	[the name of the file descriptor member of DIR])
+    fi
+    AH_VERBATIM(DIR_TO_FD,
+		[#ifdef DIR_FD_MEMBER_NAME
+# define DIR_TO_FD(Dir_p) ((Dir_p)->DIR_FD_MEMBER_NAME)
+#else
+# define DIR_TO_FD(Dir_p) -1
+#endif
+])
+  fi
+])
 m4trace:gnulib/m4/dirname.m4:7: -1- AC_DEFUN([gl_DIRNAME], [
+  AC_LIBOBJ([basename])
+  AC_LIBOBJ([dirname])
+  AC_LIBOBJ([stripslash])
+
   dnl Prerequisites of lib/dirname.h.
   AC_REQUIRE([gl_AC_DOS])
+  AC_REQUIRE([gl_DOUBLE_SLASH_ROOT])
 
   dnl No prerequisites of lib/basename.c, lib/dirname.c, lib/stripslash.c.
 ])
 m4trace:gnulib/m4/dos.m4:13: -1- AC_DEFUN([gl_AC_DOS], [
     AC_CACHE_CHECK([whether system is Windows or MSDOS], [ac_cv_win_or_dos],
       [
-        AC_TRY_COMPILE([],
-        [#if !defined _WIN32 && !defined __WIN32__ && !defined __MSDOS__ && !defined __CYGWIN__
+	AC_TRY_COMPILE([],
+	[#if !defined _WIN32 && !defined __WIN32__ && !defined __MSDOS__ && !defined __CYGWIN__
 neither MSDOS nor Windows
 #endif],
-        [ac_cv_win_or_dos=yes],
-        [ac_cv_win_or_dos=no])
+	[ac_cv_win_or_dos=yes],
+	[ac_cv_win_or_dos=no])
       ])
 
     if test x"$ac_cv_win_or_dos" = xyes; then
       ac_fs_accepts_drive_letter_prefix=1
       ac_fs_backslash_is_file_name_separator=1
+      AC_CACHE_CHECK([whether drive letter can start relative path],
+		     [ac_cv_drive_letter_can_be_relative],
+	[
+	  AC_TRY_COMPILE([],
+	  [#if defined __CYGWIN__
+drive letters are always absolute
+#endif],
+	  [ac_cv_drive_letter_can_be_relative=yes],
+	  [ac_cv_drive_letter_can_be_relative=no])
+	])
+      if test x"$ac_cv_drive_letter_can_be_relative" = xyes; then
+	ac_fs_drive_letter_can_be_relative=1
+      else
+	ac_fs_drive_letter_can_be_relative=0
+      fi
     else
       ac_fs_accepts_drive_letter_prefix=0
       ac_fs_backslash_is_file_name_separator=0
+      ac_fs_drive_letter_can_be_relative=0
     fi
 
-    AH_VERBATIM(FILE_SYSTEM_PREFIX_LEN,
-    [#if FILE_SYSTEM_ACCEPTS_DRIVE_LETTER_PREFIX
-# define FILE_SYSTEM_PREFIX_LEN(Filename) \
-  ((Filename)[0] && (Filename)[1] == ':' ? 2 : 0)
-#else
-# define FILE_SYSTEM_PREFIX_LEN(Filename) 0
-#endif])
-
     AC_DEFINE_UNQUOTED([FILE_SYSTEM_ACCEPTS_DRIVE_LETTER_PREFIX],
       $ac_fs_accepts_drive_letter_prefix,
       [Define on systems for which file names may have a so-called
@@ -1003,7 +1218,64 @@ neither MSDOS nor Windows
       $ac_fs_backslash_is_file_name_separator,
       [Define if the backslash character may also serve as a file name
        component separator.])
+
+    AC_DEFINE_UNQUOTED([FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE],
+      $ac_fs_drive_letter_can_be_relative,
+      [Define if a drive letter prefix denotes a relative path if it is
+       not followed by a file name component separator.])
   ])
+m4trace:gnulib/m4/double-slash-root.m4:7: -1- AC_DEFUN([gl_DOUBLE_SLASH_ROOT], [
+  AC_REQUIRE([AC_CANONICAL_HOST])
+  AC_CACHE_CHECK([whether // is distinct from /], [gl_cv_double_slash_root],
+    [ if test x"$cross_compiling" = xyes ; then
+	# When cross-compiling, there is no way to tell whether // is special
+	# short of a list of hosts.  However, the only known hosts to date
+	# that have a distinct // are Apollo DomainOS (too old to port to),
+	# Cygwin, and z/OS.  If anyone knows of another system for which // has
+	# special semantics and is distinct from /, please report it to
+	# <bug-gnulib@gnu.org>.
+	case $host in
+	  *-cygwin | i370-ibm-openedition)
+	    gl_cv_double_slash_root=yes ;;
+	  *)
+	    # Be optimistic and assume that / and // are the same when we
+	    # don't know.
+	    gl_cv_double_slash_root='unknown, assuming no' ;;
+	esac
+      else
+	set x `ls -di / //`
+	if test $[2] = $[4] && wc //dev/null >/dev/null 2>&1; then
+	  gl_cv_double_slash_root=no
+	else
+	  gl_cv_double_slash_root=yes
+	fi
+      fi])
+  if test "$gl_cv_double_slash_root" = yes; then
+    AC_DEFINE([DOUBLE_SLASH_IS_DISTINCT_ROOT], 1,
+      [Define to 1 if // is a file system root distinct from /.])
+  fi
+])
+m4trace:gnulib/m4/eealloc.m4:7: -1- AC_DEFUN([gl_EEALLOC], [
+  AC_REQUIRE([gl_EEMALLOC])
+  AC_REQUIRE([gl_EEREALLOC])
+  AC_REQUIRE([AC_C_INLINE])
+])
+m4trace:gnulib/m4/eealloc.m4:14: -1- AC_DEFUN([gl_EEMALLOC], [
+  _AC_FUNC_MALLOC_IF(
+    [gl_cv_func_malloc_0_nonnull=1],
+    [gl_cv_func_malloc_0_nonnull=0])
+  AC_DEFINE_UNQUOTED([MALLOC_0_IS_NONNULL], $gl_cv_func_malloc_0_nonnull,
+    [If malloc(0) is != NULL, define this to 1.  Otherwise define this
+     to 0.])
+])
+m4trace:gnulib/m4/eealloc.m4:24: -1- AC_DEFUN([gl_EEREALLOC], [
+  _AC_FUNC_REALLOC_IF(
+    [gl_cv_func_realloc_0_nonnull=1],
+    [gl_cv_func_realloc_0_nonnull=0])
+  AC_DEFINE_UNQUOTED([REALLOC_0_IS_NONNULL], $gl_cv_func_realloc_0_nonnull,
+    [If realloc(NULL,0) is != NULL, define this to 1.  Otherwise define this
+     to 0.])
+])
 m4trace:gnulib/m4/error.m4:10: -1- AC_DEFUN([gl_ERROR], [
   AC_FUNC_ERROR_AT_LINE
   dnl Note: AC_FUNC_ERROR_AT_LINE does AC_LIBSOURCES([error.h, error.c]).
@@ -1014,23 +1286,87 @@ m4trace:gnulib/m4/error.m4:18: -1- AC_DE
   :
 ])
 m4trace:gnulib/m4/exitfail.m4:7: -1- AC_DEFUN([gl_EXITFAIL], [
+  AC_LIBOBJ([exitfail])
+
   dnl No prerequisites of lib/exitfail.c.
   :
 ])
-m4trace:gnulib/m4/extensions.m4:12: -1- AC_DEFUN([gl_USE_SYSTEM_EXTENSIONS], [
-  AC_BEFORE([$0], [AC_COMPILE_IFELSE])
-  AC_BEFORE([$0], [AC_RUN_IFELSE])
+m4trace:gnulib/m4/extensions.m4:58: -1- AC_DEFUN([gl_USE_SYSTEM_EXTENSIONS], [AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])])
+m4trace:gnulib/m4/fcntl-safer.m4:7: -1- AC_DEFUN([gl_FCNTL_SAFER], [
+  AC_LIBOBJ([open-safer])
+  AC_LIBOBJ([creat-safer])
+])
+m4trace:gnulib/m4/fcntl_h.m4:9: -1- AC_DEFUN([gl_FCNTL_H], [
+  AC_CACHE_CHECK([for working fcntl.h], gl_cv_header_working_fcntl_h,
+    [AC_RUN_IFELSE(
+       [AC_LANG_PROGRAM(
+	  [[#include <sys/types.h>
+	   #include <sys/stat.h>
+	   #include <unistd.h>
+	   #include <fcntl.h>
+	   #ifndef O_NOATIME
+	    #define O_NOATIME 0
+	   #endif
+	   #ifndef O_NOFOLLOW
+	    #define O_NOFOLLOW 0
+	   #endif
+	   static int const constants[] =
+	    {
+	      O_CREAT, O_EXCL, O_NOCTTY, O_TRUNC, O_APPEND,
+	      O_NONBLOCK, O_SYNC, O_ACCMODE, O_RDONLY, O_RDWR, O_WRONLY
+	    };
+	  ]],
+	  [[
+	    int status = !constants;
+	    {
+	      static char const sym[] = "conftest.sym";
+	      if (symlink (".", sym) != 0
+		  || close (open (sym, O_RDONLY | O_NOFOLLOW)) == 0)
+		status |= 32;
+	    }
+	    {
+	      static char const file[] = "confdefs.h";
+	      int fd = open (file, O_RDONLY | O_NOATIME);
+	      char c;
+	      struct stat st0, st1;
+	      if (fd < 0
+		  || fstat (fd, &st0) != 0
+		  || sleep (1) != 0
+		  || read (fd, &c, 1) != 1
+		  || close (fd) != 0
+		  || stat (file, &st1) != 0
+		  || st0.st_atime != st1.st_atime)
+		status |= 64;
+	    }
+	    return status;]])],
+       [gl_cv_header_working_fcntl_h=yes],
+       [case $? in #(
+	32) gl_cv_header_working_fcntl_h='no (bad O_NOFOLLOW)';; #(
+	64) gl_cv_header_working_fcntl_h='no (bad O_NOATIME)';; #(
+	96) gl_cv_header_working_fcntl_h='no (bad O_NOATIME, O_NOFOLLOW)';; #(
+	 *) gl_cv_header_working_fcntl_h='no';;
+	esac],
+       [gl_cv_header_working_fcntl_h=cross-compiling])])
+
+  case $gl_cv_header_working_fcntl_h in #(
+  *O_NOATIME* | no | cross-compiling) ac_val=0;; #(
+  *) ac_val=1;;
+  esac
+  AC_DEFINE_UNQUOTED([HAVE_WORKING_O_NOATIME], [$ac_val],
+    [Define to 1 if O_NOATIME works.])
 
-  AC_REQUIRE([AC_GNU_SOURCE])
-  AC_REQUIRE([AC_AIX])
-  AC_REQUIRE([AC_MINIX])
+  case $gl_cv_header_working_fcntl_h in #(
+  *O_NOFOLLOW* | no | cross-compiling) ac_val=0;; #(
+  *) ac_val=1;;
+  esac
+  AC_DEFINE_UNQUOTED([HAVE_WORKING_O_NOFOLLOW], [$ac_val],
+    [Define to 1 if O_NOFOLLOW works.])
 
-  AH_VERBATIM([__EXTENSIONS__],
-[/* Enable extensions on Solaris.  */
-#ifndef __EXTENSIONS__
-# undef __EXTENSIONS__
-#endif])
-  AC_DEFINE([__EXTENSIONS__])
+  gl_ABSOLUTE_HEADER([fcntl.h])
+  ABSOLUTE_FCNTL_H=\"$gl_cv_absolute_fcntl_h\"
+  AC_SUBST([ABSOLUTE_FCNTL_H])
+  FCNTL_H='fcntl.h'
+  AC_SUBST([FCNTL_H])
 ])
 m4trace:gnulib/m4/fileblocks.m4:7: -1- AC_DEFUN([gl_FILEBLOCKS], [
   AC_STRUCT_ST_BLOCKS
@@ -1040,13 +1376,51 @@ m4trace:gnulib/m4/fileblocks.m4:7: -1- A
   fi
 ])
 m4trace:gnulib/m4/fileblocks.m4:17: -1- AC_DEFUN([gl_PREREQ_FILEBLOCKS], [
-  AC_CHECK_HEADERS_ONCE(sys/param.h unistd.h)
+  AC_CHECK_HEADERS_ONCE(sys/param.h)
+  :
 ])
 m4trace:gnulib/m4/filemode.m4:7: -1- AC_DEFUN([gl_FILEMODE], [
-  dnl Prerequisites of lib/filemode.c.
-  AC_REQUIRE([AC_HEADER_STAT])
+  AC_REQUIRE([AC_STRUCT_ST_DM_MODE])
+  AC_LIBOBJ([filemode])
+  AC_CHECK_DECLS_ONCE([strmode])
 ])
-m4trace:gnulib/m4/fnmatch.m4:15: -1- AC_DEFUN([_AC_FUNC_FNMATCH_IF], [AC_CACHE_CHECK(
+m4trace:gnulib/m4/filenamecat.m4:7: -1- AC_DEFUN([gl_FILE_NAME_CONCAT], [
+  AC_LIBOBJ([filenamecat])
+
+  dnl Prerequisites of lib/filenamecat.c.
+  AC_CHECK_FUNCS_ONCE(mempcpy)
+])
+m4trace:gnulib/m4/flexmember.m4:11: -1- AC_DEFUN([AC_C_FLEXIBLE_ARRAY_MEMBER], [
+  AC_CACHE_CHECK([for flexible array member],
+    ac_cv_c_flexmember,
+    [AC_COMPILE_IFELSE(
+       [AC_LANG_PROGRAM(
+	  [[#include <stdlib.h>
+	    #include <stdio.h>
+	    #include <stddef.h>
+	    struct s { int n; double d[]; };]],
+	  [[int m = getchar ();
+	    struct s *p = malloc (offsetof (struct s, d)
+				  + m * sizeof (double));
+	    p->d[0] = 0.0;
+	    return p->d != (double *) NULL;]])],
+       [ac_cv_c_flexmember=yes],
+       [ac_cv_c_flexmember=no])])
+  if test $ac_cv_c_flexmember = yes; then
+    AC_DEFINE([FLEXIBLE_ARRAY_MEMBER], [],
+      [Define to nothing if C supports flexible array members, and to
+       1 if it does not.  That way, with a declaration like `struct s
+       { int n; double d@<:@FLEXIBLE_ARRAY_MEMBER@:>@; };', the struct hack
+       can be used with pre-C99 compilers.
+       When computing the size of such an object, don't use 'sizeof (struct s)'
+       as it overestimates the size.  Use 'offsetof (struct s, d)' instead.
+       Don't use 'offsetof (struct s, d@<:@0@:>@)', as this doesn't work with
+       MSVC and with C++ compilers.])
+  else
+    AC_DEFINE([FLEXIBLE_ARRAY_MEMBER], 1)
+  fi
+])
+m4trace:gnulib/m4/fnmatch.m4:16: -1- AC_DEFUN([_AC_FUNC_FNMATCH_IF], [AC_CACHE_CHECK(
    [for working $1 fnmatch],
    [$2],
   [dnl Some versions of Solaris, SCO, and the GNU C Library
@@ -1055,46 +1429,70 @@ m4trace:gnulib/m4/fnmatch.m4:15: -1- AC_
    dnl Thanks to John Oleynick, Fran√ßois Pinard, and Paul Eggert for this test.
    AC_RUN_IFELSE(
       [AC_LANG_PROGRAM(
-	 [
-#	   include <stdlib.h>
-#	   include <fnmatch.h>
-#	   define y(a, b, c) (fnmatch (a, b, c) == 0)
-#	   define n(a, b, c) (fnmatch (a, b, c) == FNM_NOMATCH)
-         ],
-	 [exit
-	   (!(y ("a*", "abc", 0)
+	 [[#include <fnmatch.h>
+	   static int
+	   y (char const *pattern, char const *string, int flags)
+	   {
+	     return fnmatch (pattern, string, flags) == 0;
+	   }
+	   static int
+	   n (char const *pattern, char const *string, int flags)
+	   {
+	     return fnmatch (pattern, string, flags) == FNM_NOMATCH;
+	   }
+	 ]],
+	 [[char const *Apat = 'A' < '\\\\' ? "[A-\\\\\\\\]" : "[\\\\\\\\-A]";
+	   char const *apat = 'a' < '\\\\' ? "[a-\\\\\\\\]" : "[\\\\\\\\-a]";
+	   static char const A_1[] = { 'A' - 1, 0 };
+	   static char const A01[] = { 'A' + 1, 0 };
+	   static char const a_1[] = { 'a' - 1, 0 };
+	   static char const a01[] = { 'a' + 1, 0 };
+	   static char const bs_1[] = { '\\\\' - 1, 0 };
+	   static char const bs01[] = { '\\\\' + 1, 0 };
+	   return
+	    !(n ("a*", "", 0)
+	      && y ("a*", "abc", 0)
 	      && n ("d*/*1", "d/s/1", FNM_PATHNAME)
 	      && y ("a\\\\bc", "abc", 0)
 	      && n ("a\\\\bc", "abc", FNM_NOESCAPE)
 	      && y ("*x", ".x", 0)
 	      && n ("*x", ".x", FNM_PERIOD)
-	      && m4_if([$1], [GNU],
+	      && y (Apat, "\\\\", 0) && y (Apat, "A", 0)
+	      && y (apat, "\\\\", 0) && y (apat, "a", 0)
+	      && n (Apat, A_1, 0) == ('A' < '\\\\')
+	      && n (apat, a_1, 0) == ('a' < '\\\\')
+	      && y (Apat, A01, 0) == ('A' < '\\\\')
+	      && y (apat, a01, 0) == ('a' < '\\\\')
+	      && y (Apat, bs_1, 0) == ('A' < '\\\\')
+	      && y (apat, bs_1, 0) == ('a' < '\\\\')
+	      && n (Apat, bs01, 0) == ('A' < '\\\\')
+	      && n (apat, bs01, 0) == ('a' < '\\\\')
+	      && ]m4_if([$1], [GNU],
 		   [y ("xxXX", "xXxX", FNM_CASEFOLD)
 		    && y ("a++(x|yy)b", "a+xyyyyxb", FNM_EXTMATCH)
 		    && n ("d*/*1", "d/s/1", FNM_FILE_NAME)
 		    && y ("*", "x", FNM_FILE_NAME | FNM_LEADING_DIR)
 		    && y ("x*", "x/y/z", FNM_FILE_NAME | FNM_LEADING_DIR)
 		    && y ("*c*", "c/x", FNM_FILE_NAME | FNM_LEADING_DIR)],
-		   1)));])],
+		   1))[;]])],
       [$2=yes],
       [$2=no],
       [$2=cross])])
 AS_IF([test $$2 = yes], [$3], [$4])
 ])
-m4trace:gnulib/m4/fnmatch.m4:56: -1- AC_DEFUN([_AC_LIBOBJ_FNMATCH], [AC_REQUIRE([AC_C_CONST])dnl
-AC_REQUIRE([AC_FUNC_ALLOCA])dnl
+m4trace:gnulib/m4/fnmatch.m4:82: -1- AC_DEFUN([_AC_LIBOBJ_FNMATCH], [AC_REQUIRE([AC_FUNC_ALLOCA])dnl
 AC_REQUIRE([AC_TYPE_MBSTATE_T])dnl
-AC_CHECK_DECLS([getenv])
-AC_CHECK_FUNCS([btowc mbsrtowcs mempcpy wmemchr wmemcpy wmempcpy])
-AC_CHECK_HEADERS([wchar.h wctype.h])
+AC_CHECK_DECLS([isblank], [], [], [#include <ctype.h>])
+AC_CHECK_FUNCS_ONCE([btowc iswctype mbsrtowcs mempcpy wmemchr wmemcpy wmempcpy])
+AC_CHECK_HEADERS_ONCE([wctype.h])
 AC_LIBOBJ([fnmatch])
 FNMATCH_H=fnmatch.h
 ])
-m4trace:gnulib/m4/fnmatch.m4:68: -1- AC_DEFUN([gl_FUNC_FNMATCH_POSIX], [
+m4trace:gnulib/m4/fnmatch.m4:93: -1- AC_DEFUN([gl_FUNC_FNMATCH_POSIX], [
   FNMATCH_H=
   _AC_FUNC_FNMATCH_IF([POSIX], [ac_cv_func_fnmatch_posix],
-                      [rm -f lib/fnmatch.h],
-                      [_AC_LIBOBJ_FNMATCH])
+		      [rm -f lib/fnmatch.h],
+		      [_AC_LIBOBJ_FNMATCH])
   if test $ac_cv_func_fnmatch_posix != yes; then
     dnl We must choose a different name for our function, since on ELF systems
     dnl a broken fnmatch() in libc.so would override our fnmatch() if it is
@@ -1104,14 +1502,14 @@ m4trace:gnulib/m4/fnmatch.m4:68: -1- AC_
   fi
   AC_SUBST([FNMATCH_H])
 ])
-m4trace:gnulib/m4/fnmatch.m4:85: -1- AC_DEFUN([gl_FUNC_FNMATCH_GNU], [
+m4trace:gnulib/m4/fnmatch.m4:110: -1- AC_DEFUN([gl_FUNC_FNMATCH_GNU], [
   dnl Persuade glibc <fnmatch.h> to declare FNM_CASEFOLD etc.
   AC_REQUIRE([AC_GNU_SOURCE])
 
   FNMATCH_H=
   _AC_FUNC_FNMATCH_IF([GNU], [ac_cv_func_fnmatch_gnu],
-                      [rm -f lib/fnmatch.h],
-                      [_AC_LIBOBJ_FNMATCH])
+		      [rm -f lib/fnmatch.h],
+		      [_AC_LIBOBJ_FNMATCH])
   if test $ac_cv_func_fnmatch_gnu != yes; then
     dnl We must choose a different name for our function, since on ELF systems
     dnl a broken fnmatch() in libc.so would override our fnmatch() if it is
@@ -1122,9 +1520,10 @@ m4trace:gnulib/m4/fnmatch.m4:85: -1- AC_
   AC_SUBST([FNMATCH_H])
 ])
 m4trace:gnulib/m4/fpending.m4:16: -1- AC_DEFUN([gl_FUNC_FPENDING], [
-  AC_CHECK_HEADERS(stdio_ext.h)
+  AC_CHECK_HEADERS_ONCE(stdio_ext.h)
   AC_REPLACE_FUNCS([__fpending])
   fp_headers='
+#     include <stdio.h>
 #     if HAVE_STDIO_EXT_H
 #      include <stdio_ext.h>
 #     endif
@@ -1147,7 +1546,7 @@ m4trace:gnulib/m4/fpending.m4:16: -1- AC
 	    'fp->_p - fp->_bf._base'				\
 								\
 	    '# SCO, Unixware'					\
-	    'fp->__ptr - fp->__base'				\
+	    '(fp->__ptr ? fp->__ptr - fp->__base : 0)'		\
 								\
 	    '# old glibc?'					\
 	    'fp->__bufp - fp->__buffer'				\
@@ -1183,31 +1582,124 @@ m4trace:gnulib/m4/fpending.m4:16: -1- AC
   fi
 ])
 m4trace:gnulib/m4/fstypename.m4:14: -1- AC_DEFUN([gl_FSTYPENAME], [
-    AC_CACHE_CHECK([for f_fstypename in struct statfs],
-		   fu_cv_sys_f_fstypename_in_statfs,
-      [
-	AC_TRY_COMPILE(
-	  [
-#include <sys/param.h>
-#include <sys/types.h>
-#include <sys/mount.h>
-	  ],
-	  [struct statfs s; int i = sizeof s.f_fstypename;],
-	  fu_cv_sys_f_fstypename_in_statfs=yes,
-	  fu_cv_sys_f_fstypename_in_statfs=no
-	)
-      ]
-    )
+  AC_CHECK_MEMBERS([struct statfs.f_fstypename],,,
+    [
+      #include <sys/types.h>
+      #include <sys/param.h>
+      #include <sys/mount.h>
+    ])
+])
+m4trace:gnulib/m4/fts.m4:7: -1- AC_DEFUN([gl_FUNC_FTS], [
+  gl_FUNC_FTS_CORE
+])
+m4trace:gnulib/m4/fts.m4:12: -1- AC_DEFUN([gl_FUNC_FTS_LGPL], [
+  gl_FUNC_FTS_CORE
+])
+m4trace:gnulib/m4/fts.m4:17: -1- AC_DEFUN([gl_FUNC_FTS_CORE], [
+  dnl Use this version of fts unconditionally, since the GNU libc and
+  dnl NetBSD versions have bugs and/or unnecessary limitations.
+  AC_LIBOBJ([fts])
 
-    if test $fu_cv_sys_f_fstypename_in_statfs = yes; then
-      AC_DEFINE(HAVE_F_FSTYPENAME_IN_STATFS, 1,
-		[Define if struct statfs has the f_fstypename member.])
-    fi
-  
+  dnl Prerequisites of lib/fts.c.
+  gl_FUNC_OPENAT
+
+  # Checks for header files.
+  AC_CHECK_HEADERS_ONCE([sys/param.h])dnl
+])
+m4trace:gnulib/m4/getcwd-abort-bug.m4:14: -1- AC_DEFUN([gl_FUNC_GETCWD_ABORT_BUG], [
+  AC_CHECK_DECLS_ONCE(getcwd)
+  AC_CHECK_FUNCS(getpagesize)
+  AC_CACHE_CHECK([whether getcwd aborts when 4k < cwd_length < 16k],
+    gl_cv_func_getcwd_abort_bug,
+    [# Remove any remnants of a previous test.
+     rm -rf confdir-14B---
+     # Arrange for deletion of the temporary directory this test creates.
+     ac_clean_files="$ac_clean_files confdir-14B---"
+     AC_RUN_IFELSE(
+       [AC_LANG_SOURCE(
+	  [[
+#include <stdlib.h>
+#include <unistd.h>
+#include <limits.h>
+#include <string.h>
+#include <sys/stat.h>
+
+/* Don't get link errors because mkdir is redefined to rpl_mkdir.  */
+#undef mkdir
+
+#ifndef S_IRWXU
+# define S_IRWXU 0700
+#endif
+
+/* FIXME: skip the run-test altogether on systems without getpagesize.  */
+#if ! HAVE_GETPAGESIZE
+# define getpagesize() 0
+#endif
+
+/* This size is chosen to be larger than PATH_MAX (4k), yet smaller than
+   the 16kB pagesize on ia64 linux.  Those conditions make the code below
+   trigger a bug in glibc's getcwd implementation before 2.4.90-10.  */
+#define TARGET_LEN (5 * 1024)
+
+int
+main ()
+{
+  char const *dir_name = "confdir-14B---";
+  char *cwd;
+  size_t initial_cwd_len;
+  int fail = 0;
+  size_t desired_depth;
+  size_t d;
+
+  /* The bug is triggered when PATH_MAX < getpagesize (), so skip
+     this relative expensive and invasive test if that's not true.  */
+  if (getpagesize () <= PATH_MAX)
+    return 0;
+
+  cwd = getcwd (NULL, 0);
+  if (cwd == NULL)
+    return 0;
+
+  initial_cwd_len = strlen (cwd);
+  free (cwd);
+  desired_depth = ((TARGET_LEN - 1 - initial_cwd_len)
+		   / (1 + strlen (dir_name)));
+  for (d = 0; d < desired_depth; d++)
+    {
+      if (mkdir (dir_name, S_IRWXU) < 0 || chdir (dir_name) < 0)
+	{
+	  fail = 3; /* Unable to construct deep hierarchy.  */
+	  break;
+	}
+    }
+
+  /* If libc has the bug in question, this invocation of getcwd
+     results in a failed assertion.  */
+  cwd = getcwd (NULL, 0);
+  if (cwd == NULL)
+    fail = 4; /* getcwd failed.  This is ok, and expected.  */
+  free (cwd);
+
+  /* Call rmdir first, in case the above chdir failed.  */
+  rmdir (dir_name);
+  while (0 < d--)
+    {
+      if (chdir ("..") < 0)
+	break;
+      rmdir (dir_name);
+    }
+
+  return 0;
+}
+          ]])],
+    [gl_cv_func_getcwd_abort_bug=no],
+    [gl_cv_func_getcwd_abort_bug=yes],
+    [gl_cv_func_getcwd_abort_bug=yes])
+  ])
+  AS_IF([test $gl_cv_func_getcwd_abort_bug = yes], [$1], [$2])
 ])
 m4trace:gnulib/m4/getcwd-path-max.m4:16: -1- AC_DEFUN([gl_FUNC_GETCWD_PATH_MAX], [
   AC_CHECK_DECLS_ONCE(getcwd)
-  AC_CHECK_HEADERS_ONCE(fcntl.h)
   AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
   AC_CACHE_CHECK([whether getcwd handles long file names properly],
     gl_cv_func_getcwd_path_max,
@@ -1223,9 +1715,7 @@ m4trace:gnulib/m4/getcwd-path-max.m4:16:
 #include <limits.h>
 #include <sys/stat.h>
 #include <sys/types.h>
-#if HAVE_FCNTL_H
-# include <fcntl.h>
-#endif
+#include <fcntl.h>
 
 #ifndef AT_FDCWD
 # define AT_FDCWD 0
@@ -1255,7 +1745,7 @@ m4trace:gnulib/m4/getcwd-path-max.m4:16:
 #define BUF_SLOP 20
 
 int
-main (void)
+main ()
 {
 #ifndef PATH_MAX
   /* The Hurd doesn't define this, so getcwd can't exhibit the bug --
@@ -1289,11 +1779,15 @@ main (void)
       char *c = NULL;
 
       cwd_len += DIR_NAME_SIZE;
-      /* If mkdir or chdir fails, be pessimistic and consider that
-	 as a failure, too.  */
+      /* If mkdir or chdir fails, it could be that this system cannot create
+	 any file with an absolute name longer than PATH_MAX, such as cygwin.
+	 If so, leave fail as 0, because the current working directory can't
+	 be too long for getcwd if it can't even be created.  For other
+	 errors, be pessimistic and consider that as a failure, too.  */
       if (mkdir (DIR_NAME, S_IRWXU) < 0 || chdir (DIR_NAME) < 0)
 	{
-	  fail = 2;
+	  if (! (errno == ERANGE || is_ENAMETOOLONG (errno)))
+	    fail = 2;
 	  break;
 	}
 
@@ -1347,13 +1841,14 @@ main (void)
   {
     size_t i;
 
-    /* Unlink first, in case the chdir failed.  */
-    unlink (DIR_NAME);
+    /* Try rmdir first, in case the chdir failed.  */
+    rmdir (DIR_NAME);
     for (i = 0; i <= n_chdirs; i++)
       {
 	if (chdir ("..") < 0)
 	  break;
-	rmdir (DIR_NAME);
+	if (rmdir (DIR_NAME) != 0)
+	  break;
       }
   }
 
@@ -1378,15 +1873,12 @@ main (void)
   esac
 ])
 m4trace:gnulib/m4/getcwd.m4:10: -1- AC_DEFUN([gl_FUNC_GETCWD_NULL], [
-   AC_CHECK_HEADERS_ONCE(unistd.h)
    AC_CACHE_CHECK([whether getcwd (NULL, 0) allocates memory for result],
      [gl_cv_func_getcwd_null],
      [AC_TRY_RUN(
         [
 #	 include <stdlib.h>
-#	 ifdef HAVE_UNISTD_H
-#	  include <unistd.h>
-#	 endif
+#	 include <unistd.h>
 #	 ifndef getcwd
 	 char *getcwd ();
 #	 endif
@@ -1405,39 +1897,81 @@ m4trace:gnulib/m4/getcwd.m4:10: -1- AC_D
 	[gl_cv_func_getcwd_null=no],
 	[gl_cv_func_getcwd_null=no])])
 ])
-m4trace:gnulib/m4/getcwd.m4:40: -1- AC_DEFUN([gl_FUNC_GETCWD], [
+m4trace:gnulib/m4/getcwd.m4:37: -1- AC_DEFUN([gl_FUNC_GETCWD], [
+  AC_REQUIRE([gl_UNISTD_H_DEFAULTS])
   AC_REQUIRE([gl_FUNC_GETCWD_NULL])
 
+  gl_abort_bug=no
   case $gl_cv_func_getcwd_null in
-  yes) gl_FUNC_GETCWD_PATH_MAX;;
+  yes)
+    gl_FUNC_GETCWD_PATH_MAX
+    gl_FUNC_GETCWD_ABORT_BUG([gl_abort_bug=yes]);;
   esac
 
-  case $gl_cv_func_getcwd_null,$gl_cv_func_getcwd_path_max in
-  yes,yes) ;;
+  case $gl_cv_func_getcwd_null,$gl_cv_func_getcwd_path_max,$gl_abort_bug in
+  yes,yes,no) ;;
   *)
+    REPLACE_GETCWD=1
     AC_LIBOBJ([getcwd])
-    AC_DEFINE([__GETCWD_PREFIX], [[rpl_]],
-      [Define to rpl_ if the getcwd replacement function should be used.])
     gl_PREREQ_GETCWD;;
   esac
 ])
 m4trace:gnulib/m4/getcwd.m4:59: -1- AC_DEFUN([gl_PREREQ_GETCWD], [
   AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
-  AC_REQUIRE([AC_HEADER_DIRENT])
   AC_REQUIRE([gl_CHECK_TYPE_STRUCT_DIRENT_D_INO])
-  AC_CHECK_HEADERS_ONCE(fcntl.h)
   :
 ])
-m4trace:gnulib/m4/getline.m4:16: -1- AC_DEFUN([AM_FUNC_GETLINE], [
-  dnl Persuade glibc <stdio.h> to declare getline() and getdelim().
+m4trace:gnulib/m4/getdate.m4:7: -1- AC_DEFUN([gl_C_COMPOUND_LITERALS], [
+  AC_CACHE_CHECK([for compound literals], gl_cv_compound_literals,
+  [AC_TRY_COMPILE([struct s { int i, j; }; struct s s = (struct s) { 1, 2 };],
+    [struct s t = (struct s) { 3, 4 };
+     if (t.i != 0) return 0;],
+    gl_cv_compound_literals=yes,
+    gl_cv_compound_literals=no)])
+  if test $gl_cv_compound_literals = yes; then
+    AC_DEFINE(HAVE_COMPOUND_LITERALS, 1,
+      [Define if you have compound literals.])
+  fi
+])
+m4trace:gnulib/m4/getdate.m4:21: -1- AC_DEFUN([gl_GETDATE], [
+  dnl Prerequisites of lib/getdate.h.
+  AC_REQUIRE([AM_STDBOOL_H])
+  AC_REQUIRE([gl_TIMESPEC])
+
+  dnl Prerequisites of lib/getdate.y.
+  AC_REQUIRE([gl_BISON])
+  AC_REQUIRE([gl_C_COMPOUND_LITERALS])
+  AC_STRUCT_TIMEZONE
+  AC_REQUIRE([gl_CLOCK_TIME])
+  AC_REQUIRE([gl_TM_GMTOFF])
+])
+m4trace:gnulib/m4/getdelim.m4:11: -1- AC_DEFUN([gl_FUNC_GETDELIM], [
+
+  dnl Persuade glibc <stdio.h> to declare getdelim().
   AC_REQUIRE([AC_GNU_SOURCE])
 
-  am_getline_needs_run_time_check=no
+  AC_REPLACE_FUNCS(getdelim)
+  AC_CHECK_DECLS_ONCE(getdelim)
+
+  if test $ac_cv_func_getdelim = no; then
+    gl_PREREQ_GETDELIM
+  fi
+])
+m4trace:gnulib/m4/getdelim.m4:26: -1- AC_DEFUN([gl_PREREQ_GETDELIM], [
+  AC_CHECK_FUNCS([flockfile funlockfile])
+])
+m4trace:gnulib/m4/getline.m4:16: -1- AC_DEFUN([gl_FUNC_GETLINE], [
+  dnl Persuade glibc <stdio.h> to declare getline().
+  AC_REQUIRE([AC_GNU_SOURCE])
+
+  AC_CHECK_DECLS([getline])
+
+  gl_getline_needs_run_time_check=no
   AC_CHECK_FUNC(getline,
 		dnl Found it in some library.  Verify that it works.
-		am_getline_needs_run_time_check=yes,
+		gl_getline_needs_run_time_check=yes,
 		am_cv_func_working_getline=no)
-  if test $am_getline_needs_run_time_check = yes; then
+  if test $gl_getline_needs_run_time_check = yes; then
     AC_CACHE_CHECK([for working getline function], am_cv_func_working_getline,
     [echo fooN |tr -d '\012'|tr N '\012' > conftest.data
     AC_TRY_RUN([
@@ -1457,7 +1991,18 @@ m4trace:gnulib/m4/getline.m4:16: -1- AC_
     }
     ], am_cv_func_working_getline=yes dnl The library version works.
     , am_cv_func_working_getline=no dnl The library version does NOT work.
-    , am_cv_func_working_getline=no dnl We're cross compiling.
+    , dnl We're cross compiling. Assume it works on glibc2 systems.
+      [AC_EGREP_CPP([Lucky GNU user],
+         [
+#include <features.h>
+#ifdef __GNU_LIBRARY__
+ #if (__GLIBC__ >= 2)
+  Lucky GNU user
+ #endif
+#endif
+         ],
+         [am_cv_func_working_getline=yes],
+         [am_cv_func_working_getline=no])]
     )])
   fi
 
@@ -1469,63 +2014,75 @@ m4trace:gnulib/m4/getline.m4:16: -1- AC_
       [Define to a replacement function name for getline().])
     AC_LIBOBJ(getline)
 
-    # Avoid multiple inclusions of getndelim2.o into LIBOBJS.
-    # This hack won't be needed after gnulib requires Autoconf 2.58 or later.
-    case " $LIB@&t@OBJS " in
-    *" getndelim2.$ac_objext "* ) ;;
-    *) AC_LIBOBJ(getndelim2);;
-    esac
-
     gl_PREREQ_GETLINE
-    gl_PREREQ_GETNDELIM2
   fi
 ])
-m4trace:gnulib/m4/getline.m4:71: -1- AC_DEFUN([gl_PREREQ_GETLINE], [
-  AC_CHECK_FUNCS(getdelim)
-])
-m4trace:gnulib/m4/getndelim2.m4:7: -1- AC_DEFUN([gl_GETNDELIM2], [
-  # Avoid multiple inclusions of getndelim2.o into LIBOBJS.
-  # This hack won't be needed after gnulib requires Autoconf 2.58 or later.
-  case " $LIB@&t@OBJS " in
-  *" getndelim2.$ac_objext "* ) ;;
-  *) AC_LIBOBJ(getndelim2);;
-  esac
-
-  gl_PREREQ_GETNDELIM2
-])
-m4trace:gnulib/m4/getndelim2.m4:20: -1- AC_DEFUN([gl_PREREQ_GETNDELIM2], [
-  dnl Prerequisites of lib/getndelim2.h.
-  AC_REQUIRE([gt_TYPE_SSIZE_T])
-  dnl No prerequisites of lib/getndelim2.c.
+m4trace:gnulib/m4/getline.m4:76: -1- AC_DEFUN([gl_PREREQ_GETLINE], [
+  gl_FUNC_GETDELIM
 ])
 m4trace:gnulib/m4/getopt.m4:11: -1- AC_DEFUN([gl_GETOPT_SUBSTITUTE], [
-  GETOPT_H=getopt.h
   AC_LIBOBJ([getopt])
   AC_LIBOBJ([getopt1])
+  gl_GETOPT_SUBSTITUTE_HEADER
+  gl_PREREQ_GETOPT
+])
+m4trace:gnulib/m4/getopt.m4:19: -1- AC_DEFUN([gl_GETOPT_SUBSTITUTE_HEADER], [
+  GETOPT_H=getopt.h
   AC_DEFINE([__GETOPT_PREFIX], [[rpl_]],
     [Define to rpl_ if the getopt replacement functions and variables
      should be used.])
   AC_SUBST([GETOPT_H])
 ])
-m4trace:gnulib/m4/getopt.m4:22: -1- AC_DEFUN([gl_GETOPT], [
-  gl_PREREQ_GETOPT
-
+m4trace:gnulib/m4/getopt.m4:28: -1- AC_DEFUN([gl_GETOPT_CHECK_HEADERS], [
   if test -z "$GETOPT_H"; then
-    GETOPT_H=
     AC_CHECK_HEADERS([getopt.h], [], [GETOPT_H=getopt.h])
+  fi
+
+  if test -z "$GETOPT_H"; then
     AC_CHECK_FUNCS([getopt_long_only], [], [GETOPT_H=getopt.h])
+  fi
 
-    dnl BSD getopt_long uses an incompatible method to reset option processing,
-    dnl and (as of 2004-10-15) mishandles optional option-arguments.
+  dnl BSD getopt_long uses an incompatible method to reset option processing,
+  dnl and (as of 2004-10-15) mishandles optional option-arguments.
+  if test -z "$GETOPT_H"; then
     AC_CHECK_DECL([optreset], [GETOPT_H=getopt.h], [], [#include <getopt.h>])
+  fi
 
-    if test -n "$GETOPT_H"; then
-      gl_GETOPT_SUBSTITUTE
+  dnl Solaris 10 getopt doesn't handle `+' as a leading character in an
+  dnl option string (as of 2005-05-05).
+  if test -z "$GETOPT_H"; then
+    AC_CACHE_CHECK([for working GNU getopt function], [gl_cv_func_gnu_getopt],
+      [AC_RUN_IFELSE(
+	[AC_LANG_PROGRAM([#include <getopt.h>],
+	   [[
+	     char *myargv[3];
+	     myargv[0] = "conftest";
+	     myargv[1] = "-+";
+	     myargv[2] = 0;
+	     return getopt (2, myargv, "+a") != '?';
+	   ]])],
+	[gl_cv_func_gnu_getopt=yes],
+	[gl_cv_func_gnu_getopt=no],
+	[dnl cross compiling - pessimistically guess based on decls
+	 dnl Solaris 10 getopt doesn't handle `+' as a leading character in an
+	 dnl option string (as of 2005-05-05).
+	 AC_CHECK_DECL([getopt_clip],
+	   [gl_cv_func_gnu_getopt=no], [gl_cv_func_gnu_getopt=yes],
+	   [#include <getopt.h>])])])
+    if test "$gl_cv_func_gnu_getopt" = "no"; then
+      GETOPT_H=getopt.h
     fi
   fi
 ])
-m4trace:gnulib/m4/getopt.m4:42: -1- AC_DEFUN([gl_PREREQ_GETOPT], [:])
-m4trace:gnulib/m4/gettext.m4:59: -1- AC_DEFUN([AM_GNU_GETTEXT], [
+m4trace:gnulib/m4/getopt.m4:71: -1- AC_DEFUN([gl_GETOPT_IFELSE], [
+  AC_REQUIRE([gl_GETOPT_CHECK_HEADERS])
+  AS_IF([test -n "$GETOPT_H"], [$1], [$2])
+])
+m4trace:gnulib/m4/getopt.m4:77: -1- AC_DEFUN([gl_GETOPT], [gl_GETOPT_IFELSE([gl_GETOPT_SUBSTITUTE])])
+m4trace:gnulib/m4/getopt.m4:80: -1- AC_DEFUN([gl_PREREQ_GETOPT], [
+  AC_CHECK_DECLS_ONCE([getenv])
+])
+m4trace:gnulib/m4/gettext.m4:57: -1- AC_DEFUN([AM_GNU_GETTEXT], [
   dnl Argument checking.
   ifelse([$1], [], , [ifelse([$1], [external], , [ifelse([$1], [no-libtool], , [ifelse([$1], [use-libtool], ,
     [errprint([ERROR: invalid first argument to AM_GNU_GETTEXT
@@ -1533,8 +2090,13 @@ m4trace:gnulib/m4/gettext.m4:59: -1- AC_
   ifelse([$2], [], , [ifelse([$2], [need-ngettext], , [ifelse([$2], [need-formatstring-macros], ,
     [errprint([ERROR: invalid second argument to AM_GNU_GETTEXT
 ])])])])
-  define(gt_included_intl, ifelse([$1], [external], [no], [yes]))
-  define(gt_libtool_suffix_prefix, ifelse([$1], [use-libtool], [l], []))
+  define([gt_included_intl],
+    ifelse([$1], [external],
+      ifdef([AM_GNU_GETTEXT_][INTL_SUBDIR], [yes], [no]),
+      [yes]))
+  define([gt_libtool_suffix_prefix], ifelse([$1], [use-libtool], [l], []))
+  gt_NEEDS_INIT
+  AM_GNU_GETTEXT_NEED([$2])
 
   AC_REQUIRE([AM_PO_SUBDIRS])dnl
   ifelse(gt_included_intl, yes, [
@@ -1548,7 +2110,7 @@ m4trace:gnulib/m4/gettext.m4:59: -1- AC_
   dnl Sometimes libintl requires libiconv, so first search for libiconv.
   dnl Ideally we would do this search only after the
   dnl      if test "$USE_NLS" = "yes"; then
-  dnl        if test "$gt_cv_func_gnugettext_libc" != "yes"; then
+  dnl        if { eval "gt_val=\$$gt_func_gnugettext_libc"; test "$gt_val" != "yes"; }; then
   dnl tests. But if configure.in invokes AM_ICONV after AM_GNU_GETTEXT
   dnl the configure script would need to contain the same shell code
   dnl again, outside any 'if'. There are two solutions:
@@ -1560,8 +2122,11 @@ m4trace:gnulib/m4/gettext.m4:59: -1- AC_
     AC_REQUIRE([AM_ICONV_LINKFLAGS_BODY])
   ])
 
+  dnl Sometimes, on MacOS X, libintl requires linking with CoreFoundation.
+  gt_INTL_MACOSX
+
   dnl Set USE_NLS.
-  AM_NLS
+  AC_REQUIRE([AM_NLS])
 
   ifelse(gt_included_intl, yes, [
     BUILD_INCLUDED_LIBINTL=no
@@ -1571,6 +2136,15 @@ m4trace:gnulib/m4/gettext.m4:59: -1- AC_
   LTLIBINTL=
   POSUB=
 
+  dnl Add a version number to the cache macros.
+  case " $gt_needs " in
+    *" need-formatstring-macros "*) gt_api_version=3 ;;
+    *" need-ngettext "*) gt_api_version=2 ;;
+    *) gt_api_version=1 ;;
+  esac
+  gt_func_gnugettext_libc="gt_cv_func_gnugettext${gt_api_version}_libc"
+  gt_func_gnugettext_libintl="gt_cv_func_gnugettext${gt_api_version}_libintl"
+
   dnl If we use NLS figure out what method
   if test "$USE_NLS" = "yes"; then
     gt_use_preinstalled_gnugettext=no
@@ -1589,28 +2163,35 @@ m4trace:gnulib/m4/gettext.m4:59: -1- AC_
         dnl to use.  If GNU gettext is available we use this.  Else we have
         dnl to fall back to GNU NLS library.
 
-        dnl Add a version number to the cache macros.
-        define([gt_api_version], ifelse([$2], [need-formatstring-macros], 3, ifelse([$2], [need-ngettext], 2, 1)))
-        define([gt_cv_func_gnugettext_libc], [gt_cv_func_gnugettext]gt_api_version[_libc])
-        define([gt_cv_func_gnugettext_libintl], [gt_cv_func_gnugettext]gt_api_version[_libintl])
-
-        AC_CACHE_CHECK([for GNU gettext in libc], gt_cv_func_gnugettext_libc,
-         [AC_TRY_LINK([#include <libintl.h>
-]ifelse([$2], [need-formatstring-macros],
-[#ifndef __GNU_GETTEXT_SUPPORTED_REVISION
+        if test $gt_api_version -ge 3; then
+          gt_revision_test_code='
+#ifndef __GNU_GETTEXT_SUPPORTED_REVISION
 #define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)
 #endif
 changequote(,)dnl
 typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];
 changequote([,])dnl
-], [])[extern int _nl_msg_cat_cntr;
+'
+        else
+          gt_revision_test_code=
+        fi
+        if test $gt_api_version -ge 2; then
+          gt_expression_test_code=' + * ngettext ("", "", 0)'
+        else
+          gt_expression_test_code=
+        fi
+
+        AC_CACHE_CHECK([for GNU gettext in libc], [$gt_func_gnugettext_libc],
+         [AC_TRY_LINK([#include <libintl.h>
+$gt_revision_test_code
+extern int _nl_msg_cat_cntr;
 extern int *_nl_domain_bindings;],
             [bindtextdomain ("", "");
-return (int) gettext ("")]ifelse([$2], [need-ngettext], [ + (int) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_domain_bindings],
-            gt_cv_func_gnugettext_libc=yes,
-            gt_cv_func_gnugettext_libc=no)])
+return * gettext ("")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_domain_bindings],
+            [eval "$gt_func_gnugettext_libc=yes"],
+            [eval "$gt_func_gnugettext_libc=no"])])
 
-        if test "$gt_cv_func_gnugettext_libc" != "yes"; then
+        if { eval "gt_val=\$$gt_func_gnugettext_libc"; test "$gt_val" != "yes"; }; then
           dnl Sometimes libintl requires libiconv, so first search for libiconv.
           ifelse(gt_included_intl, yes, , [
             AM_ICONV_LINK
@@ -1621,52 +2202,40 @@ return (int) gettext ("")]ifelse([$2], [
           dnl even if libiconv doesn't exist.
           AC_LIB_LINKFLAGS_BODY([intl])
           AC_CACHE_CHECK([for GNU gettext in libintl],
-            gt_cv_func_gnugettext_libintl,
+            [$gt_func_gnugettext_libintl],
            [gt_save_CPPFLAGS="$CPPFLAGS"
             CPPFLAGS="$CPPFLAGS $INCINTL"
             gt_save_LIBS="$LIBS"
             LIBS="$LIBS $LIBINTL"
             dnl Now see whether libintl exists and does not depend on libiconv.
             AC_TRY_LINK([#include <libintl.h>
-]ifelse([$2], [need-formatstring-macros],
-[#ifndef __GNU_GETTEXT_SUPPORTED_REVISION
-#define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)
-#endif
-changequote(,)dnl
-typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];
-changequote([,])dnl
-], [])[extern int _nl_msg_cat_cntr;
+$gt_revision_test_code
+extern int _nl_msg_cat_cntr;
 extern
 #ifdef __cplusplus
 "C"
 #endif
-const char *_nl_expand_alias ();],
+const char *_nl_expand_alias (const char *);],
               [bindtextdomain ("", "");
-return (int) gettext ("")]ifelse([$2], [need-ngettext], [ + (int) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],
-              gt_cv_func_gnugettext_libintl=yes,
-              gt_cv_func_gnugettext_libintl=no)
+return * gettext ("")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_expand_alias ("")],
+              [eval "$gt_func_gnugettext_libintl=yes"],
+              [eval "$gt_func_gnugettext_libintl=no"])
             dnl Now see whether libintl exists and depends on libiconv.
-            if test "$gt_cv_func_gnugettext_libintl" != yes && test -n "$LIBICONV"; then
+            if { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" != yes; } && test -n "$LIBICONV"; then
               LIBS="$LIBS $LIBICONV"
               AC_TRY_LINK([#include <libintl.h>
-]ifelse([$2], [need-formatstring-macros],
-[#ifndef __GNU_GETTEXT_SUPPORTED_REVISION
-#define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)
-#endif
-changequote(,)dnl
-typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];
-changequote([,])dnl
-], [])[extern int _nl_msg_cat_cntr;
+$gt_revision_test_code
+extern int _nl_msg_cat_cntr;
 extern
 #ifdef __cplusplus
 "C"
 #endif
-const char *_nl_expand_alias ();],
+const char *_nl_expand_alias (const char *);],
                 [bindtextdomain ("", "");
-return (int) gettext ("")]ifelse([$2], [need-ngettext], [ + (int) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],
+return * gettext ("")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_expand_alias ("")],
                [LIBINTL="$LIBINTL $LIBICONV"
                 LTLIBINTL="$LTLIBINTL $LTLIBICONV"
-                gt_cv_func_gnugettext_libintl=yes
+                eval "$gt_func_gnugettext_libintl=yes"
                ])
             fi
             CPPFLAGS="$gt_save_CPPFLAGS"
@@ -1677,8 +2246,8 @@ return (int) gettext ("")]ifelse([$2], [
         dnl use it.  But if this macro is used in GNU gettext, and GNU
         dnl gettext is already preinstalled in libintl, we update this
         dnl libintl.  (Cf. the install rule in intl/Makefile.in.)
-        if test "$gt_cv_func_gnugettext_libc" = "yes" \
-           || { test "$gt_cv_func_gnugettext_libintl" = "yes" \
+        if { eval "gt_val=\$$gt_func_gnugettext_libc"; test "$gt_val" = "yes"; } \
+           || { { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" = "yes"; } \
                 && test "$PACKAGE" != gettext-runtime \
                 && test "$PACKAGE" != gettext-tools; }; then
           gt_use_preinstalled_gnugettext=yes
@@ -1701,11 +2270,12 @@ return (int) gettext ("")]ifelse([$2], [
         dnl Mark actions used to generate GNU NLS library.
         BUILD_INCLUDED_LIBINTL=yes
         USE_INCLUDED_LIBINTL=yes
-        LIBINTL="ifelse([$3],[],\${top_builddir}/intl,[$3])/libintl.[]gt_libtool_suffix_prefix[]a $LIBICONV"
-        LTLIBINTL="ifelse([$3],[],\${top_builddir}/intl,[$3])/libintl.[]gt_libtool_suffix_prefix[]a $LTLIBICONV"
+        LIBINTL="ifelse([$3],[],\${top_builddir}/intl,[$3])/libintl.[]gt_libtool_suffix_prefix[]a $LIBICONV $LIBTHREAD"
+        LTLIBINTL="ifelse([$3],[],\${top_builddir}/intl,[$3])/libintl.[]gt_libtool_suffix_prefix[]a $LTLIBICONV $LTLIBTHREAD"
         LIBS=`echo " $LIBS " | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`
       fi
 
+      CATOBJEXT=
       if test "$gt_use_preinstalled_gnugettext" = "yes" \
          || test "$nls_cv_use_gnu_gettext" = "yes"; then
         dnl Mark actions to use GNU gettext tools.
@@ -1713,6 +2283,15 @@ return (int) gettext ("")]ifelse([$2], [
       fi
     ])
 
+    if test -n "$INTL_MACOSX_LIBS"; then
+      if test "$gt_use_preinstalled_gnugettext" = "yes" \
+         || test "$nls_cv_use_gnu_gettext" = "yes"; then
+        dnl Some extra flags are needed during linking.
+        LIBINTL="$LIBINTL $INTL_MACOSX_LIBS"
+        LTLIBINTL="$LTLIBINTL $INTL_MACOSX_LIBS"
+      fi
+    fi
+
     if test "$gt_use_preinstalled_gnugettext" = "yes" \
        || test "$nls_cv_use_gnu_gettext" = "yes"; then
       AC_DEFINE(ENABLE_NLS, 1,
@@ -1728,7 +2307,7 @@ return (int) gettext ("")]ifelse([$2], [
   if test "$USE_NLS" = "yes"; then
     AC_MSG_CHECKING([where the gettext function comes from])
     if test "$gt_use_preinstalled_gnugettext" = "yes"; then
-      if test "$gt_cv_func_gnugettext_libintl" = "yes"; then
+      if { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" = "yes"; }; then
         gt_source="external libintl"
       else
         gt_source="libc"
@@ -1742,7 +2321,7 @@ return (int) gettext ("")]ifelse([$2], [
   if test "$USE_NLS" = "yes"; then
 
     if test "$gt_use_preinstalled_gnugettext" = "yes"; then
-      if test "$gt_cv_func_gnugettext_libintl" = "yes"; then
+      if { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" = "yes"; }; then
         AC_MSG_CHECKING([how to link with libintl])
         AC_MSG_RESULT([$LIBINTL])
         AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCINTL])
@@ -1788,6 +2367,7 @@ return (int) gettext ("")]ifelse([$2], [
     AC_SUBST(GENCAT)
 
     dnl For backward compatibility. Some Makefiles may be using this.
+    INTLOBJS=
     if test "$USE_INCLUDED_LIBINTL" = yes; then
       INTLOBJS="\$(GETTOBJS)"
     fi
@@ -1807,199 +2387,148 @@ return (int) gettext ("")]ifelse([$2], [
   AC_SUBST(LTLIBINTL)
   AC_SUBST(POSUB)
 ])
-m4trace:gnulib/m4/gettext.m4:347: -1- AC_DEFUN([AM_INTL_SUBDIR], [
-  AC_REQUIRE([AC_PROG_INSTALL])dnl
-  AC_REQUIRE([AM_MKINSTALLDIRS])dnl
-  AC_REQUIRE([AC_PROG_CC])dnl
-  AC_REQUIRE([AC_CANONICAL_HOST])dnl
-  AC_REQUIRE([AC_PROG_RANLIB])dnl
-  AC_REQUIRE([AC_ISC_POSIX])dnl
-  AC_REQUIRE([AC_HEADER_STDC])dnl
-  AC_REQUIRE([AC_C_CONST])dnl
-  AC_REQUIRE([bh_C_SIGNED])dnl
-  AC_REQUIRE([AC_C_INLINE])dnl
-  AC_REQUIRE([AC_TYPE_OFF_T])dnl
-  AC_REQUIRE([AC_TYPE_SIZE_T])dnl
-  AC_REQUIRE([gl_AC_TYPE_LONG_LONG])dnl
-  AC_REQUIRE([gt_TYPE_LONGDOUBLE])dnl
-  AC_REQUIRE([gt_TYPE_WCHAR_T])dnl
-  AC_REQUIRE([gt_TYPE_WINT_T])dnl
-  AC_REQUIRE([gl_AC_HEADER_INTTYPES_H])
-  AC_REQUIRE([gl_AC_HEADER_STDINT_H])
-  AC_REQUIRE([gt_TYPE_INTMAX_T])
-  AC_REQUIRE([gt_PRINTF_POSIX])
-  AC_REQUIRE([AC_FUNC_ALLOCA])dnl
-  AC_REQUIRE([AC_FUNC_MMAP])dnl
-  AC_REQUIRE([gl_GLIBC21])dnl
-  AC_REQUIRE([gt_INTDIV0])dnl
-  AC_REQUIRE([gl_AC_TYPE_UINTMAX_T])dnl
-  AC_REQUIRE([gt_HEADER_INTTYPES_H])dnl
-  AC_REQUIRE([gt_INTTYPES_PRI])dnl
-  AC_REQUIRE([gl_XSIZE])dnl
-
-  AC_CHECK_TYPE([ptrdiff_t], ,
-    [AC_DEFINE([ptrdiff_t], [long],
-       [Define as the type of the result of subtracting two pointers, if the system doesn't define it.])
-    ])
-  AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h stddef.h \
-stdlib.h string.h unistd.h sys/param.h])
-  AC_CHECK_FUNCS([asprintf fwprintf getcwd getegid geteuid getgid getuid \
-mempcpy munmap putenv setenv setlocale snprintf stpcpy strcasecmp strdup \
-strtoul tsearch wcslen __argz_count __argz_stringify __argz_next \
-__fsetlocking])
-
-  dnl Use the _snprintf function only if it is declared (because on NetBSD it
-  dnl is defined as a weak alias of snprintf; we prefer to use the latter).
-  gt_CHECK_DECL(_snprintf, [#include <stdio.h>])
-  gt_CHECK_DECL(_snwprintf, [#include <stdio.h>])
-
-  dnl Use the *_unlocked functions only if they are declared.
-  dnl (because some of them were defined without being declared in Solaris
-  dnl 2.5.1 but were removed in Solaris 2.6, whereas we want binaries built
-  dnl on Solaris 2.5.1 to run on Solaris 2.6).
-  dnl Don't use AC_CHECK_DECLS because it isn't supported in autoconf-2.13.
-  gt_CHECK_DECL(feof_unlocked, [#include <stdio.h>])
-  gt_CHECK_DECL(fgets_unlocked, [#include <stdio.h>])
-  gt_CHECK_DECL(getc_unlocked, [#include <stdio.h>])
-
-  case $gt_cv_func_printf_posix in
-    *yes) HAVE_POSIX_PRINTF=1 ;;
-    *) HAVE_POSIX_PRINTF=0 ;;
-  esac
-  AC_SUBST([HAVE_POSIX_PRINTF])
-  if test "$ac_cv_func_asprintf" = yes; then
-    HAVE_ASPRINTF=1
-  else
-    HAVE_ASPRINTF=0
-  fi
-  AC_SUBST([HAVE_ASPRINTF])
-  if test "$ac_cv_func_snprintf" = yes; then
-    HAVE_SNPRINTF=1
-  else
-    HAVE_SNPRINTF=0
-  fi
-  AC_SUBST([HAVE_SNPRINTF])
-  if test "$ac_cv_func_wprintf" = yes; then
-    HAVE_WPRINTF=1
-  else
-    HAVE_WPRINTF=0
-  fi
-  AC_SUBST([HAVE_WPRINTF])
-
-  AM_ICONV
-  AM_LANGINFO_CODESET
-  if test $ac_cv_header_locale_h = yes; then
-    AM_LC_MESSAGES
-  fi
-
-  dnl intl/plural.c is generated from intl/plural.y. It requires bison,
-  dnl because plural.y uses bison specific features. It requires at least
-  dnl bison-1.26 because earlier versions generate a plural.c that doesn't
-  dnl compile.
-  dnl bison is only needed for the maintainer (who touches plural.y). But in
-  dnl order to avoid separate Makefiles or --enable-maintainer-mode, we put
-  dnl the rule in general Makefile. Now, some people carelessly touch the
-  dnl files or have a broken "make" program, hence the plural.c rule will
-  dnl sometimes fire. To avoid an error, defines BISON to ":" if it is not
-  dnl present or too old.
-  AC_CHECK_PROGS([INTLBISON], [bison])
-  if test -z "$INTLBISON"; then
-    ac_verc_fail=yes
-  else
-    dnl Found it, now check the version.
-    AC_MSG_CHECKING([version of bison])
-changequote(<<,>>)dnl
-    ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \([0-9]*\.[0-9.]*\).*$/\1/p'`
-    case $ac_prog_version in
-      '') ac_prog_version="v. ?.??, bad"; ac_verc_fail=yes;;
-      1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)
-changequote([,])dnl
-         ac_prog_version="$ac_prog_version, ok"; ac_verc_fail=no;;
-      *) ac_prog_version="$ac_prog_version, bad"; ac_verc_fail=yes;;
-    esac
-    AC_MSG_RESULT([$ac_prog_version])
-  fi
-  if test $ac_verc_fail = yes; then
-    INTLBISON=:
-  fi
-])
-m4trace:gnulib/m4/gettext.m4:468: -1- AC_DEFUN([gt_CHECK_DECL], [
-  AC_CACHE_CHECK([whether $1 is declared], ac_cv_have_decl_$1,
-    [AC_TRY_COMPILE([$2], [
-#ifndef $1
-  char *p = (char *) $1;
-#endif
-], ac_cv_have_decl_$1=yes, ac_cv_have_decl_$1=no)])
-  if test $ac_cv_have_decl_$1 = yes; then
-    gt_value=1
-  else
-    gt_value=0
+m4trace:gnulib/m4/gettext.m4:367: -1- AC_DEFUN([gt_INTL_MACOSX], [
+  dnl Check for API introduced in MacOS X 10.2.
+  AC_CACHE_CHECK([for CFPreferencesCopyAppValue],
+    gt_cv_func_CFPreferencesCopyAppValue,
+    [gt_save_LIBS="$LIBS"
+     LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
+     AC_TRY_LINK([#include <CoreFoundation/CFPreferences.h>],
+       [CFPreferencesCopyAppValue(NULL, NULL)],
+       [gt_cv_func_CFPreferencesCopyAppValue=yes],
+       [gt_cv_func_CFPreferencesCopyAppValue=no])
+     LIBS="$gt_save_LIBS"])
+  if test $gt_cv_func_CFPreferencesCopyAppValue = yes; then
+    AC_DEFINE([HAVE_CFPREFERENCESCOPYAPPVALUE], 1,
+      [Define to 1 if you have the MacOS X function CFPreferencesCopyAppValue in the CoreFoundation framework.])
+  fi
+  dnl Check for API introduced in MacOS X 10.3.
+  AC_CACHE_CHECK([for CFLocaleCopyCurrent], gt_cv_func_CFLocaleCopyCurrent,
+    [gt_save_LIBS="$LIBS"
+     LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
+     AC_TRY_LINK([#include <CoreFoundation/CFLocale.h>], [CFLocaleCopyCurrent();],
+       [gt_cv_func_CFLocaleCopyCurrent=yes],
+       [gt_cv_func_CFLocaleCopyCurrent=no])
+     LIBS="$gt_save_LIBS"])
+  if test $gt_cv_func_CFLocaleCopyCurrent = yes; then
+    AC_DEFINE([HAVE_CFLOCALECOPYCURRENT], 1,
+      [Define to 1 if you have the MacOS X function CFLocaleCopyCurrent in the CoreFoundation framework.])
+  fi
+  INTL_MACOSX_LIBS=
+  if test $gt_cv_func_CFPreferencesCopyAppValue = yes || test $gt_cv_func_CFLocaleCopyCurrent = yes; then
+    INTL_MACOSX_LIBS="-Wl,-framework -Wl,CoreFoundation"
+  fi
+  AC_SUBST([INTL_MACOSX_LIBS])
+])
+m4trace:gnulib/m4/gettext.m4:412: -1- AC_DEFUN([AM_GNU_GETTEXT_NEED], [
+  m4_divert_text([INIT_PREPARE], [gt_needs="$gt_needs $1"])
+])
+m4trace:gnulib/m4/gettext.m4:419: -1- AC_DEFUN([AM_GNU_GETTEXT_VERSION], [])
+m4trace:gnulib/m4/gettime.m4:7: -1- AC_DEFUN([gl_GETTIME], [
+  AC_LIBOBJ([gettime])
+
+  dnl Prerequisites of lib/gettime.c.
+  AC_REQUIRE([gl_CLOCK_TIME])
+  AC_REQUIRE([gl_TIMESPEC])
+  AC_CHECK_FUNCS_ONCE(gettimeofday nanotime)
+])
+m4trace:gnulib/m4/gettimeofday.m4:10: -1- AC_DEFUN([gl_FUNC_GETTIMEOFDAY], [
+  AC_REQUIRE([AC_C_RESTRICT])
+  AC_REQUIRE([gl_HEADER_SYS_TIME_H])
+  AC_CHECK_FUNCS_ONCE([gettimeofday])
+
+  AC_CACHE_CHECK([for gettimeofday with POSIX signature],
+    [gl_cv_func_gettimeofday_posix_signature],
+    [AC_COMPILE_IFELSE(
+       [AC_LANG_PROGRAM(
+	  [[#include <sys/time.h>
+	    struct timeval c;
+	  ]],
+	  [[
+	    int (*f) (struct timeval *restrict, void *restrict) = gettimeofday;
+	    int x = f (&c, 0);
+	    return !(x | c.tv_sec | c.tv_usec);
+	  ]])],
+	[gl_cv_func_gettimeofday_posix_signature=yes],
+	[gl_cv_func_gettimeofday_posix_signature=no])])
+
+  gl_FUNC_GETTIMEOFDAY_CLOBBER
+
+  if test $gl_cv_func_gettimeofday_posix_signature != yes; then
+    REPLACE_GETTIMEOFDAY=1
+    SYS_TIME_H=sys/time.h
+    if test $gl_cv_func_gettimeofday_clobber != yes; then
+      AC_LIBOBJ(gettimeofday)
+      gl_PREREQ_GETTIMEOFDAY
+    fi
   fi
-  AC_DEFINE_UNQUOTED([HAVE_DECL_]translit($1, [a-z], [A-Z]), [$gt_value],
-    [Define to 1 if you have the declaration of `$1', and to 0 if you don't.])
 ])
-m4trace:gnulib/m4/gettext.m4:487: -1- AC_DEFUN([AM_GNU_GETTEXT_VERSION], [])
-m4trace:gnulib/m4/gettimeofday.m4:17: -1- AC_DEFUN([AC_FUNC_GETTIMEOFDAY_CLOBBER], [
- AC_REQUIRE([AC_HEADER_TIME])
- AC_CACHE_CHECK([whether gettimeofday clobbers localtime buffer],
-  jm_cv_func_gettimeofday_clobber,
-  [AC_TRY_RUN([
-#include <stdio.h>
-#include <string.h>
+m4trace:gnulib/m4/gettimeofday.m4:51: -1- AC_DEFUN([gl_FUNC_GETTIMEOFDAY_CLOBBER], [
+ AC_REQUIRE([gl_HEADER_SYS_TIME_H])
 
-#if TIME_WITH_SYS_TIME
-# include <sys/time.h>
-# include <time.h>
-#else
-# if HAVE_SYS_TIME_H
-#  include <sys/time.h>
-# else
-#  include <time.h>
-# endif
-#endif
-
-#include <stdlib.h>
-
-int
-main ()
-{
-  time_t t = 0;
-  struct tm *lt;
-  struct tm saved_lt;
-  struct timeval tv;
-  lt = localtime (&t);
-  saved_lt = *lt;
-  gettimeofday (&tv, NULL);
-  if (memcmp (lt, &saved_lt, sizeof (struct tm)) != 0)
-    exit (1);
-
-  exit (0);
-}
-	  ],
-	 jm_cv_func_gettimeofday_clobber=no,
-	 jm_cv_func_gettimeofday_clobber=yes,
-	 dnl When crosscompiling, assume it is broken.
-	 jm_cv_func_gettimeofday_clobber=yes)
-  ])
-  if test $jm_cv_func_gettimeofday_clobber = yes; then
-    gl_GETTIMEOFDAY_REPLACE_LOCALTIME
-
-    AC_DEFINE(gettimeofday, rpl_gettimeofday,
-      [Define to rpl_gettimeofday if the replacement function should be used.])
-    AC_DEFINE(GETTIMEOFDAY_CLOBBERS_LOCALTIME_BUFFER, 1,
-      [Define if gettimeofday clobbers localtime's static buffer.])
-    gl_PREREQ_GETTIMEOFDAY
-  fi
+ AC_CACHE_CHECK([whether gettimeofday clobbers localtime buffer],
+  [gl_cv_func_gettimeofday_clobber],
+  [AC_RUN_IFELSE(
+     [AC_LANG_PROGRAM(
+	[[#include <string.h>
+	  #include <sys/time.h>
+	  #include <time.h>
+	  #include <stdlib.h>
+	]],
+	[[
+	  time_t t = 0;
+	  struct tm *lt;
+	  struct tm saved_lt;
+	  struct timeval tv;
+	  lt = localtime (&t);
+	  saved_lt = *lt;
+	  gettimeofday (&tv, NULL);
+	  return memcmp (lt, &saved_lt, sizeof (struct tm)) != 0;
+	]])],
+     [gl_cv_func_gettimeofday_clobber=no],
+     [gl_cv_func_gettimeofday_clobber=yes],
+     dnl When crosscompiling, assume it is broken.
+     [gl_cv_func_gettimeofday_clobber=yes])])
+
+ if test $gl_cv_func_gettimeofday_clobber = yes; then
+   REPLACE_GETTIMEOFDAY=1
+   SYS_TIME_H=sys/time.h
+   gl_GETTIMEOFDAY_REPLACE_LOCALTIME
+   AC_DEFINE([GETTIMEOFDAY_CLOBBERS_LOCALTIME], 1,
+     [Define if gettimeofday clobbers the localtime buffer.])
+ fi
 ])
-m4trace:gnulib/m4/gettimeofday.m4:71: -1- AC_DEFUN([gl_GETTIMEOFDAY_REPLACE_LOCALTIME], [
+m4trace:gnulib/m4/gettimeofday.m4:88: -1- AC_DEFUN([gl_GETTIMEOFDAY_REPLACE_LOCALTIME], [
   AC_LIBOBJ(gettimeofday)
-  AC_DEFINE(gmtime, rpl_gmtime,
+  gl_PREREQ_GETTIMEOFDAY
+  AC_DEFINE([gmtime], [rpl_gmtime],
     [Define to rpl_gmtime if the replacement function should be used.])
-  AC_DEFINE(localtime, rpl_localtime,
+  AC_DEFINE([localtime], [rpl_localtime],
     [Define to rpl_localtime if the replacement function should be used.])
 ])
-m4trace:gnulib/m4/gettimeofday.m4:80: -1- AC_DEFUN([gl_PREREQ_GETTIMEOFDAY], [
-  AC_REQUIRE([AC_HEADER_TIME])
+m4trace:gnulib/m4/gettimeofday.m4:98: -1- AC_DEFUN([gl_PREREQ_GETTIMEOFDAY], [
+  AC_CHECK_HEADERS([sys/timeb.h])
+  AC_CHECK_FUNCS([_ftime])
+])
+m4trace:gnulib/m4/glibc2.m4:10: -1- AC_DEFUN([gt_GLIBC2], [
+    AC_CACHE_CHECK(whether we are using the GNU C Library 2 or newer,
+      ac_cv_gnu_library_2,
+      [AC_EGREP_CPP([Lucky GNU user],
+	[
+#include <features.h>
+#ifdef __GNU_LIBRARY__
+ #if (__GLIBC__ >= 2)
+  Lucky GNU user
+ #endif
+#endif
+	],
+	ac_cv_gnu_library_2=yes,
+	ac_cv_gnu_library_2=no)
+      ]
+    )
+    AC_SUBST(GLIBC2)
+    GLIBC2="$ac_cv_gnu_library_2"
+  
 ])
 m4trace:gnulib/m4/glibc21.m4:10: -1- AC_DEFUN([gl_GLIBC21], [
     AC_CACHE_CHECK(whether we are using the GNU C Library 2.1 or newer,
@@ -2021,83 +2550,573 @@ m4trace:gnulib/m4/glibc21.m4:10: -1- AC_
     GLIBC21="$ac_cv_gnu_library_2_1"
   
 ])
-m4trace:gnulib/m4/gnulib.m4:13: -1- AC_DEFUN([gl_EARLY], [
-  AC_GNU_SOURCE
-  gl_USE_SYSTEM_EXTENSIONS
+m4trace:gnulib/m4/gnulib-common.m4:9: -1- AC_DEFUN([gl_MODULE_INDICATOR], [
+  AC_DEFINE([GNULIB_]translit([$1],[abcdefghijklmnopqrstuvwxyz./-],[ABCDEFGHIJKLMNOPQRSTUVWXYZ___]), [1],
+    [Define to 1 when using the gnulib module ]$1[.])
+])
+m4trace:gnulib/m4/gnulib-comp.m4:21: -1- AC_DEFUN([gl_EARLY], [
+  m4_pattern_forbid([^gl_[A-Z]])dnl the gnulib macro namespace
+  m4_pattern_allow([^gl_ES$])dnl a valid locale name
+  m4_pattern_allow([^gl_LIBOBJS$])dnl a variable
+  m4_pattern_allow([^gl_LTLIBOBJS$])dnl a variable
+  AC_REQUIRE([AC_PROG_RANLIB])
+  AC_REQUIRE([AC_GNU_SOURCE])
+  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
 ])
-m4trace:gnulib/m4/gnulib.m4:19: -1- AC_DEFUN([gl_INIT], [
+m4trace:gnulib/m4/gnulib-comp.m4:34: -1- AC_DEFUN([gl_INIT], [
+  m4_pushdef([AC_LIBOBJ], m4_defn([gl_LIBOBJ]))
+  m4_pushdef([AC_REPLACE_FUNCS], m4_defn([gl_REPLACE_FUNCS]))
+  m4_pushdef([AC_LIBSOURCES], m4_defn([gl_LIBSOURCES]))
+  AM_CONDITIONAL([GL_COND_LIBTOOL], [false])
+  gl_cond_libtool=false
+  gl_libdeps=
+  gl_ltlibdeps=
+  gl_source_base='gnulib/lib'
   gl_FUNC_ALLOCA
-  gl_FUNC_ATEXIT
+  gl_ALLOCSA
+  gl_ARGMATCH
   AC_FUNC_CANONICALIZE_FILE_NAME
+  gl_MODULE_INDICATOR([canonicalize])
+  gl_FUNC_CHDIR_LONG
+  gl_FUNC_CHOWN
+  gl_UNISTD_MODULE_INDICATOR([chown])
+  gl_CLOCK_TIME
+  gl_CLOSE_STREAM
+  gl_MODULE_INDICATOR([close-stream])
   gl_CLOSEOUT
+  gl_CYCLE_CHECK
+  gl_CHECK_TYPE_STRUCT_DIRENT_D_INO
+  gl_CHECK_TYPE_STRUCT_DIRENT_D_TYPE
+  gl_FUNC_DIRFD
   gl_DIRNAME
+  gl_DOUBLE_SLASH_ROOT
   gl_ERROR
   gl_EXITFAIL
-  dnl gl_USE_SYSTEM_EXTENSIONS must be added quite early to configure.ac.
+  gl_FCNTL_H
+  gl_FCNTL_SAFER
+  gl_MODULE_INDICATOR([fcntl-safer])
   gl_FILEBLOCKS
   gl_FILEMODE
+  gl_FILE_NAME_CONCAT
+  AC_C_FLEXIBLE_ARRAY_MEMBER
   # No macro. You should also use one of fnmatch-posix or fnmatch-gnu.
   gl_FUNC_FNMATCH_GNU
+  gl_FOPEN_SAFER
+  gl_MODULE_INDICATOR([fopen-safer])
   gl_FUNC_FPENDING
+  gl_FUNC_FTS
+  gl_MODULE_INDICATOR([fts])
   gl_FUNC_GETCWD
-  AM_FUNC_GETLINE
+  gl_UNISTD_MODULE_INDICATOR([getcwd])
+  gl_GETDATE
+  gl_FUNC_GETDELIM
+  gl_FUNC_GETLINE
   gl_GETOPT
   dnl you must add AM_GNU_GETTEXT([external]) or similar to configure.ac.
-  AC_FUNC_GETTIMEOFDAY_CLOBBER
+  AM_GNU_GETTEXT_VERSION([0.16.1])
+  gl_GETTIME
+  gl_FUNC_GETTIMEOFDAY
+  gl_HASH
   gl_HUMAN
+  gl_I_RING
   gl_IDCACHE
+  gl_INLINE
+  gl_INTTYPES_H
+  gl_FUNC_LCHOWN
+  gl_LOCALCHARSET
   gl_FUNC_LSTAT
   AC_FUNC_MALLOC
+  gl_MBCHAR
+  gl_FUNC_MBSCASESTR
+  gl_STRING_MODULE_INDICATOR([mbscasestr])
+  gt_LOCALE_FR_UTF8
+  gt_LOCALE_TR_UTF8
+  gt_LOCALE_ZH_CN
+  gl_FUNC_MBSLEN
+  gl_STRING_MODULE_INDICATOR([mbslen])
+  gl_FUNC_MBSSTR
+  gl_STRING_MODULE_INDICATOR([mbsstr])
+  gt_LOCALE_FR_UTF8
+  gt_LOCALE_ZH_CN
+  gl_MBITER
+  gl_FUNC_MEMCHR
   gl_FUNC_MEMCMP
   gl_FUNC_MEMPCPY
+  gl_STRING_MODULE_INDICATOR([mempcpy])
+  gl_FUNC_MEMRCHR
+  gl_STRING_MODULE_INDICATOR([memrchr])
   gl_FUNC_MEMSET
   gl_FUNC_MKTIME
   gl_MODECHANGE
   gl_MOUNTLIST
-  gl_PATH_CONCAT
+  gl_FUNC_OPENAT
   gl_PATHMAX
   gl_QUOTE
   gl_QUOTEARG
   gl_FUNC_READLINK
+  gl_UNISTD_MODULE_INDICATOR([readlink])
   AC_FUNC_REALLOC
   gl_REGEX
-  gl_C_RESTRICT
   gl_FUNC_RPMATCH
+  gl_SAVE_CWD
   gl_SAVEDIR
-  gl_FUNC_STAT
+  gl_FUNC_SETENV
+  gl_FUNC_UNSETENV
+  gt_TYPE_SSIZE_T
+  gl_STAT_TIME
+  gl_STAT_BIRTHTIME
   AM_STDBOOL_H
+  gl_STDINT_H
+  gt_TYPE_WCHAR_T
+  gt_TYPE_WINT_T
+  gl_STDLIB_H
   gl_FUNC_STPCPY
+  gl_STRING_MODULE_INDICATOR([stpcpy])
   gl_FUNC_STRDUP
+  gl_STRING_MODULE_INDICATOR([strdup])
   gl_FUNC_GNU_STRFTIME
-  gl_FUNC_STRSTR
+  gl_HEADER_STRING_H
+  gl_FUNC_STRNDUP
+  gl_STRING_MODULE_INDICATOR([strndup])
+  gl_FUNC_STRNLEN
+  gl_STRING_MODULE_INDICATOR([strnlen])
   gl_FUNC_STRTOIMAX
+  gl_INTTYPES_MODULE_INDICATOR([strtoimax])
   gl_FUNC_STRTOL
   gl_FUNC_STRTOLL
   gl_FUNC_STRTOUL
   gl_FUNC_STRTOULL
   gl_FUNC_STRTOUMAX
+  gl_INTTYPES_MODULE_INDICATOR([strtoumax])
+  gl_HEADER_SYS_STAT_H
+  AC_PROG_MKDIR_P
+  gl_HEADER_SYS_TIME_H
+  AC_PROG_MKDIR_P
+  gl_HEADER_TIME_H
   gl_TIME_R
-  gl_FUNC_TZSET_CLOBBER
+  gl_TIMESPEC
+  gl_UNISTD_H
+  gl_UNISTD_SAFER
+  gl_WCHAR_H
+  gl_WCTYPE_H
+  gl_FUNC_WCWIDTH
   gl_XALLOC
   gl_XGETCWD
-  gl_XREADLINK
+  gl_XSTRNDUP
+  gl_XSTRTOD
   gl_XSTRTOL
-  gl_XSTRTOUMAX
   gl_YESNO
+  LIBGNULIB_LIBDEPS="$gl_libdeps"
+  AC_SUBST([LIBGNULIB_LIBDEPS])
+  LIBGNULIB_LTLIBDEPS="$gl_ltlibdeps"
+  AC_SUBST([LIBGNULIB_LTLIBDEPS])
+  m4_popdef([AC_LIBSOURCES])
+  m4_popdef([AC_REPLACE_FUNCS])
+  m4_popdef([AC_LIBOBJ])
+  AC_CONFIG_COMMANDS_PRE([
+    gl_libobjs=
+    gl_ltlibobjs=
+    if test -n "$gl_LIBOBJS"; then
+      # Remove the extension.
+      sed_drop_objext='s/\.o$//;s/\.obj$//'
+      for i in `for i in $gl_LIBOBJS; do echo "$i"; done | sed "$sed_drop_objext" | sort | uniq`; do
+        gl_libobjs="$gl_libobjs $i.$ac_objext"
+        gl_ltlibobjs="$gl_ltlibobjs $i.lo"
+      done
+    fi
+    AC_SUBST([gl_LIBOBJS], [$gl_libobjs])
+    AC_SUBST([gl_LTLIBOBJS], [$gl_ltlibobjs])
+  ])
 ])
-m4trace:gnulib/m4/gnulib.m4:82: -1- AC_DEFUN([gl_MODULES], [])
-m4trace:gnulib/m4/gnulib.m4:85: -1- AC_DEFUN([gl_SOURCE_BASE], [])
-m4trace:gnulib/m4/gnulib.m4:88: -1- AC_DEFUN([gl_M4_BASE], [])
-m4trace:gnulib/m4/gnulib.m4:91: -1- AC_DEFUN([gl_LIB], [])
-m4trace:gnulib/m4/gnulib.m4:94: -1- AC_DEFUN([gl_LGPL], [])
-m4trace:gnulib/m4/human.m4:7: -1- AC_DEFUN([gl_HUMAN], [
-  dnl Prerequisites of lib/human.h.
+m4trace:gnulib/m4/gnulib-comp.m4:203: -1- AC_DEFUN([gl_LIBOBJ], [gl_LIBOBJS="$gl_LIBOBJS $1.$ac_objext"])
+m4trace:gnulib/m4/gnulib-comp.m4:208: -1- AC_DEFUN([gl_REPLACE_FUNCS], [AC_CHECK_FUNCS([$1], , [gl_LIBOBJ($ac_func)])])
+m4trace:gnulib/m4/gnulib-comp.m4:213: -1- AC_DEFUN([gl_LIBSOURCES], [])
+m4trace:gnulib/m4/gnulib-comp.m4:218: -1- AC_DEFUN([gl_FILE_LIST], [
+  build-aux/config.rpath
+  build-aux/link-warning.h
+  doc/getdate.texi
+  lib/__fpending.c
+  lib/__fpending.h
+  lib/alloca.c
+  lib/alloca_.h
+  lib/allocsa.c
+  lib/allocsa.h
+  lib/allocsa.valgrind
+  lib/argmatch.c
+  lib/argmatch.h
+  lib/at-func.c
+  lib/basename.c
+  lib/c-strstr.c
+  lib/c-strstr.h
+  lib/canonicalize.c
+  lib/canonicalize.h
+  lib/chdir-long.c
+  lib/chdir-long.h
+  lib/chown.c
+  lib/close-stream.c
+  lib/close-stream.h
+  lib/closeout.c
+  lib/closeout.h
+  lib/config.charset
+  lib/creat-safer.c
+  lib/cycle-check.c
+  lib/cycle-check.h
+  lib/dev-ino.h
+  lib/dirfd.c
+  lib/dirfd.h
+  lib/dirname.c
+  lib/dirname.h
+  lib/dup-safer.c
+  lib/error.c
+  lib/error.h
+  lib/exitfail.c
+  lib/exitfail.h
+  lib/fchmodat.c
+  lib/fchown-stub.c
+  lib/fchownat.c
+  lib/fcntl--.h
+  lib/fcntl-safer.h
+  lib/fcntl_.h
+  lib/fd-safer.c
+  lib/fileblocks.c
+  lib/filemode.c
+  lib/filemode.h
+  lib/filenamecat.c
+  lib/filenamecat.h
+  lib/fnmatch.c
+  lib/fnmatch_.h
+  lib/fnmatch_loop.c
+  lib/fopen-safer.c
+  lib/fstatat.c
+  lib/fts-cycle.c
+  lib/fts.c
+  lib/fts_.h
+  lib/getcwd.c
+  lib/getdate.h
+  lib/getdate.y
+  lib/getdelim.c
+  lib/getdelim.h
+  lib/getline.c
+  lib/getline.h
+  lib/getopt.c
+  lib/getopt1.c
+  lib/getopt_.h
+  lib/getopt_int.h
+  lib/gettext.h
+  lib/gettime.c
+  lib/gettimeofday.c
+  lib/hash.c
+  lib/hash.h
+  lib/human.c
+  lib/human.h
+  lib/i-ring.c
+  lib/i-ring.h
+  lib/idcache.c
+  lib/intprops.h
+  lib/inttypes_.h
+  lib/lchown.c
+  lib/lchown.h
+  lib/localcharset.c
+  lib/localcharset.h
+  lib/lstat.c
+  lib/lstat.h
+  lib/malloc.c
+  lib/mbchar.c
+  lib/mbchar.h
+  lib/mbscasestr.c
+  lib/mbslen.c
+  lib/mbsstr.c
+  lib/mbuiter.h
+  lib/memchr.c
+  lib/memcmp.c
+  lib/mempcpy.c
+  lib/memrchr.c
+  lib/memset.c
+  lib/mkdirat.c
+  lib/mktime.c
+  lib/modechange.c
+  lib/modechange.h
+  lib/mountlist.c
+  lib/mountlist.h
+  lib/open-safer.c
+  lib/openat-die.c
+  lib/openat-priv.h
+  lib/openat-proc.c
+  lib/openat.c
+  lib/openat.h
+  lib/pathmax.h
+  lib/pipe-safer.c
+  lib/progname.c
+  lib/progname.h
+  lib/quote.c
+  lib/quote.h
+  lib/quotearg.c
+  lib/quotearg.h
+  lib/readlink.c
+  lib/realloc.c
+  lib/ref-add.sin
+  lib/ref-del.sin
+  lib/regcomp.c
+  lib/regex.c
+  lib/regex.h
+  lib/regex_internal.c
+  lib/regex_internal.h
+  lib/regexec.c
+  lib/rpmatch.c
+  lib/same-inode.h
+  lib/save-cwd.c
+  lib/save-cwd.h
+  lib/savedir.c
+  lib/savedir.h
+  lib/setenv.c
+  lib/setenv.h
+  lib/stat-macros.h
+  lib/stat-time.h
+  lib/stat_.h
+  lib/stdbool_.h
+  lib/stdint_.h
+  lib/stdio--.h
+  lib/stdio-safer.h
+  lib/stdlib_.h
+  lib/stpcpy.c
+  lib/strdup.c
+  lib/strftime.c
+  lib/strftime.h
+  lib/string_.h
+  lib/stripslash.c
+  lib/strndup.c
+  lib/strnlen.c
+  lib/strnlen1.c
+  lib/strnlen1.h
+  lib/strtoimax.c
+  lib/strtol.c
+  lib/strtoll.c
+  lib/strtoul.c
+  lib/strtoull.c
+  lib/strtoumax.c
+  lib/sys_time_.h
+  lib/time_.h
+  lib/time_r.c
+  lib/timespec.h
+  lib/unistd--.h
+  lib/unistd-safer.h
+  lib/unistd_.h
+  lib/unsetenv.c
+  lib/verify.h
+  lib/wchar_.h
+  lib/wctype_.h
+  lib/wcwidth.h
+  lib/xalloc-die.c
+  lib/xalloc.h
+  lib/xgetcwd.c
+  lib/xgetcwd.h
+  lib/xmalloc.c
+  lib/xreadlink-with-size.c
+  lib/xreadlink.h
+  lib/xstrndup.c
+  lib/xstrndup.h
+  lib/xstrtod.c
+  lib/xstrtod.h
+  lib/xstrtol.c
+  lib/xstrtol.h
+  lib/xstrtoul.c
+  lib/xstrtoumax.c
+  lib/yesno.c
+  lib/yesno.h
+  m4/absolute-header.m4
+  m4/alloca.m4
+  m4/allocsa.m4
+  m4/argmatch.m4
+  m4/bison.m4
+  m4/canonicalize.m4
+  m4/chdir-long.m4
+  m4/chown.m4
+  m4/clock_time.m4
+  m4/close-stream.m4
+  m4/closeout.m4
+  m4/codeset.m4
+  m4/cycle-check.m4
+  m4/d-ino.m4
+  m4/d-type.m4
+  m4/dirfd.m4
+  m4/dirname.m4
+  m4/dos.m4
+  m4/double-slash-root.m4
+  m4/eealloc.m4
+  m4/error.m4
+  m4/exitfail.m4
+  m4/extensions.m4
+  m4/fcntl-safer.m4
+  m4/fcntl_h.m4
+  m4/fileblocks.m4
+  m4/filemode.m4
+  m4/filenamecat.m4
+  m4/flexmember.m4
+  m4/fnmatch.m4
+  m4/fpending.m4
+  m4/fstypename.m4
+  m4/fts.m4
+  m4/getcwd-abort-bug.m4
+  m4/getcwd-path-max.m4
+  m4/getcwd.m4
+  m4/getdate.m4
+  m4/getdelim.m4
+  m4/getline.m4
+  m4/getopt.m4
+  m4/gettext.m4
+  m4/gettime.m4
+  m4/gettimeofday.m4
+  m4/glibc2.m4
+  m4/glibc21.m4
+  m4/gnulib-common.m4
+  m4/hash.m4
+  m4/human.m4
+  m4/i-ring.m4
+  m4/iconv.m4
+  m4/idcache.m4
+  m4/inline.m4
+  m4/intdiv0.m4
+  m4/intl.m4
+  m4/intldir.m4
+  m4/intmax.m4
+  m4/inttypes-pri.m4
+  m4/inttypes.m4
+  m4/inttypes_h.m4
+  m4/lchown.m4
+  m4/lcmessage.m4
+  m4/lib-ld.m4
+  m4/lib-link.m4
+  m4/lib-prefix.m4
+  m4/localcharset.m4
+  m4/locale-fr.m4
+  m4/locale-tr.m4
+  m4/locale-zh.m4
+  m4/lock.m4
+  m4/longdouble.m4
+  m4/longlong.m4
+  m4/ls-mntd-fs.m4
+  m4/lstat.m4
+  m4/mbchar.m4
+  m4/mbiter.m4
+  m4/mbrtowc.m4
+  m4/mbscasestr.m4
+  m4/mbslen.m4
+  m4/mbsstr.m4
+  m4/mbstate_t.m4
+  m4/memchr.m4
+  m4/memcmp.m4
+  m4/mempcpy.m4
+  m4/memrchr.m4
+  m4/memset.m4
+  m4/mktime.m4
+  m4/modechange.m4
+  m4/mountlist.m4
+  m4/nls.m4
+  m4/onceonly_2_57.m4
+  m4/openat.m4
+  m4/pathmax.m4
+  m4/po.m4
+  m4/printf-posix.m4
+  m4/progtest.m4
+  m4/quote.m4
+  m4/quotearg.m4
+  m4/readlink.m4
+  m4/regex.m4
+  m4/rpmatch.m4
+  m4/save-cwd.m4
+  m4/savedir.m4
+  m4/setenv.m4
+  m4/size_max.m4
+  m4/ssize_t.m4
+  m4/st_dm_mode.m4
+  m4/stat-time.m4
+  m4/stdbool.m4
+  m4/stdint.m4
+  m4/stdint_h.m4
+  m4/stdio-safer.m4
+  m4/stdlib_h.m4
+  m4/stpcpy.m4
+  m4/strdup.m4
+  m4/strftime.m4
+  m4/string_h.m4
+  m4/strndup.m4
+  m4/strnlen.m4
+  m4/strtoimax.m4
+  m4/strtol.m4
+  m4/strtoll.m4
+  m4/strtoul.m4
+  m4/strtoull.m4
+  m4/strtoumax.m4
+  m4/sys_stat_h.m4
+  m4/sys_time_h.m4
+  m4/time_h.m4
+  m4/time_r.m4
+  m4/timespec.m4
+  m4/tm_gmtoff.m4
+  m4/uintmax_t.m4
+  m4/ulonglong.m4
+  m4/unistd-safer.m4
+  m4/unistd_h.m4
+  m4/visibility.m4
+  m4/wchar.m4
+  m4/wchar_t.m4
+  m4/wctype.m4
+  m4/wcwidth.m4
+  m4/wint_t.m4
+  m4/xalloc.m4
+  m4/xgetcwd.m4
+  m4/xsize.m4
+  m4/xstrndup.m4
+  m4/xstrtod.m4
+  m4/xstrtol.m4
+  m4/yesno.m4
+  tests/test-alloca-opt.c
+  tests/test-allocsa.c
+  tests/test-argmatch.c
+  tests/test-c-strstr.c
+  tests/test-dirname.c
+  tests/test-fcntl.c
+  tests/test-gettimeofday.c
+  tests/test-inttypes.c
+  tests/test-mbscasestr1.c
+  tests/test-mbscasestr2.c
+  tests/test-mbscasestr2.sh
+  tests/test-mbscasestr3.c
+  tests/test-mbscasestr3.sh
+  tests/test-mbscasestr4.c
+  tests/test-mbscasestr4.sh
+  tests/test-mbsstr1.c
+  tests/test-mbsstr2.c
+  tests/test-mbsstr2.sh
+  tests/test-mbsstr3.c
+  tests/test-mbsstr3.sh
+  tests/test-stat-time.c
+  tests/test-stdbool.c
+  tests/test-stdint.c
+  tests/test-stdlib.c
+  tests/test-string.c
+  tests/test-sys_stat.c
+  tests/test-sys_time.c
+  tests/test-time.c
+  tests/test-unistd.c
+  tests/test-wchar.c
+  tests/test-wctype.c
+])
+m4trace:gnulib/m4/hash.m4:7: -1- AC_DEFUN([gl_HASH], [
+  AC_LIBOBJ([hash])
+
+  dnl Prerequisites of lib/hash.c.
   AC_REQUIRE([AM_STDBOOL_H])
-  AC_REQUIRE([gl_AC_TYPE_UINTMAX_T])
+])
+m4trace:gnulib/m4/human.m4:7: -1- AC_DEFUN([gl_HUMAN], [
+  AC_LIBOBJ([human])
 
   dnl Prerequisites of lib/human.c.
   :
 ])
+m4trace:gnulib/m4/i-ring.m4:7: -1- AC_DEFUN([gl_I_RING], [
+  AC_LIBOBJ([i-ring])
+])
 m4trace:gnulib/m4/iconv.m4:9: -1- AC_DEFUN([AM_ICONV_LINKFLAGS_BODY], [
   dnl Prerequisites of AC_LIB_LINKFLAGS_BODY.
   AC_REQUIRE([AC_LIB_PREPARE_PREFIX])
@@ -2110,6 +3129,7 @@ m4trace:gnulib/m4/iconv.m4:9: -1- AC_DEF
 m4trace:gnulib/m4/iconv.m4:20: -1- AC_DEFUN([AM_ICONV_LINK], [
   dnl Some systems have iconv in libc, some have it in libiconv (OSF/1 and
   dnl those with the standalone portable GNU libiconv installed).
+  AC_REQUIRE([AC_CANONICAL_HOST]) dnl for cross-compiles
 
   dnl Search for libiconv and define LIBICONV, LTLIBICONV and INCICONV
   dnl accordingly.
@@ -2122,7 +3142,7 @@ m4trace:gnulib/m4/iconv.m4:20: -1- AC_DE
   am_save_CPPFLAGS="$CPPFLAGS"
   AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCICONV])
 
-  AC_CACHE_CHECK(for iconv, am_cv_func_iconv, [
+  AC_CACHE_CHECK([for iconv], am_cv_func_iconv, [
     am_cv_func_iconv="no, consider installing GNU libiconv"
     am_cv_lib_iconv=no
     AC_TRY_LINK([#include <stdlib.h>
@@ -2145,7 +3165,84 @@ m4trace:gnulib/m4/iconv.m4:20: -1- AC_DE
     fi
   ])
   if test "$am_cv_func_iconv" = yes; then
-    AC_DEFINE(HAVE_ICONV, 1, [Define if you have the iconv() function.])
+    AC_CACHE_CHECK([for working iconv], am_cv_func_iconv_works, [
+      dnl This tests against bugs in AIX 5.1 and HP-UX 11.11.
+      am_save_LIBS="$LIBS"
+      if test $am_cv_lib_iconv = yes; then
+        LIBS="$LIBS $LIBICONV"
+      fi
+      AC_TRY_RUN([
+#include <iconv.h>
+#include <string.h>
+int main ()
+{
+  /* Test against AIX 5.1 bug: Failures are not distinguishable from successful
+     returns.  */
+  {
+    iconv_t cd_utf8_to_88591 = iconv_open ("ISO8859-1", "UTF-8");
+    if (cd_utf8_to_88591 != (iconv_t)(-1))
+      {
+        static const char input[] = "\342\202\254"; /* EURO SIGN */
+        char buf[10];
+        const char *inptr = input;
+        size_t inbytesleft = strlen (input);
+        char *outptr = buf;
+        size_t outbytesleft = sizeof (buf);
+        size_t res = iconv (cd_utf8_to_88591,
+                            (char **) &inptr, &inbytesleft,
+                            &outptr, &outbytesleft);
+        if (res == 0)
+          return 1;
+      }
+  }
+#if 0 /* This bug could be worked around by the caller.  */
+  /* Test against HP-UX 11.11 bug: Positive return value instead of 0.  */
+  {
+    iconv_t cd_88591_to_utf8 = iconv_open ("utf8", "iso88591");
+    if (cd_88591_to_utf8 != (iconv_t)(-1))
+      {
+        static const char input[] = "\304rger mit b\366sen B\374bchen ohne Augenma\337";
+        char buf[50];
+        const char *inptr = input;
+        size_t inbytesleft = strlen (input);
+        char *outptr = buf;
+        size_t outbytesleft = sizeof (buf);
+        size_t res = iconv (cd_88591_to_utf8,
+                            (char **) &inptr, &inbytesleft,
+                            &outptr, &outbytesleft);
+        if ((int)res > 0)
+          return 1;
+      }
+  }
+#endif
+  /* Test against HP-UX 11.11 bug: No converter from EUC-JP to UTF-8 is
+     provided.  */
+  if (/* Try standardized names.  */
+      iconv_open ("UTF-8", "EUC-JP") == (iconv_t)(-1)
+      /* Try IRIX, OSF/1 names.  */
+      && iconv_open ("UTF-8", "eucJP") == (iconv_t)(-1)
+      /* Try AIX names.  */
+      && iconv_open ("UTF-8", "IBM-eucJP") == (iconv_t)(-1)
+      /* Try HP-UX names.  */
+      && iconv_open ("utf8", "eucJP") == (iconv_t)(-1))
+  return 0;
+}], [am_cv_func_iconv_works=yes], [am_cv_func_iconv_works=no],
+        [case "$host_os" in
+           aix* | hpux*) am_cv_func_iconv_works="guessing no" ;;
+           *)            am_cv_func_iconv_works="guessing yes" ;;
+         esac])
+      LIBS="$am_save_LIBS"
+    ])
+    case "$am_cv_func_iconv_works" in
+      *no) am_func_iconv=no am_cv_lib_iconv=no ;;
+      *)   am_func_iconv=yes ;;
+    esac
+  else
+    am_func_iconv=no am_cv_lib_iconv=no
+  fi
+  if test "$am_func_iconv" = yes; then
+    AC_DEFINE(HAVE_ICONV, 1,
+      [Define if you have the iconv() function and it works.])
   fi
   if test "$am_cv_lib_iconv" = yes; then
     AC_MSG_CHECKING([how to link with libiconv])
@@ -2160,7 +3257,7 @@ m4trace:gnulib/m4/iconv.m4:20: -1- AC_DE
   AC_SUBST(LIBICONV)
   AC_SUBST(LTLIBICONV)
 ])
-m4trace:gnulib/m4/iconv.m4:75: -1- AC_DEFUN([AM_ICONV], [
+m4trace:gnulib/m4/iconv.m4:153: -1- AC_DEFUN([AM_ICONV], [
   AM_ICONV_LINK
   if test "$am_cv_func_iconv" = yes; then
     AC_MSG_CHECKING([for iconv declaration])
@@ -2187,10 +3284,37 @@ size_t iconv();
   fi
 ])
 m4trace:gnulib/m4/idcache.m4:7: -1- AC_DEFUN([gl_IDCACHE], [
-  dnl Prerequisites of lib/idcache.c.
-  AC_CHECK_HEADERS_ONCE(unistd.h)
+  AC_LIBOBJ([idcache])
+])
+m4trace:gnulib/m4/inline.m4:12: -1- AC_DEFUN([gl_INLINE], [
+  AC_REQUIRE([AC_C_INLINE])
+  AC_CACHE_CHECK([whether the compiler generally respects inline],
+    [gl_cv_c_inline_effective],
+    [if test $ac_cv_c_inline = no; then
+       gl_cv_c_inline_effective=no
+     else
+       dnl GCC defines __NO_INLINE__ if not optimizing or if -fno-inline is
+       dnl specified.
+       dnl Use AC_COMPILE_IFELSE here, not AC_EGREP_CPP, because the result
+       dnl depends on optimization flags, which can be in CFLAGS.
+       dnl (AC_EGREP_CPP looks only at the CPPFLAGS.)
+       AC_COMPILE_IFELSE(
+         [AC_LANG_PROGRAM([[]],
+           [[#ifdef __NO_INLINE__
+               #error "inline is not effective"
+             #endif]])],
+         [gl_cv_c_inline_effective=yes],
+         [gl_cv_c_inline_effective=no])
+     fi
+    ])
+  if test $gl_cv_c_inline_effective = yes; then
+    AC_DEFINE([HAVE_INLINE], 1,
+      [Define to 1 if the compiler supports one of the keywords
+       'inline', '__inline__', '__inline' and effectively inlines
+       functions marked as such.])
+  fi
 ])
-m4trace:gnulib/m4/intdiv0.m4:11: -1- AC_DEFUN([gt_INTDIV0], [
+m4trace:gnulib/m4/intdiv0.m4:9: -1- AC_DEFUN([gt_INTDIV0], [
   AC_REQUIRE([AC_PROG_CC])dnl
   AC_REQUIRE([AC_CANONICAL_HOST])dnl
 
@@ -2202,11 +3326,7 @@ m4trace:gnulib/m4/intdiv0.m4:11: -1- AC_
 #include <signal.h>
 
 static void
-#ifdef __cplusplus
 sigfpe_handler (int sig)
-#else
-sigfpe_handler (sig) int sig;
-#endif
 {
   /* Exit with code 0 if SIGFPE, with code 1 if any other signal.  */
   exit (sig != SIGFPE);
@@ -2236,12 +3356,14 @@ int main ()
 ], gt_cv_int_divbyzero_sigfpe=yes, gt_cv_int_divbyzero_sigfpe=no,
         [
           # Guess based on the CPU.
+changequote(,)dnl
           case "$host_cpu" in
             alpha* | i[34567]86 | m68k | s390*)
               gt_cv_int_divbyzero_sigfpe="guessing yes";;
             *)
               gt_cv_int_divbyzero_sigfpe="guessing no";;
           esac
+changequote([,])dnl
         ])
     ])
   case "$gt_cv_int_divbyzero_sigfpe" in
@@ -2251,43 +3373,216 @@ int main ()
   AC_DEFINE_UNQUOTED(INTDIV0_RAISES_SIGFPE, $value,
     [Define if integer division by zero raises signal SIGFPE.])
 ])
-m4trace:gnulib/m4/intmax.m4:13: -1- AC_DEFUN([gt_TYPE_INTMAX_T], [
+m4trace:gnulib/m4/intl.m4:25: -1- AC_DEFUN([AM_INTL_SUBDIR], [
+  AC_REQUIRE([AC_PROG_INSTALL])dnl
+  AC_REQUIRE([AM_PROG_MKDIR_P])dnl defined by automake
+  AC_REQUIRE([AC_PROG_CC])dnl
+  AC_REQUIRE([AC_CANONICAL_HOST])dnl
+  AC_REQUIRE([gt_GLIBC2])dnl
+  AC_REQUIRE([AC_PROG_RANLIB])dnl
+  AC_REQUIRE([gl_VISIBILITY])dnl
+  AC_REQUIRE([gt_INTL_SUBDIR_CORE])dnl
+  AC_REQUIRE([AC_TYPE_LONG_LONG_INT])dnl
+  AC_REQUIRE([gt_TYPE_LONGDOUBLE])dnl
+  AC_REQUIRE([gt_TYPE_WCHAR_T])dnl
+  AC_REQUIRE([gt_TYPE_WINT_T])dnl
   AC_REQUIRE([gl_AC_HEADER_INTTYPES_H])
-  AC_REQUIRE([gl_AC_HEADER_STDINT_H])
-  AC_CACHE_CHECK(for intmax_t, gt_cv_c_intmax_t,
-    [AC_TRY_COMPILE([
-#include <stddef.h>
-#include <stdlib.h>
-#if HAVE_STDINT_H_WITH_UINTMAX
-#include <stdint.h>
-#endif
-#if HAVE_INTTYPES_H_WITH_UINTMAX
-#include <inttypes.h>
-#endif
-], [intmax_t x = -1;], gt_cv_c_intmax_t=yes, gt_cv_c_intmax_t=no)])
-  if test $gt_cv_c_intmax_t = yes; then
-    AC_DEFINE(HAVE_INTMAX_T, 1,
-      [Define if you have the 'intmax_t' type in <stdint.h> or <inttypes.h>.])
+  AC_REQUIRE([gt_TYPE_INTMAX_T])
+  AC_REQUIRE([gt_PRINTF_POSIX])
+  AC_REQUIRE([gl_GLIBC21])dnl
+  AC_REQUIRE([gl_XSIZE])dnl
+  AC_REQUIRE([gt_INTL_MACOSX])dnl
+
+  AC_CHECK_TYPE([ptrdiff_t], ,
+    [AC_DEFINE([ptrdiff_t], [long],
+       [Define as the type of the result of subtracting two pointers, if the system doesn't define it.])
+    ])
+  AC_CHECK_HEADERS([stddef.h stdlib.h string.h])
+  AC_CHECK_FUNCS([asprintf fwprintf putenv setenv setlocale snprintf wcslen])
+
+  dnl Use the _snprintf function only if it is declared (because on NetBSD it
+  dnl is defined as a weak alias of snprintf; we prefer to use the latter).
+  gt_CHECK_DECL(_snprintf, [#include <stdio.h>])
+  gt_CHECK_DECL(_snwprintf, [#include <stdio.h>])
+
+  dnl Use the *_unlocked functions only if they are declared.
+  dnl (because some of them were defined without being declared in Solaris
+  dnl 2.5.1 but were removed in Solaris 2.6, whereas we want binaries built
+  dnl on Solaris 2.5.1 to run on Solaris 2.6).
+  dnl Don't use AC_CHECK_DECLS because it isn't supported in autoconf-2.13.
+  gt_CHECK_DECL(getc_unlocked, [#include <stdio.h>])
+
+  case $gt_cv_func_printf_posix in
+    *yes) HAVE_POSIX_PRINTF=1 ;;
+    *) HAVE_POSIX_PRINTF=0 ;;
+  esac
+  AC_SUBST([HAVE_POSIX_PRINTF])
+  if test "$ac_cv_func_asprintf" = yes; then
+    HAVE_ASPRINTF=1
+  else
+    HAVE_ASPRINTF=0
+  fi
+  AC_SUBST([HAVE_ASPRINTF])
+  if test "$ac_cv_func_snprintf" = yes; then
+    HAVE_SNPRINTF=1
+  else
+    HAVE_SNPRINTF=0
+  fi
+  AC_SUBST([HAVE_SNPRINTF])
+  if test "$ac_cv_func_wprintf" = yes; then
+    HAVE_WPRINTF=1
+  else
+    HAVE_WPRINTF=0
+  fi
+  AC_SUBST([HAVE_WPRINTF])
+
+  AM_LANGINFO_CODESET
+  gt_LC_MESSAGES
+
+  dnl Compilation on mingw and Cygwin needs special Makefile rules, because
+  dnl 1. when we install a shared library, we must arrange to export
+  dnl    auxiliary pointer variables for every exported variable,
+  dnl 2. when we install a shared library and a static library simultaneously,
+  dnl    the include file specifies __declspec(dllimport) and therefore we
+  dnl    must arrange to define the auxiliary pointer variables for the
+  dnl    exported variables _also_ in the static library.
+  if test "$enable_shared" = yes; then
+    case "$host_os" in
+      cygwin*) is_woe32dll=yes ;;
+      *) is_woe32dll=no ;;
+    esac
+  else
+    is_woe32dll=no
   fi
+  WOE32DLL=$is_woe32dll
+  AC_SUBST([WOE32DLL])
+
+  dnl Rename some macros and functions used for locking.
+  AH_BOTTOM([
+#define __libc_lock_t                   gl_lock_t
+#define __libc_lock_define              gl_lock_define
+#define __libc_lock_define_initialized  gl_lock_define_initialized
+#define __libc_lock_init                gl_lock_init
+#define __libc_lock_lock                gl_lock_lock
+#define __libc_lock_unlock              gl_lock_unlock
+#define __libc_lock_recursive_t                   gl_recursive_lock_t
+#define __libc_lock_define_recursive              gl_recursive_lock_define
+#define __libc_lock_define_initialized_recursive  gl_recursive_lock_define_initialized
+#define __libc_lock_init_recursive                gl_recursive_lock_init
+#define __libc_lock_lock_recursive                gl_recursive_lock_lock
+#define __libc_lock_unlock_recursive              gl_recursive_lock_unlock
+#define glthread_in_use  libintl_thread_in_use
+#define glthread_lock_init     libintl_lock_init
+#define glthread_lock_lock     libintl_lock_lock
+#define glthread_lock_unlock   libintl_lock_unlock
+#define glthread_lock_destroy  libintl_lock_destroy
+#define glthread_rwlock_init     libintl_rwlock_init
+#define glthread_rwlock_rdlock   libintl_rwlock_rdlock
+#define glthread_rwlock_wrlock   libintl_rwlock_wrlock
+#define glthread_rwlock_unlock   libintl_rwlock_unlock
+#define glthread_rwlock_destroy  libintl_rwlock_destroy
+#define glthread_recursive_lock_init     libintl_recursive_lock_init
+#define glthread_recursive_lock_lock     libintl_recursive_lock_lock
+#define glthread_recursive_lock_unlock   libintl_recursive_lock_unlock
+#define glthread_recursive_lock_destroy  libintl_recursive_lock_destroy
+#define glthread_once                 libintl_once
+#define glthread_once_call            libintl_once_call
+#define glthread_once_singlethreaded  libintl_once_singlethreaded
 ])
-m4trace:gnulib/m4/intmax_t.m4:14: -1- AC_DEFUN([gl_AC_TYPE_INTMAX_T], [
-  dnl For simplicity, we assume that a header file defines 'intmax_t' if and
-  dnl only if it defines 'uintmax_t'.
-  AC_REQUIRE([gl_AC_HEADER_INTTYPES_H])
+])
+m4trace:gnulib/m4/intl.m4:162: -1- AC_DEFUN([gt_INTL_SUBDIR_CORE], [
+  AC_REQUIRE([AC_C_INLINE])dnl
+  AC_REQUIRE([AC_TYPE_SIZE_T])dnl
   AC_REQUIRE([gl_AC_HEADER_STDINT_H])
-  if test $gl_cv_header_inttypes_h = no && test $gl_cv_header_stdint_h = no; then
-    AC_REQUIRE([gl_AC_TYPE_LONG_LONG])
-    test $ac_cv_type_long_long = yes \
-      && ac_type='long long' \
-      || ac_type='long'
-    AC_DEFINE_UNQUOTED(intmax_t, $ac_type,
-     [Define to long or long long if <inttypes.h> and <stdint.h> don't define.])
+  AC_REQUIRE([AC_FUNC_ALLOCA])dnl
+  AC_REQUIRE([AC_FUNC_MMAP])dnl
+  AC_REQUIRE([gt_INTDIV0])dnl
+  AC_REQUIRE([gl_AC_TYPE_UINTMAX_T])dnl
+  AC_REQUIRE([gt_INTTYPES_PRI])dnl
+  AC_REQUIRE([gl_LOCK])dnl
+
+  AC_TRY_LINK(
+    [int foo (int a) { a = __builtin_expect (a, 10); return a == 10 ? 0 : 1; }],
+    [],
+    [AC_DEFINE([HAVE_BUILTIN_EXPECT], 1,
+       [Define to 1 if the compiler understands __builtin_expect.])])
+
+  AC_CHECK_HEADERS([argz.h inttypes.h limits.h unistd.h sys/param.h])
+  AC_CHECK_FUNCS([getcwd getegid geteuid getgid getuid mempcpy munmap \
+    stpcpy strcasecmp strdup strtoul tsearch argz_count argz_stringify \
+    argz_next __fsetlocking])
+
+  dnl Use the *_unlocked functions only if they are declared.
+  dnl (because some of them were defined without being declared in Solaris
+  dnl 2.5.1 but were removed in Solaris 2.6, whereas we want binaries built
+  dnl on Solaris 2.5.1 to run on Solaris 2.6).
+  dnl Don't use AC_CHECK_DECLS because it isn't supported in autoconf-2.13.
+  gt_CHECK_DECL(feof_unlocked, [#include <stdio.h>])
+  gt_CHECK_DECL(fgets_unlocked, [#include <stdio.h>])
+
+  AM_ICONV
+
+  dnl glibc >= 2.4 has a NL_LOCALE_NAME macro when _GNU_SOURCE is defined,
+  dnl and a _NL_LOCALE_NAME macro always.
+  AC_CACHE_CHECK([for NL_LOCALE_NAME macro], gt_cv_nl_locale_name,
+    [AC_TRY_LINK([#include <langinfo.h>
+#include <locale.h>],
+      [char* cs = nl_langinfo(_NL_LOCALE_NAME(LC_MESSAGES));],
+      gt_cv_nl_locale_name=yes,
+      gt_cv_nl_locale_name=no)
+    ])
+  if test $gt_cv_nl_locale_name = yes; then
+    AC_DEFINE(HAVE_NL_LOCALE_NAME, 1,
+      [Define if you have <langinfo.h> and it defines the NL_LOCALE_NAME macro if _GNU_SOURCE is defined.])
+  fi
+
+  dnl intl/plural.c is generated from intl/plural.y. It requires bison,
+  dnl because plural.y uses bison specific features. It requires at least
+  dnl bison-1.26 because earlier versions generate a plural.c that doesn't
+  dnl compile.
+  dnl bison is only needed for the maintainer (who touches plural.y). But in
+  dnl order to avoid separate Makefiles or --enable-maintainer-mode, we put
+  dnl the rule in general Makefile. Now, some people carelessly touch the
+  dnl files or have a broken "make" program, hence the plural.c rule will
+  dnl sometimes fire. To avoid an error, defines BISON to ":" if it is not
+  dnl present or too old.
+  AC_CHECK_PROGS([INTLBISON], [bison])
+  if test -z "$INTLBISON"; then
+    ac_verc_fail=yes
   else
-    AC_DEFINE(HAVE_INTMAX_T, 1,
-      [Define if you have the 'intmax_t' type in <stdint.h> or <inttypes.h>.])
+    dnl Found it, now check the version.
+    AC_MSG_CHECKING([version of bison])
+changequote(<<,>>)dnl
+    ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \([0-9]*\.[0-9.]*\).*$/\1/p'`
+    case $ac_prog_version in
+      '') ac_prog_version="v. ?.??, bad"; ac_verc_fail=yes;;
+      1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)
+changequote([,])dnl
+         ac_prog_version="$ac_prog_version, ok"; ac_verc_fail=no;;
+      *) ac_prog_version="$ac_prog_version, bad"; ac_verc_fail=yes;;
+    esac
+    AC_MSG_RESULT([$ac_prog_version])
+  fi
+  if test $ac_verc_fail = yes; then
+    INTLBISON=:
   fi
 ])
-m4trace:gnulib/m4/intmax_t.m4:35: -1- AC_DEFUN([gt_AC_TYPE_INTMAX_T], [
+m4trace:gnulib/m4/intl.m4:244: -1- AC_DEFUN([gt_CHECK_DECL], [
+  AC_CACHE_CHECK([whether $1 is declared], ac_cv_have_decl_$1,
+    [AC_TRY_COMPILE([$2], [
+#ifndef $1
+  char *p = (char *) $1;
+#endif
+], ac_cv_have_decl_$1=yes, ac_cv_have_decl_$1=no)])
+  if test $ac_cv_have_decl_$1 = yes; then
+    gt_value=1
+  else
+    gt_value=0
+  fi
+  AC_DEFINE_UNQUOTED([HAVE_DECL_]translit($1, [a-z], [A-Z]), [$gt_value],
+    [Define to 1 if you have the declaration of `$1', and to 0 if you don't.])
+])
+m4trace:gnulib/m4/intmax.m4:11: -1- AC_DEFUN([gt_TYPE_INTMAX_T], [
   AC_REQUIRE([gl_AC_HEADER_INTTYPES_H])
   AC_REQUIRE([gl_AC_HEADER_STDINT_H])
   AC_CACHE_CHECK(for intmax_t, gt_cv_c_intmax_t,
@@ -2300,22 +3595,18 @@ m4trace:gnulib/m4/intmax_t.m4:35: -1- AC
 #if HAVE_INTTYPES_H_WITH_UINTMAX
 #include <inttypes.h>
 #endif
-], [intmax_t x = -1;], gt_cv_c_intmax_t=yes, gt_cv_c_intmax_t=no)])
+],     [intmax_t x = -1;
+        return !x;],
+       gt_cv_c_intmax_t=yes,
+       gt_cv_c_intmax_t=no)])
   if test $gt_cv_c_intmax_t = yes; then
     AC_DEFINE(HAVE_INTMAX_T, 1,
       [Define if you have the 'intmax_t' type in <stdint.h> or <inttypes.h>.])
-  else
-    AC_REQUIRE([gl_AC_TYPE_LONG_LONG])
-    test $ac_cv_type_long_long = yes \
-      && ac_type='long long' \
-      || ac_type='long'
-    AC_DEFINE_UNQUOTED(intmax_t, $ac_type,
-     [Define to long or long long if <stdint.h> and <inttypes.h> don't define.])
   fi
 ])
 m4trace:gnulib/m4/inttypes-pri.m4:14: -1- AC_DEFUN([gt_INTTYPES_PRI], [
-  AC_REQUIRE([gt_HEADER_INTTYPES_H])
-  if test $gt_cv_header_inttypes_h = yes; then
+  AC_CHECK_HEADERS([inttypes.h])
+  if test $ac_cv_header_inttypes_h = yes; then
     AC_CACHE_CHECK([whether the inttypes.h PRIxNN macros are broken],
       gt_cv_inttypes_pri_broken,
       [
@@ -2329,27 +3620,227 @@ char *p = PRId32;
   if test "$gt_cv_inttypes_pri_broken" = yes; then
     AC_DEFINE_UNQUOTED(PRI_MACROS_BROKEN, 1,
       [Define if <inttypes.h> exists and defines unusable PRI* macros.])
+    PRI_MACROS_BROKEN=1
+  else
+    PRI_MACROS_BROKEN=0
   fi
+  AC_SUBST([PRI_MACROS_BROKEN])
 ])
-m4trace:gnulib/m4/inttypes.m4:14: -1- AC_DEFUN([gt_HEADER_INTTYPES_H], [
-  AC_CACHE_CHECK([for inttypes.h], gt_cv_header_inttypes_h,
-  [
-    AC_TRY_COMPILE(
-      [#include <sys/types.h>
-#include <inttypes.h>],
-      [], gt_cv_header_inttypes_h=yes, gt_cv_header_inttypes_h=no)
-  ])
-  if test $gt_cv_header_inttypes_h = yes; then
-    AC_DEFINE_UNQUOTED(HAVE_INTTYPES_H, 1,
-      [Define if <inttypes.h> exists and doesn't clash with <sys/types.h>.])
+m4trace:gnulib/m4/inttypes.m4:10: -1- AC_DEFUN([gl_INTTYPES_H], [
+  AC_REQUIRE([gl_STDINT_H])
+  AC_REQUIRE([gt_INTTYPES_PRI])
+  AC_CHECK_DECLS_ONCE([imaxabs])
+  AC_CHECK_DECLS_ONCE([imaxdiv])
+  AC_CHECK_DECLS_ONCE([strtoimax])
+  AC_CHECK_DECLS_ONCE([strtoumax])
+
+  dnl Now see if we need a substitute <inttypes.h>.
+  dnl A complete <inttypes.h> requires
+  dnl   - a complete <stdint.h>,
+  dnl   - the existence of an <inttypes.h>,
+  dnl   - that imaxabs, imaxdiv, strtoimax, strtoumax are declared,
+  dnl   - some additional tests.
+  AC_CACHE_CHECK([whether inttypes.h conforms to C99],
+    [gl_cv_header_working_inttypes_h],
+    [gl_cv_header_working_inttypes_h=no
+     if test "$gl_cv_header_working_stdint_h" = yes \
+	&& test $ac_cv_header_inttypes_h = yes \
+	&& test "$ac_cv_have_decl_imaxabs" = yes \
+	&& test "$ac_cv_have_decl_imaxdiv" = yes \
+	&& test "$ac_cv_have_decl_strtoimax" = yes \
+	&& test "$ac_cv_have_decl_strtoumax" = yes; then
+       AC_COMPILE_IFELSE([
+	 AC_LANG_PROGRAM([
+#include <stddef.h>
+#define __STDC_LIMIT_MACROS 1 /* to make it work also in C++ mode */
+#define __STDC_CONSTANT_MACROS 1 /* to make it work also in C++ mode */
+#define __STDC_FORMAT_MACROS 1 /* to make it work also in C++ mode */
+#include ABSOLUTE_INTTYPES_H
+
+/* No need to duplicate the tests of stdint.m4; they are subsumed by
+   $gl_cv_header_working_stdint_h = yes.  */
+
+/* Tests for macros supposed to be defined in inttypes.h.  */
+
+const char *k = /* implicit string concatenation */
+#ifdef INT8_MAX
+  PRId8 PRIi8
+#endif
+#ifdef UINT8_MAX
+  PRIo8 PRIu8 PRIx8 PRIX8
+#endif
+#ifdef INT16_MAX
+  PRId16 PRIi16
+#endif
+#ifdef UINT16_MAX
+  PRIo16 PRIu16 PRIx16 PRIX16
+#endif
+#ifdef INT32_MAX
+  PRId32 PRIi32
+#endif
+#ifdef UINT32_MAX
+  PRIo32 PRIu32 PRIx32 PRIX32
+#endif
+#ifdef INT64_MAX
+  PRId64 PRIi64
+#endif
+#ifdef UINT64_MAX
+  PRIo64 PRIu64 PRIx64 PRIX64
+#endif
+  PRIdLEAST8 PRIiLEAST8 PRIoLEAST8 PRIuLEAST8 PRIxLEAST8 PRIXLEAST8
+  PRIdLEAST16 PRIiLEAST16 PRIoLEAST16 PRIuLEAST16 PRIxLEAST16 PRIXLEAST16
+  PRIdLEAST32 PRIiLEAST32 PRIoLEAST32 PRIuLEAST32 PRIxLEAST32 PRIXLEAST32
+  PRIdLEAST64 PRIiLEAST64
+  PRIoLEAST64 PRIuLEAST64 PRIxLEAST64 PRIXLEAST64
+  PRIdFAST8 PRIiFAST8 PRIoFAST8 PRIuFAST8 PRIxFAST8 PRIXFAST8
+  PRIdFAST16 PRIiFAST16 PRIoFAST16 PRIuFAST16 PRIxFAST16 PRIXFAST16
+  PRIdFAST32 PRIiFAST32 PRIoFAST32 PRIuFAST32 PRIxFAST32 PRIXFAST32
+  PRIdFAST64 PRIiFAST64
+  PRIoFAST64 PRIuFAST64 PRIxFAST64 PRIXFAST64
+  PRIdMAX PRIiMAX PRIoMAX PRIuMAX PRIxMAX PRIXMAX
+#ifdef INTPTR_MAX
+  PRIdPTR PRIiPTR
+#endif
+#ifdef UINTPTR_MAX
+  PRIoPTR PRIuPTR PRIxPTR PRIXPTR
+#endif
+  ;
+const char *l = /* implicit string concatenation */
+#ifdef INT8_MAX
+  SCNd8 SCNi8
+#endif
+#ifdef UINT8_MAX
+  SCNo8 SCNu8 SCNx8
+#endif
+#ifdef INT16_MAX
+  SCNd16 SCNi16
+#endif
+#ifdef UINT16_MAX
+  SCNo16 SCNu16 SCNx16
+#endif
+#ifdef INT32_MAX
+  SCNd32 SCNi32
+#endif
+#ifdef UINT32_MAX
+  SCNo32 SCNu32 SCNx32
+#endif
+#ifdef INT64_MAX
+  SCNd64 SCNi64
+#endif
+#ifdef UINT64_MAX
+  SCNo64 SCNu64 SCNx64
+#endif
+  SCNdLEAST8 SCNiLEAST8 SCNoLEAST8 SCNuLEAST8 SCNxLEAST8
+  SCNdLEAST16 SCNiLEAST16 SCNoLEAST16 SCNuLEAST16 SCNxLEAST16
+  SCNdLEAST32 SCNiLEAST32 SCNoLEAST32 SCNuLEAST32 SCNxLEAST32
+  SCNdLEAST64 SCNiLEAST64
+  SCNoLEAST64 SCNuLEAST64 SCNxLEAST64
+  SCNdFAST8 SCNiFAST8 SCNoFAST8 SCNuFAST8 SCNxFAST8
+  SCNdFAST16 SCNiFAST16 SCNoFAST16 SCNuFAST16 SCNxFAST16
+  SCNdFAST32 SCNiFAST32 SCNoFAST32 SCNuFAST32 SCNxFAST32
+  SCNdFAST64 SCNiFAST64
+  SCNoFAST64 SCNuFAST64 SCNxFAST64
+  SCNdMAX SCNiMAX SCNoMAX SCNuMAX SCNxMAX
+#ifdef INTPTR_MAX
+  SCNdPTR SCNiPTR
+#endif
+#ifdef UINTPTR_MAX
+  SCNoPTR SCNuPTR SCNxPTR
+#endif
+  ;
+	 ])],
+	 [gl_cv_header_working_inttypes_h=yes])
+     fi])
+
+  dnl Override <inttypes.h> always, so that the portability warnings work.
+  if false && test $gl_cv_header_working_inttypes_h = yes; then
+    dnl Use the existing <inttypes.h>.
+    INTTYPES_H=''
+  else
+
+    AC_REQUIRE([gl_INTTYPES_H_DEFAULTS])
+    dnl AC_INCLUDES_DEFAULT defines $ac_cv_header_inttypes_h.
+    if test $ac_cv_header_inttypes_h = yes; then
+      gl_ABSOLUTE_HEADER([inttypes.h])
+      ABSOLUTE_INTTYPES_H=\"$gl_cv_absolute_inttypes_h\"
+    else
+      ABSOLUTE_INTTYPES_H=\"no/such/file/inttypes.h\"
+    fi
+    AC_SUBST([ABSOLUTE_INTTYPES_H])
+
+    PRIPTR_PREFIX=
+    if test -n "$STDINT_H"; then
+      dnl Using the gnulib <stdint.h>. It always defines intptr_t to 'long'.
+      PRIPTR_PREFIX='"l"'
+    else
+      dnl Using the system's <stdint.h>.
+      for glpfx in '' l ll I64; do
+        case $glpfx in
+          '')  gltype1='int';;
+          l)   gltype1='long int';;
+          ll)  gltype1='long long int';;
+          I64) gltype1='__int64';;
+        esac
+        AC_COMPILE_IFELSE(
+          [AC_LANG_PROGRAM([#include <stdint.h>
+             extern intptr_t foo;
+             extern $gltype1 foo;])],
+          [PRIPTR_PREFIX='"'$glpfx'"'])
+        test -n "$PRIPTR_PREFIX" && break
+      done
+    fi
+    AC_SUBST([PRIPTR_PREFIX])
+
+    if test "$ac_cv_have_decl_imaxabs" = yes; then
+      HAVE_DECL_IMAXABS=1
+    else
+      HAVE_DECL_IMAXABS=0
+    fi
+
+    if test "$ac_cv_have_decl_imaxdiv" = yes; then
+      HAVE_DECL_IMAXDIV=1
+    else
+      HAVE_DECL_IMAXDIV=0
+    fi
+
+    if test "$ac_cv_have_decl_strtoimax" = yes; then
+      HAVE_DECL_STRTOIMAX=1
+    else
+      HAVE_DECL_STRTOIMAX=0
+    fi
+
+    if test "$ac_cv_have_decl_strtoumax" = yes; then
+      HAVE_DECL_STRTOUMAX=1
+    else
+      HAVE_DECL_STRTOUMAX=0
+    fi
+
+    INTTYPES_H='inttypes.h'
   fi
+  AC_SUBST(INTTYPES_H)
+])
+m4trace:gnulib/m4/inttypes.m4:205: -1- AC_DEFUN([gl_INTTYPES_MODULE_INDICATOR], [
+  dnl Use AC_REQUIRE here, so that the default settings are expanded once only.
+  AC_REQUIRE([gl_INTTYPES_H_DEFAULTS])
+  GNULIB_[]m4_translit([$1],[abcdefghijklmnopqrstuvwxyz./-],[ABCDEFGHIJKLMNOPQRSTUVWXYZ___])=1
+])
+m4trace:gnulib/m4/inttypes.m4:212: -1- AC_DEFUN([gl_INTTYPES_H_DEFAULTS], [
+  GNULIB_IMAXABS=0;      AC_SUBST([GNULIB_IMAXABS])
+  GNULIB_IMAXDIV=0;      AC_SUBST([GNULIB_IMAXDIV])
+  GNULIB_STRTOIMAX=0;    AC_SUBST([GNULIB_STRTOIMAX])
+  GNULIB_STRTOUMAX=0;    AC_SUBST([GNULIB_STRTOUMAX])
+  dnl Assume proper GNU behavior unless another module says otherwise.
+  HAVE_DECL_IMAXABS=1;   AC_SUBST([HAVE_DECL_IMAXABS])
+  HAVE_DECL_IMAXDIV=1;   AC_SUBST([HAVE_DECL_IMAXDIV])
+  HAVE_DECL_STRTOIMAX=1; AC_SUBST([HAVE_DECL_STRTOIMAX])
+  HAVE_DECL_STRTOUMAX=1; AC_SUBST([HAVE_DECL_STRTOUMAX])
 ])
 m4trace:gnulib/m4/inttypes_h.m4:12: -1- AC_DEFUN([gl_AC_HEADER_INTTYPES_H], [
   AC_CACHE_CHECK([for inttypes.h], gl_cv_header_inttypes_h,
   [AC_TRY_COMPILE(
     [#include <sys/types.h>
 #include <inttypes.h>],
-    [uintmax_t i = (uintmax_t) -1;],
+    [uintmax_t i = (uintmax_t) -1; return !i;],
     gl_cv_header_inttypes_h=yes,
     gl_cv_header_inttypes_h=no)])
   if test $gl_cv_header_inttypes_h = yes; then
@@ -2358,16 +3849,17 @@ m4trace:gnulib/m4/inttypes_h.m4:12: -1-
        and declares uintmax_t. ])
   fi
 ])
-m4trace:gnulib/m4/isc-posix.m4:21: -1- AC_DEFUN([AC_ISC_POSIX], [
-    dnl This test replaces the obsolescent AC_ISC_POSIX kludge.
-    AC_CHECK_LIB(cposix, strerror, [LIBS="$LIBS -lcposix"])
-  
+m4trace:gnulib/m4/lchown.m4:13: -1- AC_DEFUN([gl_FUNC_LCHOWN], [
+  AC_REQUIRE([AC_TYPE_UID_T])
+  AC_REQUIRE([gl_FUNC_CHOWN])
+  AC_CHECK_DECLS_ONCE([lchown])
+  AC_REPLACE_FUNCS(lchown)
 ])
-m4trace:gnulib/m4/lcmessage.m4:23: -1- AC_DEFUN([AM_LC_MESSAGES], [
-  AC_CACHE_CHECK([for LC_MESSAGES], am_cv_val_LC_MESSAGES,
+m4trace:gnulib/m4/lcmessage.m4:21: -1- AC_DEFUN([gt_LC_MESSAGES], [
+  AC_CACHE_CHECK([for LC_MESSAGES], gt_cv_val_LC_MESSAGES,
     [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],
-       am_cv_val_LC_MESSAGES=yes, am_cv_val_LC_MESSAGES=no)])
-  if test $am_cv_val_LC_MESSAGES = yes; then
+       gt_cv_val_LC_MESSAGES=yes, gt_cv_val_LC_MESSAGES=no)])
+  if test $gt_cv_val_LC_MESSAGES = yes; then
     AC_DEFINE(HAVE_LC_MESSAGES, 1,
       [Define if your <locale.h> file defines LC_MESSAGES.])
   fi
@@ -2467,7 +3959,7 @@ fi
 test -z "$LD" && AC_MSG_ERROR([no acceptable ld found in \$PATH])
 AC_LIB_PROG_LD_GNU
 ])
-m4trace:gnulib/m4/lib-link.m4:13: -1- AC_DEFUN([AC_LIB_LINKFLAGS], [
+m4trace:gnulib/m4/lib-link.m4:17: -1- AC_DEFUN([AC_LIB_LINKFLAGS], [
   AC_REQUIRE([AC_LIB_PREPARE_PREFIX])
   AC_REQUIRE([AC_LIB_RPATH])
   define([Name],[translit([$1],[./-], [___])])
@@ -2478,20 +3970,23 @@ m4trace:gnulib/m4/lib-link.m4:13: -1- AC
     ac_cv_lib[]Name[]_libs="$LIB[]NAME"
     ac_cv_lib[]Name[]_ltlibs="$LTLIB[]NAME"
     ac_cv_lib[]Name[]_cppflags="$INC[]NAME"
+    ac_cv_lib[]Name[]_prefix="$LIB[]NAME[]_PREFIX"
   ])
   LIB[]NAME="$ac_cv_lib[]Name[]_libs"
   LTLIB[]NAME="$ac_cv_lib[]Name[]_ltlibs"
   INC[]NAME="$ac_cv_lib[]Name[]_cppflags"
+  LIB[]NAME[]_PREFIX="$ac_cv_lib[]Name[]_prefix"
   AC_LIB_APPENDTOVAR([CPPFLAGS], [$INC]NAME)
   AC_SUBST([LIB]NAME)
   AC_SUBST([LTLIB]NAME)
+  AC_SUBST([LIB]NAME[_PREFIX])
   dnl Also set HAVE_LIB[]NAME so that AC_LIB_HAVE_LINKFLAGS can reuse the
   dnl results of this search when this library appears as a dependency.
   HAVE_LIB[]NAME=yes
   undefine([Name])
   undefine([NAME])
 ])
-m4trace:gnulib/m4/lib-link.m4:47: -1- AC_DEFUN([AC_LIB_HAVE_LINKFLAGS], [
+m4trace:gnulib/m4/lib-link.m4:56: -1- AC_DEFUN([AC_LIB_HAVE_LINKFLAGS], [
   AC_REQUIRE([AC_LIB_PREPARE_PREFIX])
   AC_REQUIRE([AC_LIB_RPATH])
   define([Name],[translit([$1],[./-], [___])])
@@ -2526,14 +4021,18 @@ m4trace:gnulib/m4/lib-link.m4:47: -1- AC
     CPPFLAGS="$ac_save_CPPFLAGS"
     LIB[]NAME=
     LTLIB[]NAME=
+    LIB[]NAME[]_PREFIX=
   fi
   AC_SUBST([HAVE_LIB]NAME)
   AC_SUBST([LIB]NAME)
   AC_SUBST([LTLIB]NAME)
+  AC_SUBST([LIB]NAME[_PREFIX])
   undefine([Name])
   undefine([NAME])
 ])
-m4trace:gnulib/m4/lib-link.m4:94: -1- AC_DEFUN([AC_LIB_RPATH], [
+m4trace:gnulib/m4/lib-link.m4:109: -1- AC_DEFUN([AC_LIB_RPATH], [
+  dnl Tell automake >= 1.10 to complain if config.rpath is missing.
+  m4_ifdef([AC_REQUIRE_AUX_FILE], [AC_REQUIRE_AUX_FILE([config.rpath])])
   AC_REQUIRE([AC_PROG_CC])                dnl we use $CC, $GCC, $LDFLAGS
   AC_REQUIRE([AC_LIB_PROG_LD])            dnl we use $LD, $with_gnu_ld
   AC_REQUIRE([AC_CANONICAL_HOST])         dnl we use $host
@@ -2546,29 +4045,34 @@ m4trace:gnulib/m4/lib-link.m4:94: -1- AC
     acl_cv_rpath=done
   ])
   wl="$acl_cv_wl"
-  libext="$acl_cv_libext"
-  shlibext="$acl_cv_shlibext"
-  hardcode_libdir_flag_spec="$acl_cv_hardcode_libdir_flag_spec"
-  hardcode_libdir_separator="$acl_cv_hardcode_libdir_separator"
-  hardcode_direct="$acl_cv_hardcode_direct"
-  hardcode_minus_L="$acl_cv_hardcode_minus_L"
+  acl_libext="$acl_cv_libext"
+  acl_shlibext="$acl_cv_shlibext"
+  acl_libname_spec="$acl_cv_libname_spec"
+  acl_library_names_spec="$acl_cv_library_names_spec"
+  acl_hardcode_libdir_flag_spec="$acl_cv_hardcode_libdir_flag_spec"
+  acl_hardcode_libdir_separator="$acl_cv_hardcode_libdir_separator"
+  acl_hardcode_direct="$acl_cv_hardcode_direct"
+  acl_hardcode_minus_L="$acl_cv_hardcode_minus_L"
   dnl Determine whether the user wants rpath handling at all.
   AC_ARG_ENABLE(rpath,
     [  --disable-rpath         do not hardcode runtime library paths],
     :, enable_rpath=yes)
 ])
-m4trace:gnulib/m4/lib-link.m4:123: -1- AC_DEFUN([AC_LIB_LINKFLAGS_BODY], [
+m4trace:gnulib/m4/lib-link.m4:144: -1- AC_DEFUN([AC_LIB_LINKFLAGS_BODY], [
+  AC_REQUIRE([AC_LIB_PREPARE_MULTILIB])
   define([NAME],[translit([$1],[abcdefghijklmnopqrstuvwxyz./-],
                                [ABCDEFGHIJKLMNOPQRSTUVWXYZ___])])
+  dnl Autoconf >= 2.61 supports dots in --with options.
+  define([N_A_M_E],[m4_if(m4_version_compare(m4_defn([m4_PACKAGE_VERSION]),[2.61]),[-1],[translit([$1],[.],[_])],[$1])])
   dnl By default, look in $includedir and $libdir.
   use_additional=yes
   AC_LIB_WITH_FINAL_PREFIX([
     eval additional_includedir=\"$includedir\"
     eval additional_libdir=\"$libdir\"
   ])
-  AC_LIB_ARG_WITH([lib$1-prefix],
-[  --with-lib$1-prefix[=DIR]  search for lib$1 in DIR/include and DIR/lib
-  --without-lib$1-prefix     don't search for lib$1 in includedir and libdir],
+  AC_LIB_ARG_WITH([lib]N_A_M_E[-prefix],
+[  --with-lib]N_A_M_E[-prefix[=DIR]  search for lib$1 in DIR/include and DIR/lib
+  --without-lib]N_A_M_E[-prefix     don't search for lib$1 in includedir and libdir],
 [
     if test "X$withval" = "Xno"; then
       use_additional=no
@@ -2580,7 +4084,7 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
         ])
       else
         additional_includedir="$withval/include"
-        additional_libdir="$withval/lib"
+        additional_libdir="$withval/$acl_libdirstem"
       fi
     fi
 ])
@@ -2589,6 +4093,7 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
   LIB[]NAME=
   LTLIB[]NAME=
   INC[]NAME=
+  LIB[]NAME[]_PREFIX=
   rpathdirs=
   ltrpathdirs=
   names_already_handled=
@@ -2628,22 +4133,55 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
           found_la=
           found_so=
           found_a=
+          eval libname=\"$acl_libname_spec\"    # typically: libname=lib$name
+          if test -n "$acl_shlibext"; then
+            shrext=".$acl_shlibext"             # typically: shrext=.so
+          else
+            shrext=
+          fi
           if test $use_additional = yes; then
-            if test -n "$shlibext" && test -f "$additional_libdir/lib$name.$shlibext"; then
-              found_dir="$additional_libdir"
-              found_so="$additional_libdir/lib$name.$shlibext"
-              if test -f "$additional_libdir/lib$name.la"; then
-                found_la="$additional_libdir/lib$name.la"
-              fi
-            else
-              if test -f "$additional_libdir/lib$name.$libext"; then
-                found_dir="$additional_libdir"
-                found_a="$additional_libdir/lib$name.$libext"
-                if test -f "$additional_libdir/lib$name.la"; then
-                  found_la="$additional_libdir/lib$name.la"
+            dir="$additional_libdir"
+            dnl The same code as in the loop below:
+            dnl First look for a shared library.
+            if test -n "$acl_shlibext"; then
+              if test -f "$dir/$libname$shrext"; then
+                found_dir="$dir"
+                found_so="$dir/$libname$shrext"
+              else
+                if test "$acl_library_names_spec" = '$libname$shrext$versuffix'; then
+                  ver=`(cd "$dir" && \
+                        for f in "$libname$shrext".*; do echo "$f"; done \
+                        | sed -e "s,^$libname$shrext\\\\.,," \
+                        | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \
+                        | sed 1q ) 2>/dev/null`
+                  if test -n "$ver" && test -f "$dir/$libname$shrext.$ver"; then
+                    found_dir="$dir"
+                    found_so="$dir/$libname$shrext.$ver"
+                  fi
+                else
+                  eval library_names=\"$acl_library_names_spec\"
+                  for f in $library_names; do
+                    if test -f "$dir/$f"; then
+                      found_dir="$dir"
+                      found_so="$dir/$f"
+                      break
+                    fi
+                  done
                 fi
               fi
             fi
+            dnl Then look for a static library.
+            if test "X$found_dir" = "X"; then
+              if test -f "$dir/$libname.$acl_libext"; then
+                found_dir="$dir"
+                found_a="$dir/$libname.$acl_libext"
+              fi
+            fi
+            if test "X$found_dir" != "X"; then
+              if test -f "$dir/$libname.la"; then
+                found_la="$dir/$libname.la"
+              fi
+            fi
           fi
           if test "X$found_dir" = "X"; then
             for x in $LDFLAGS $LTLIB[]NAME; do
@@ -2651,21 +4189,46 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
               case "$x" in
                 -L*)
                   dir=`echo "X$x" | sed -e 's/^X-L//'`
-                  if test -n "$shlibext" && test -f "$dir/lib$name.$shlibext"; then
-                    found_dir="$dir"
-                    found_so="$dir/lib$name.$shlibext"
-                    if test -f "$dir/lib$name.la"; then
-                      found_la="$dir/lib$name.la"
-                    fi
-                  else
-                    if test -f "$dir/lib$name.$libext"; then
+                  dnl First look for a shared library.
+                  if test -n "$acl_shlibext"; then
+                    if test -f "$dir/$libname$shrext"; then
                       found_dir="$dir"
-                      found_a="$dir/lib$name.$libext"
-                      if test -f "$dir/lib$name.la"; then
-                        found_la="$dir/lib$name.la"
+                      found_so="$dir/$libname$shrext"
+                    else
+                      if test "$acl_library_names_spec" = '$libname$shrext$versuffix'; then
+                        ver=`(cd "$dir" && \
+                              for f in "$libname$shrext".*; do echo "$f"; done \
+                              | sed -e "s,^$libname$shrext\\\\.,," \
+                              | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \
+                              | sed 1q ) 2>/dev/null`
+                        if test -n "$ver" && test -f "$dir/$libname$shrext.$ver"; then
+                          found_dir="$dir"
+                          found_so="$dir/$libname$shrext.$ver"
+                        fi
+                      else
+                        eval library_names=\"$acl_library_names_spec\"
+                        for f in $library_names; do
+                          if test -f "$dir/$f"; then
+                            found_dir="$dir"
+                            found_so="$dir/$f"
+                            break
+                          fi
+                        done
                       fi
                     fi
                   fi
+                  dnl Then look for a static library.
+                  if test "X$found_dir" = "X"; then
+                    if test -f "$dir/$libname.$acl_libext"; then
+                      found_dir="$dir"
+                      found_a="$dir/$libname.$acl_libext"
+                    fi
+                  fi
+                  if test "X$found_dir" != "X"; then
+                    if test -f "$dir/$libname.la"; then
+                      found_la="$dir/$libname.la"
+                    fi
+                  fi
                   ;;
               esac
               if test "X$found_dir" != "X"; then
@@ -2680,7 +4243,7 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
               dnl Linking with a shared library. We attempt to hardcode its
               dnl directory into the executable's runpath, unless it's the
               dnl standard /usr/lib.
-              if test "$enable_rpath" = no || test "X$found_dir" = "X/usr/lib"; then
+              if test "$enable_rpath" = no || test "X$found_dir" = "X/usr/$acl_libdirstem"; then
                 dnl No hardcoding is needed.
                 LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }$found_so"
               else
@@ -2699,12 +4262,12 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
                   ltrpathdirs="$ltrpathdirs $found_dir"
                 fi
                 dnl The hardcoding into $LIBNAME is system dependent.
-                if test "$hardcode_direct" = yes; then
+                if test "$acl_hardcode_direct" = yes; then
                   dnl Using DIR/libNAME.so during linking hardcodes DIR into the
                   dnl resulting binary.
                   LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }$found_so"
                 else
-                  if test -n "$hardcode_libdir_flag_spec" && test "$hardcode_minus_L" = no; then
+                  if test -n "$acl_hardcode_libdir_flag_spec" && test "$acl_hardcode_minus_L" = no; then
                     dnl Use an explicit option to hardcode DIR into the resulting
                     dnl binary.
                     LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }$found_so"
@@ -2735,13 +4298,13 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
                     if test -z "$haveit"; then
                       LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }-L$found_dir"
                     fi
-                    if test "$hardcode_minus_L" != no; then
+                    if test "$acl_hardcode_minus_L" != no; then
                       dnl FIXME: Not sure whether we should use
                       dnl "-L$found_dir -l$name" or "-L$found_dir $found_so"
                       dnl here.
                       LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }$found_so"
                     else
-                      dnl We cannot use $hardcode_runpath_var and LD_RUN_PATH
+                      dnl We cannot use $acl_hardcode_runpath_var and LD_RUN_PATH
                       dnl here, because this doesn't fit in flags passed to the
                       dnl compiler. So give up. No hardcoding. This affects only
                       dnl very old systems.
@@ -2766,8 +4329,9 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
             dnl Assume the include files are nearby.
             additional_includedir=
             case "$found_dir" in
-              */lib | */lib/)
-                basedir=`echo "X$found_dir" | sed -e 's,^X,,' -e 's,/lib/*$,,'`
+              */$acl_libdirstem | */$acl_libdirstem/)
+                basedir=`echo "X$found_dir" | sed -e 's,^X,,' -e "s,/$acl_libdirstem/"'*$,,'`
+                LIB[]NAME[]_PREFIX="$basedir"
                 additional_includedir="$basedir/include"
                 ;;
             esac
@@ -2784,7 +4348,7 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
                 if test "X$additional_includedir" = "X/usr/local/include"; then
                   if test -n "$GCC"; then
                     case $host_os in
-                      linux*) haveit=yes;;
+                      linux* | gnu* | k*bsd*-gnu) haveit=yes;;
                     esac
                   fi
                 fi
@@ -2828,12 +4392,12 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
                     dnl   3. if it's already present in $LDFLAGS or the already
                     dnl      constructed $LIBNAME,
                     dnl   4. if it doesn't exist as a directory.
-                    if test "X$additional_libdir" != "X/usr/lib"; then
+                    if test "X$additional_libdir" != "X/usr/$acl_libdirstem"; then
                       haveit=
-                      if test "X$additional_libdir" = "X/usr/local/lib"; then
+                      if test "X$additional_libdir" = "X/usr/local/$acl_libdirstem"; then
                         if test -n "$GCC"; then
                           case $host_os in
-                            linux*) haveit=yes;;
+                            linux* | gnu* | k*bsd*-gnu) haveit=yes;;
                           esac
                         fi
                       fi
@@ -2929,18 +4493,18 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
     done
   done
   if test "X$rpathdirs" != "X"; then
-    if test -n "$hardcode_libdir_separator"; then
+    if test -n "$acl_hardcode_libdir_separator"; then
       dnl Weird platform: only the last -rpath option counts, the user must
       dnl pass all path elements in one option. We can arrange that for a
       dnl single library, but not when more than one $LIBNAMEs are used.
       alldirs=
       for found_dir in $rpathdirs; do
-        alldirs="${alldirs}${alldirs:+$hardcode_libdir_separator}$found_dir"
+        alldirs="${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$found_dir"
       done
-      dnl Note: hardcode_libdir_flag_spec uses $libdir and $wl.
+      dnl Note: acl_hardcode_libdir_flag_spec uses $libdir and $wl.
       acl_save_libdir="$libdir"
       libdir="$alldirs"
-      eval flag=\"$hardcode_libdir_flag_spec\"
+      eval flag=\"$acl_hardcode_libdir_flag_spec\"
       libdir="$acl_save_libdir"
       LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }$flag"
     else
@@ -2948,7 +4512,7 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
       for found_dir in $rpathdirs; do
         acl_save_libdir="$libdir"
         libdir="$found_dir"
-        eval flag=\"$hardcode_libdir_flag_spec\"
+        eval flag=\"$acl_hardcode_libdir_flag_spec\"
         libdir="$acl_save_libdir"
         LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }$flag"
       done
@@ -2962,7 +4526,7 @@ m4trace:gnulib/m4/lib-link.m4:123: -1- A
     done
   fi
 ])
-m4trace:gnulib/m4/lib-link.m4:534: -1- AC_DEFUN([AC_LIB_APPENDTOVAR], [
+m4trace:gnulib/m4/lib-link.m4:618: -1- AC_DEFUN([AC_LIB_APPENDTOVAR], [
   for element in [$2]; do
     haveit=
     for x in $[$1]; do
@@ -2977,11 +4541,79 @@ m4trace:gnulib/m4/lib-link.m4:534: -1- A
     fi
   done
 ])
+m4trace:gnulib/m4/lib-link.m4:642: -1- AC_DEFUN([AC_LIB_LINKFLAGS_FROM_LIBS], [
+  AC_REQUIRE([AC_LIB_RPATH])
+  AC_REQUIRE([AC_LIB_PREPARE_MULTILIB])
+  $1=
+  if test "$enable_rpath" != no; then
+    if test -n "$acl_hardcode_libdir_flag_spec" && test "$acl_hardcode_minus_L" = no; then
+      dnl Use an explicit option to hardcode directories into the resulting
+      dnl binary.
+      rpathdirs=
+      next=
+      for opt in $2; do
+        if test -n "$next"; then
+          dir="$next"
+          dnl No need to hardcode the standard /usr/lib.
+          if test "X$dir" != "X/usr/$acl_libdirstem"; then
+            rpathdirs="$rpathdirs $dir"
+          fi
+          next=
+        else
+          case $opt in
+            -L) next=yes ;;
+            -L*) dir=`echo "X$opt" | sed -e 's,^X-L,,'`
+                 dnl No need to hardcode the standard /usr/lib.
+                 if test "X$dir" != "X/usr/$acl_libdirstem"; then
+                   rpathdirs="$rpathdirs $dir"
+                 fi
+                 next= ;;
+            *) next= ;;
+          esac
+        fi
+      done
+      if test "X$rpathdirs" != "X"; then
+        if test -n ""$3""; then
+          dnl libtool is used for linking. Use -R options.
+          for dir in $rpathdirs; do
+            $1="${$1}${$1:+ }-R$dir"
+          done
+        else
+          dnl The linker is used for linking directly.
+          if test -n "$acl_hardcode_libdir_separator"; then
+            dnl Weird platform: only the last -rpath option counts, the user
+            dnl must pass all path elements in one option.
+            alldirs=
+            for dir in $rpathdirs; do
+              alldirs="${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$dir"
+            done
+            acl_save_libdir="$libdir"
+            libdir="$alldirs"
+            eval flag=\"$acl_hardcode_libdir_flag_spec\"
+            libdir="$acl_save_libdir"
+            $1="$flag"
+          else
+            dnl The -rpath options are cumulative.
+            for dir in $rpathdirs; do
+              acl_save_libdir="$libdir"
+              libdir="$dir"
+              eval flag=\"$acl_hardcode_libdir_flag_spec\"
+              libdir="$acl_save_libdir"
+              $1="${$1}${$1:+ }$flag"
+            done
+          fi
+        fi
+      fi
+    fi
+  fi
+  AC_SUBST([$1])
+])
 m4trace:gnulib/m4/lib-prefix.m4:12: -1- AC_DEFUN([AC_LIB_ARG_WITH], [AC_ARG_WITH([$1],[[$2]],[$3],[$4])])
 m4trace:gnulib/m4/lib-prefix.m4:22: -1- AC_DEFUN([AC_LIB_PREFIX], [
   AC_BEFORE([$0], [AC_LIB_LINKFLAGS])
   AC_REQUIRE([AC_PROG_CC])
   AC_REQUIRE([AC_CANONICAL_HOST])
+  AC_REQUIRE([AC_LIB_PREPARE_MULTILIB])
   AC_REQUIRE([AC_LIB_PREPARE_PREFIX])
   dnl By default, look in $includedir and $libdir.
   use_additional=yes
@@ -3003,7 +4635,7 @@ m4trace:gnulib/m4/lib-prefix.m4:22: -1-
         ])
       else
         additional_includedir="$withval/include"
-        additional_libdir="$withval/lib"
+        additional_libdir="$withval/$acl_libdirstem"
       fi
     fi
 ])
@@ -3027,7 +4659,7 @@ m4trace:gnulib/m4/lib-prefix.m4:22: -1-
         if test "X$additional_includedir" = "X/usr/local/include"; then
           if test -n "$GCC"; then
             case $host_os in
-              linux*) haveit=yes;;
+              linux* | gnu* | k*bsd*-gnu) haveit=yes;;
             esac
           fi
         fi
@@ -3045,7 +4677,7 @@ m4trace:gnulib/m4/lib-prefix.m4:22: -1-
     dnl   2. if it's already present in $LDFLAGS,
     dnl   3. if it's /usr/local/lib and we are using GCC on Linux,
     dnl   4. if it doesn't exist as a directory.
-    if test "X$additional_libdir" != "X/usr/lib"; then
+    if test "X$additional_libdir" != "X/usr/$acl_libdirstem"; then
       haveit=
       for x in $LDFLAGS; do
         AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
@@ -3055,7 +4687,7 @@ m4trace:gnulib/m4/lib-prefix.m4:22: -1-
         fi
       done
       if test -z "$haveit"; then
-        if test "X$additional_libdir" = "X/usr/local/lib"; then
+        if test "X$additional_libdir" = "X/usr/local/$acl_libdirstem"; then
           if test -n "$GCC"; then
             case $host_os in
               linux*) haveit=yes;;
@@ -3072,7 +4704,7 @@ m4trace:gnulib/m4/lib-prefix.m4:22: -1-
     fi
   fi
 ])
-m4trace:gnulib/m4/lib-prefix.m4:121: -1- AC_DEFUN([AC_LIB_PREPARE_PREFIX], [
+m4trace:gnulib/m4/lib-prefix.m4:122: -1- AC_DEFUN([AC_LIB_PREPARE_PREFIX], [
   dnl Unfortunately, prefix and exec_prefix get only finally determined
   dnl at the end of configure.
   if test "X$prefix" = "XNONE"; then
@@ -3090,7 +4722,7 @@ m4trace:gnulib/m4/lib-prefix.m4:121: -1-
   eval acl_final_exec_prefix=\"$acl_final_exec_prefix\"
   prefix="$acl_save_prefix"
 ])
-m4trace:gnulib/m4/lib-prefix.m4:144: -1- AC_DEFUN([AC_LIB_WITH_FINAL_PREFIX], [
+m4trace:gnulib/m4/lib-prefix.m4:145: -1- AC_DEFUN([AC_LIB_WITH_FINAL_PREFIX], [
   acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
   acl_save_exec_prefix="$exec_prefix"
@@ -3099,7 +4731,586 @@ m4trace:gnulib/m4/lib-prefix.m4:144: -1-
   exec_prefix="$acl_save_exec_prefix"
   prefix="$acl_save_prefix"
 ])
-m4trace:gnulib/m4/longdouble.m4:11: -1- AC_DEFUN([gt_TYPE_LONGDOUBLE], [
+m4trace:gnulib/m4/lib-prefix.m4:158: -1- AC_DEFUN([AC_LIB_PREPARE_MULTILIB], [
+  dnl There is no formal standard regarding lib and lib64. The current
+  dnl practice is that on a system supporting 32-bit and 64-bit instruction
+  dnl sets or ABIs, 64-bit libraries go under $prefix/lib64 and 32-bit
+  dnl libraries go under $prefix/lib. We determine the compiler's default
+  dnl mode by looking at the compiler's library search path. If at least
+  dnl of its elements ends in /lib64 or points to a directory whose absolute
+  dnl pathname ends in /lib64, we assume a 64-bit ABI. Otherwise we use the
+  dnl default, namely "lib".
+  acl_libdirstem=lib
+  searchpath=`(LC_ALL=C $CC -print-search-dirs) 2>/dev/null | sed -n -e 's,^libraries: ,,p' | sed -e 's,^=,,'`
+  if test -n "$searchpath"; then
+    acl_save_IFS="${IFS= 	}"; IFS=":"
+    for searchdir in $searchpath; do
+      if test -d "$searchdir"; then
+        case "$searchdir" in
+          */lib64/ | */lib64 ) acl_libdirstem=lib64 ;;
+          *) searchdir=`cd "$searchdir" && pwd`
+             case "$searchdir" in
+               */lib64 ) acl_libdirstem=lib64 ;;
+             esac ;;
+        esac
+      fi
+    done
+    IFS="$acl_save_IFS"
+  fi
+])
+m4trace:gnulib/m4/localcharset.m4:7: -1- AC_DEFUN([gl_LOCALCHARSET], [
+  dnl Prerequisites of lib/localcharset.c.
+  AC_REQUIRE([AM_LANGINFO_CODESET])
+  AC_CHECK_DECLS_ONCE(getc_unlocked)
+
+  dnl Prerequisites of the lib/Makefile.am snippet.
+  AC_REQUIRE([AC_CANONICAL_HOST])
+  AC_REQUIRE([gl_GLIBC21])
+])
+m4trace:gnulib/m4/locale-fr.m4:10: -1- AC_DEFUN([gt_LOCALE_FR], [
+  AC_REQUIRE([AC_CANONICAL_HOST])
+  AC_REQUIRE([AM_LANGINFO_CODESET])
+  AC_CACHE_CHECK([for a traditional french locale], gt_cv_locale_fr, [
+    macosx=
+changequote(,)dnl
+    case "$host_os" in
+      darwin[56]*) ;;
+      darwin*) macosx=yes;;
+    esac
+changequote([,])dnl
+    if test -n "$macosx"; then
+      # On Darwin 7 (MacOS X), the libc supports some locales in non-UTF-8
+      # encodings, but the kernel does not support them. The documentation
+      # says:
+      #   "... all code that calls BSD system routines should ensure
+      #    that the const *char parameters of these routines are in UTF-8
+      #    encoding. All BSD system functions expect their string
+      #    parameters to be in UTF-8 encoding and nothing else."
+      # See the comments in config.charset. Therefore we bypass the test.
+      gt_cv_locale_fr=none
+    else
+      AC_LANG_CONFTEST([AC_LANG_SOURCE([
+changequote(,)dnl
+#include <locale.h>
+#include <time.h>
+#if HAVE_LANGINFO_CODESET
+# include <langinfo.h>
+#endif
+struct tm t;
+char buf[16];
+int main () {
+  /* Check whether the given locale name is recognized by the system.  */
+  if (setlocale (LC_ALL, "") == NULL) return 1;
+  /* Check whether nl_langinfo(CODESET) is nonempty.
+     On MacOS X 10.3.5 (Darwin 7.5) in the fr_FR locale, nl_langinfo(CODESET)
+     is empty, and the behaviour of Tcl 8.4 in this locale is not useful.  */
+#if HAVE_LANGINFO_CODESET
+  if (nl_langinfo (CODESET) [0] == '\0') return 1;
+#endif
+  /* Check whether in the abbreviation of the second month, the second
+     character (should be U+00E9: LATIN SMALL LETTER E WITH ACUTE) is only
+     one byte long. This excludes the UTF-8 encoding.  */
+  t.tm_year = 1975 - 1900; t.tm_mon = 2 - 1; t.tm_mday = 4;
+  if (strftime (buf, sizeof (buf), "%b", &t) < 3 || buf[2] != 'v') return 1;
+  /* Check whether the decimal separator is a comma.
+     On NetBSD 3.0 in the fr_FR.ISO8859-1 locale, localeconv()->decimal_point
+     are nl_langinfo(RADIXCHAR) are both ".".  */
+  if (localeconv () ->decimal_point[0] != ',') return 1;
+  return 0;
+}
+changequote([,])dnl
+        ])])
+      if AC_TRY_EVAL([ac_link]) && test -s conftest$ac_exeext; then
+        # Setting LC_ALL is not enough. Need to set LC_TIME to empty, because
+        # otherwise on MacOS X 10.3.5 the LC_TIME=C from the beginning of the
+        # configure script would override the LC_ALL setting. Likewise for
+        # LC_CTYPE, which is also set at the beginning of the configure script.
+        # Test for the usual locale name.
+        if (LC_ALL=fr_FR LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+          gt_cv_locale_fr=fr_FR
+        else
+          # Test for the locale name with explicit encoding suffix.
+          if (LC_ALL=fr_FR.ISO-8859-1 LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+            gt_cv_locale_fr=fr_FR.ISO-8859-1
+          else
+            # Test for the AIX, OSF/1, FreeBSD, NetBSD, OpenBSD locale name.
+            if (LC_ALL=fr_FR.ISO8859-1 LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+              gt_cv_locale_fr=fr_FR.ISO8859-1
+            else
+              # Test for the HP-UX locale name.
+              if (LC_ALL=fr_FR.iso88591 LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+                gt_cv_locale_fr=fr_FR.iso88591
+              else
+                # Test for the Solaris 7 locale name.
+                if (LC_ALL=fr LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+                  gt_cv_locale_fr=fr
+                else
+                  # None found.
+                  gt_cv_locale_fr=none
+                fi
+              fi
+            fi
+          fi
+        fi
+      fi
+      rm -fr conftest*
+    fi
+  ])
+  LOCALE_FR=$gt_cv_locale_fr
+  AC_SUBST([LOCALE_FR])
+])
+m4trace:gnulib/m4/locale-fr.m4:105: -1- AC_DEFUN([gt_LOCALE_FR_UTF8], [
+  AC_REQUIRE([AM_LANGINFO_CODESET])
+  AC_CACHE_CHECK([for a french Unicode locale], gt_cv_locale_fr_utf8, [
+    AC_LANG_CONFTEST([AC_LANG_SOURCE([
+changequote(,)dnl
+#include <locale.h>
+#include <time.h>
+#if HAVE_LANGINFO_CODESET
+# include <langinfo.h>
+#endif
+struct tm t;
+char buf[16];
+int main () {
+  /* On BeOS, locales are not implemented in libc.  Rather, libintl
+     imitates locale dependent behaviour by looking at the environment
+     variables, and all locales use the UTF-8 encoding.  */
+#if !defined(__BEOS__)
+  /* Check whether the given locale name is recognized by the system.  */
+  if (setlocale (LC_ALL, "") == NULL) return 1;
+  /* Check whether nl_langinfo(CODESET) is nonempty.
+     On MacOS X 10.3.5 (Darwin 7.5) in the fr_FR locale, nl_langinfo(CODESET)
+     is empty, and the behaviour of Tcl 8.4 in this locale is not useful.  */
+# if HAVE_LANGINFO_CODESET
+  if (nl_langinfo (CODESET) [0] == '\0') return 1;
+# endif
+  /* Check whether in the abbreviation of the second month, the second
+     character (should be U+00E9: LATIN SMALL LETTER E WITH ACUTE) is
+     two bytes long, with UTF-8 encoding.  */
+  t.tm_year = 1975 - 1900; t.tm_mon = 2 - 1; t.tm_mday = 4;
+  if (strftime (buf, sizeof (buf), "%b", &t) < 4
+      || buf[1] != (char) 0xc3 || buf[2] != (char) 0xa9 || buf[3] != 'v')
+    return 1;
+#endif
+  /* Check whether the decimal separator is a comma.
+     On NetBSD 3.0 in the fr_FR.ISO8859-1 locale, localeconv()->decimal_point
+     are nl_langinfo(RADIXCHAR) are both ".".  */
+  if (localeconv () ->decimal_point[0] != ',') return 1;
+  return 0;
+}
+changequote([,])dnl
+      ])])
+    if AC_TRY_EVAL([ac_link]) && test -s conftest$ac_exeext; then
+      # Setting LC_ALL is not enough. Need to set LC_TIME to empty, because
+      # otherwise on MacOS X 10.3.5 the LC_TIME=C from the beginning of the
+      # configure script would override the LC_ALL setting. Likewise for
+      # LC_CTYPE, which is also set at the beginning of the configure script.
+      # Test for the usual locale name.
+      if (LC_ALL=fr_FR LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+        gt_cv_locale_fr_utf8=fr_FR
+      else
+        # Test for the locale name with explicit encoding suffix.
+        if (LC_ALL=fr_FR.UTF-8 LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+          gt_cv_locale_fr_utf8=fr_FR.UTF-8
+        else
+          # Test for the Solaris 7 locale name.
+          if (LC_ALL=fr.UTF-8 LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+            gt_cv_locale_fr_utf8=fr.UTF-8
+          else
+            # None found.
+            gt_cv_locale_fr_utf8=none
+          fi
+        fi
+      fi
+    fi
+    rm -fr conftest*
+  ])
+  LOCALE_FR_UTF8=$gt_cv_locale_fr_utf8
+  AC_SUBST([LOCALE_FR_UTF8])
+])
+m4trace:gnulib/m4/locale-tr.m4:10: -1- AC_DEFUN([gt_LOCALE_TR_UTF8], [
+  AC_REQUIRE([AM_LANGINFO_CODESET])
+  AC_CACHE_CHECK([for a turkish Unicode locale], gt_cv_locale_tr_utf8, [
+    AC_LANG_CONFTEST([AC_LANG_SOURCE([
+changequote(,)dnl
+#include <locale.h>
+#include <time.h>
+#if HAVE_LANGINFO_CODESET
+# include <langinfo.h>
+#endif
+struct tm t;
+char buf[16];
+int main () {
+  /* On BeOS, locales are not implemented in libc.  Rather, libintl
+     imitates locale dependent behaviour by looking at the environment
+     variables, and all locales use the UTF-8 encoding.  */
+#if !defined(__BEOS__)
+  /* Check whether the given locale name is recognized by the system.  */
+  if (setlocale (LC_ALL, "") == NULL) return 1;
+  /* Check whether nl_langinfo(CODESET) is nonempty.
+     On MacOS X 10.3.5 (Darwin 7.5) in the tr_TR locale, nl_langinfo(CODESET)
+     is empty, and the behaviour of Tcl 8.4 in this locale is not useful.  */
+# if HAVE_LANGINFO_CODESET
+  if (nl_langinfo (CODESET) [0] == '\0') return 1;
+# endif
+  /* Check whether in the abbreviation of the eighth month, the second
+     character (should be U+011F: LATIN SMALL LETTER G WITH BREVE) is
+     two bytes long, with UTF-8 encoding.  */
+  t.tm_year = 1992 - 1900; t.tm_mon = 8 - 1; t.tm_mday = 19;
+  if (strftime (buf, sizeof (buf), "%b", &t) < 4
+      || buf[1] != (char) 0xc4 || buf[2] != (char) 0x9f)
+    return 1;
+  /* Check whether the upper-/lowercase mappings are as expected for
+     Turkish.  */
+  if (towupper ('i') != 0x0130 || towlower (0x0130) != 'i'
+      || towupper(0x0131) != 'I' || towlower ('I') != 0x0131)
+    return 1;
+#endif
+  return 0;
+}
+changequote([,])dnl
+      ])])
+    if AC_TRY_EVAL([ac_link]) && test -s conftest$ac_exeext; then
+      # Setting LC_ALL is not enough. Need to set LC_TIME to empty, because
+      # otherwise on MacOS X 10.3.5 the LC_TIME=C from the beginning of the
+      # configure script would override the LC_ALL setting. Likewise for
+      # LC_CTYPE, which is also set at the beginning of the configure script.
+      # Test for the usual locale name.
+      if (LC_ALL=tr_TR LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+        gt_cv_locale_tr_utf8=tr_TR
+      else
+        # Test for the locale name with explicit encoding suffix.
+        if (LC_ALL=tr_TR.UTF-8 LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+          gt_cv_locale_tr_utf8=tr_TR.UTF-8
+        else
+          # Test for the Solaris 7 locale name.
+          if (LC_ALL=tr.UTF-8 LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+            gt_cv_locale_tr_utf8=tr.UTF-8
+          else
+            # None found.
+            gt_cv_locale_tr_utf8=none
+          fi
+        fi
+      fi
+    else
+      gt_cv_locale_tr_utf8=none
+    fi
+    rm -fr conftest*
+  ])
+  LOCALE_TR_UTF8=$gt_cv_locale_tr_utf8
+  AC_SUBST([LOCALE_TR_UTF8])
+])
+m4trace:gnulib/m4/locale-zh.m4:10: -1- AC_DEFUN([gt_LOCALE_ZH_CN], [
+  AC_REQUIRE([AC_CANONICAL_HOST])
+  AC_REQUIRE([AM_LANGINFO_CODESET])
+  AC_CACHE_CHECK([for a transitional chinese locale], gt_cv_locale_zh_CN, [
+    macosx=
+changequote(,)dnl
+    case "$host_os" in
+      darwin[56]*) ;;
+      darwin*) macosx=yes;;
+    esac
+changequote([,])dnl
+    if test -n "$macosx"; then
+      # On Darwin 7 (MacOS X), the libc supports some locales in non-UTF-8
+      # encodings, but the kernel does not support them. The documentation
+      # says:
+      #   "... all code that calls BSD system routines should ensure
+      #    that the const *char parameters of these routines are in UTF-8
+      #    encoding. All BSD system functions expect their string
+      #    parameters to be in UTF-8 encoding and nothing else."
+      # See the comments in config.charset. Therefore we bypass the test.
+      gt_cv_locale_zh_CN=none
+    else
+      AC_LANG_CONFTEST([AC_LANG_SOURCE([
+changequote(,)dnl
+#include <locale.h>
+#include <stdlib.h>
+#include <time.h>
+#if HAVE_LANGINFO_CODESET
+# include <langinfo.h>
+#endif
+struct tm t;
+char buf[16];
+int main ()
+{
+  const char *p;
+  /* Check whether the given locale name is recognized by the system.  */
+  if (setlocale (LC_ALL, "") == NULL) return 1;
+  /* Check whether nl_langinfo(CODESET) is nonempty.
+     On MacOS X 10.3.5 (Darwin 7.5) in the fr_FR locale, nl_langinfo(CODESET)
+     is empty, and the behaviour of Tcl 8.4 in this locale is not useful.  */
+#if HAVE_LANGINFO_CODESET
+  if (nl_langinfo (CODESET) [0] == '\0') return 1;
+#endif
+  /* Check whether in a month name, no byte in the range 0x80..0x9F occurs.
+     This excludes the UTF-8 encoding.  */
+  t.tm_year = 1975 - 1900; t.tm_mon = 2 - 1; t.tm_mday = 4;
+  if (strftime (buf, sizeof (buf), "%B", &t) < 2) return 1;
+  for (p = buf; *p != '\0'; p++)
+    if ((unsigned char) *p >= 0x80 && (unsigned char) *p < 0xa0)
+      return 1;
+  /* Check whether a typical GB18030 multibyte sequence is recognized as a
+     single wide character.  This excludes the GB2312 and GBK encodings.  */
+  if (mblen ("\203\062\332\066", 5) != 4)
+    return 1;
+  return 0;
+}
+changequote([,])dnl
+        ])])
+      if AC_TRY_EVAL([ac_link]) && test -s conftest$ac_exeext; then
+        # Setting LC_ALL is not enough. Need to set LC_TIME to empty, because
+        # otherwise on MacOS X 10.3.5 the LC_TIME=C from the beginning of the
+        # configure script would override the LC_ALL setting. Likewise for
+        # LC_CTYPE, which is also set at the beginning of the configure script.
+        # Test for the locale name without encoding suffix.
+        if (LC_ALL=zh_CN LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+          gt_cv_locale_zh_CN=zh_CN
+        else
+          # Test for the locale name with explicit encoding suffix.
+          if (LC_ALL=zh_CN.GB18030 LC_TIME= LC_CTYPE= ./conftest; exit) 2>/dev/null; then
+            gt_cv_locale_zh_CN=zh_CN.GB18030
+          else
+            # None found.
+            gt_cv_locale_zh_CN=none
+          fi
+        fi
+      else
+        # If there was a link error, due to mblen(), the system is so old that
+        # it certainly doesn't have a chinese locale.
+        gt_cv_locale_zh_CN=none
+      fi
+      rm -fr conftest*
+    fi
+  ])
+  LOCALE_ZH_CN=$gt_cv_locale_zh_CN
+  AC_SUBST([LOCALE_ZH_CN])
+])
+m4trace:gnulib/m4/lock.m4:22: -1- AC_DEFUN([gl_LOCK_EARLY], [
+  AC_REQUIRE([gl_LOCK_EARLY_BODY])
+])
+m4trace:gnulib/m4/lock.m4:29: -1- AC_DEFUN([gl_LOCK_EARLY_BODY], [
+  dnl Ordering constraints: This macro modifies CPPFLAGS in a way that
+  dnl influences the result of the autoconf tests that test for *_unlocked
+  dnl declarations, on AIX 5 at least. Therefore it must come early.
+  AC_BEFORE([$0], [gl_FUNC_GLIBC_UNLOCKED_IO])dnl
+  AC_BEFORE([$0], [gl_ARGP])dnl
+
+  AC_REQUIRE([AC_CANONICAL_HOST])
+  AC_REQUIRE([AC_GNU_SOURCE]) dnl needed for pthread_rwlock_t on glibc systems
+  dnl Check for multithreading.
+  AC_ARG_ENABLE(threads,
+AC_HELP_STRING([--enable-threads={posix|solaris|pth|win32}], [specify multithreading API])
+AC_HELP_STRING([--disable-threads], [build without multithread safety]),
+    [gl_use_threads=$enableval],
+    [case "$host_os" in
+       dnl Disable multithreading by default on OSF/1, because it interferes
+       dnl with fork()/exec(): When msgexec is linked with -lpthread, its child
+       dnl process gets an endless segmentation fault inside execvp().
+       osf*) gl_use_threads=no ;;
+       *)    gl_use_threads=yes ;;
+     esac
+    ])
+  if test "$gl_use_threads" = yes || test "$gl_use_threads" = posix; then
+    # For using <pthread.h>:
+    case "$host_os" in
+      osf*)
+        # On OSF/1, the compiler needs the flag -D_REENTRANT so that it
+        # groks <pthread.h>. cc also understands the flag -pthread, but
+        # we don't use it because 1. gcc-2.95 doesn't understand -pthread,
+        # 2. putting a flag into CPPFLAGS that has an effect on the linker
+        # causes the AC_TRY_LINK test below to succeed unexpectedly,
+        # leading to wrong values of LIBTHREAD and LTLIBTHREAD.
+        CPPFLAGS="$CPPFLAGS -D_REENTRANT"
+        ;;
+    esac
+    # Some systems optimize for single-threaded programs by default, and
+    # need special flags to disable these optimizations. For example, the
+    # definition of 'errno' in <errno.h>.
+    case "$host_os" in
+      aix* | freebsd*) CPPFLAGS="$CPPFLAGS -D_THREAD_SAFE" ;;
+      solaris*) CPPFLAGS="$CPPFLAGS -D_REENTRANT" ;;
+    esac
+  fi
+])
+m4trace:gnulib/m4/lock.m4:77: -1- AC_DEFUN([gl_LOCK_BODY], [
+  AC_REQUIRE([gl_LOCK_EARLY_BODY])
+  gl_threads_api=none
+  LIBTHREAD=
+  LTLIBTHREAD=
+  LIBMULTITHREAD=
+  LTLIBMULTITHREAD=
+  if test "$gl_use_threads" != no; then
+    dnl Check whether the compiler and linker support weak declarations.
+    AC_MSG_CHECKING([whether imported symbols can be declared weak])
+    gl_have_weak=no
+    AC_TRY_LINK([extern void xyzzy ();
+#pragma weak xyzzy], [xyzzy();], [gl_have_weak=yes])
+    AC_MSG_RESULT([$gl_have_weak])
+    if test "$gl_use_threads" = yes || test "$gl_use_threads" = posix; then
+      # On OSF/1, the compiler needs the flag -pthread or -D_REENTRANT so that
+      # it groks <pthread.h>. It's added above, in gl_LOCK_EARLY_BODY.
+      AC_CHECK_HEADER(pthread.h, gl_have_pthread_h=yes, gl_have_pthread_h=no)
+      if test "$gl_have_pthread_h" = yes; then
+        # Other possible tests:
+        #   -lpthreads (FSU threads, PCthreads)
+        #   -lgthreads
+        gl_have_pthread=
+        # Test whether both pthread_mutex_lock and pthread_mutexattr_init exist
+        # in libc. IRIX 6.5 has the first one in both libc and libpthread, but
+        # the second one only in libpthread, and lock.c needs it.
+        AC_TRY_LINK([#include <pthread.h>],
+          [pthread_mutex_lock((pthread_mutex_t*)0);
+           pthread_mutexattr_init((pthread_mutexattr_t*)0);],
+          [gl_have_pthread=yes])
+        # Test for libpthread by looking for pthread_kill. (Not pthread_self,
+        # since it is defined as a macro on OSF/1.)
+        if test -n "$gl_have_pthread"; then
+          # The program links fine without libpthread. But it may actually
+          # need to link with libpthread in order to create multiple threads.
+          AC_CHECK_LIB(pthread, pthread_kill,
+            [LIBMULTITHREAD=-lpthread LTLIBMULTITHREAD=-lpthread
+             # On Solaris and HP-UX, most pthread functions exist also in libc.
+             # Therefore pthread_in_use() needs to actually try to create a
+             # thread: pthread_create from libc will fail, whereas
+             # pthread_create will actually create a thread.
+             case "$host_os" in
+               solaris* | hpux*)
+                 AC_DEFINE([PTHREAD_IN_USE_DETECTION_HARD], 1,
+                   [Define if the pthread_in_use() detection is hard.])
+             esac
+            ])
+        else
+          # Some library is needed. Try libpthread and libc_r.
+          AC_CHECK_LIB(pthread, pthread_kill,
+            [gl_have_pthread=yes
+             LIBTHREAD=-lpthread LTLIBTHREAD=-lpthread
+             LIBMULTITHREAD=-lpthread LTLIBMULTITHREAD=-lpthread])
+          if test -z "$gl_have_pthread"; then
+            # For FreeBSD 4.
+            AC_CHECK_LIB(c_r, pthread_kill,
+              [gl_have_pthread=yes
+               LIBTHREAD=-lc_r LTLIBTHREAD=-lc_r
+               LIBMULTITHREAD=-lc_r LTLIBMULTITHREAD=-lc_r])
+          fi
+        fi
+        if test -n "$gl_have_pthread"; then
+          gl_threads_api=posix
+          AC_DEFINE([USE_POSIX_THREADS], 1,
+            [Define if the POSIX multithreading library can be used.])
+          if test -n "$LIBMULTITHREAD" || test -n "$LTLIBMULTITHREAD"; then
+            if test $gl_have_weak = yes; then
+              AC_DEFINE([USE_POSIX_THREADS_WEAK], 1,
+                [Define if references to the POSIX multithreading library should be made weak.])
+              LIBTHREAD=
+              LTLIBTHREAD=
+            fi
+          fi
+          # OSF/1 4.0 and MacOS X 10.1 lack the pthread_rwlock_t type and the
+          # pthread_rwlock_* functions.
+          AC_CHECK_TYPE([pthread_rwlock_t],
+            [AC_DEFINE([HAVE_PTHREAD_RWLOCK], 1,
+               [Define if the POSIX multithreading library has read/write locks.])],
+            [],
+            [#include <pthread.h>])
+          # glibc defines PTHREAD_MUTEX_RECURSIVE as enum, not as a macro.
+          AC_TRY_COMPILE([#include <pthread.h>],
+            [#if __FreeBSD__ == 4
+error "No, in FreeBSD 4.0 recursive mutexes actually don't work."
+#else
+int x = (int)PTHREAD_MUTEX_RECURSIVE;
+return !x;
+#endif],
+            [AC_DEFINE([HAVE_PTHREAD_MUTEX_RECURSIVE], 1,
+               [Define if the <pthread.h> defines PTHREAD_MUTEX_RECURSIVE.])])
+        fi
+      fi
+    fi
+    if test -z "$gl_have_pthread"; then
+      if test "$gl_use_threads" = yes || test "$gl_use_threads" = solaris; then
+        gl_have_solaristhread=
+        gl_save_LIBS="$LIBS"
+        LIBS="$LIBS -lthread"
+        AC_TRY_LINK([#include <thread.h>
+#include <synch.h>],
+          [thr_self();],
+          [gl_have_solaristhread=yes])
+        LIBS="$gl_save_LIBS"
+        if test -n "$gl_have_solaristhread"; then
+          gl_threads_api=solaris
+          LIBTHREAD=-lthread
+          LTLIBTHREAD=-lthread
+          LIBMULTITHREAD="$LIBTHREAD"
+          LTLIBMULTITHREAD="$LTLIBTHREAD"
+          AC_DEFINE([USE_SOLARIS_THREADS], 1,
+            [Define if the old Solaris multithreading library can be used.])
+          if test $gl_have_weak = yes; then
+            AC_DEFINE([USE_SOLARIS_THREADS_WEAK], 1,
+              [Define if references to the old Solaris multithreading library should be made weak.])
+            LIBTHREAD=
+            LTLIBTHREAD=
+          fi
+        fi
+      fi
+    fi
+    if test "$gl_use_threads" = pth; then
+      gl_save_CPPFLAGS="$CPPFLAGS"
+      AC_LIB_LINKFLAGS(pth)
+      gl_have_pth=
+      gl_save_LIBS="$LIBS"
+      LIBS="$LIBS -lpth"
+      AC_TRY_LINK([#include <pth.h>], [pth_self();], gl_have_pth=yes)
+      LIBS="$gl_save_LIBS"
+      if test -n "$gl_have_pth"; then
+        gl_threads_api=pth
+        LIBTHREAD="$LIBPTH"
+        LTLIBTHREAD="$LTLIBPTH"
+        LIBMULTITHREAD="$LIBTHREAD"
+        LTLIBMULTITHREAD="$LTLIBTHREAD"
+        AC_DEFINE([USE_PTH_THREADS], 1,
+          [Define if the GNU Pth multithreading library can be used.])
+        if test -n "$LIBMULTITHREAD" || test -n "$LTLIBMULTITHREAD"; then
+          if test $gl_have_weak = yes; then
+            AC_DEFINE([USE_PTH_THREADS_WEAK], 1,
+              [Define if references to the GNU Pth multithreading library should be made weak.])
+            LIBTHREAD=
+            LTLIBTHREAD=
+          fi
+        fi
+      else
+        CPPFLAGS="$gl_save_CPPFLAGS"
+      fi
+    fi
+    if test -z "$gl_have_pthread"; then
+      if test "$gl_use_threads" = yes || test "$gl_use_threads" = win32; then
+        if { case "$host_os" in
+               mingw*) true;;
+               *) false;;
+             esac
+           }; then
+          gl_threads_api=win32
+          AC_DEFINE([USE_WIN32_THREADS], 1,
+            [Define if the Win32 multithreading API can be used.])
+        fi
+      fi
+    fi
+  fi
+  AC_MSG_CHECKING([for multithread API to use])
+  AC_MSG_RESULT([$gl_threads_api])
+  AC_SUBST(LIBTHREAD)
+  AC_SUBST(LTLIBTHREAD)
+  AC_SUBST(LIBMULTITHREAD)
+  AC_SUBST(LTLIBMULTITHREAD)
+])
+m4trace:gnulib/m4/lock.m4:248: -1- AC_DEFUN([gl_LOCK], [
+  AC_REQUIRE([gl_LOCK_EARLY])
+  AC_REQUIRE([gl_LOCK_BODY])
+  gl_PREREQ_LOCK
+])
+m4trace:gnulib/m4/lock.m4:256: -1- AC_DEFUN([gl_PREREQ_LOCK], [
+  AC_REQUIRE([AC_C_INLINE])
+])
+m4trace:gnulib/m4/longdouble.m4:14: -1- AC_DEFUN([gt_TYPE_LONGDOUBLE], [
   AC_CACHE_CHECK([for long double], gt_cv_c_long_double,
     [if test "$GCC" = yes; then
        gt_cv_c_long_double=yes
@@ -3116,13 +5327,53 @@ m4trace:gnulib/m4/longdouble.m4:11: -1-
     AC_DEFINE(HAVE_LONG_DOUBLE, 1, [Define if you have the 'long double' type.])
   fi
 ])
-m4trace:gnulib/m4/longlong.m4:11: -1- AC_DEFUN([gl_AC_TYPE_LONG_LONG], [
-  AC_CACHE_CHECK([for long long], ac_cv_type_long_long,
-  [AC_TRY_LINK([long long ll = 1LL; int i = 63;],
-    [long long llmax = (long long) -1;
-     return ll << i | ll >> i | llmax / ll | llmax % ll;],
-    ac_cv_type_long_long=yes,
-    ac_cv_type_long_long=no)])
+m4trace:gnulib/m4/longlong.m4:17: -1- AC_DEFUN([AC_TYPE_LONG_LONG_INT], [
+  AC_CACHE_CHECK([for long long int], [ac_cv_type_long_long_int],
+    [AC_LINK_IFELSE(
+       [AC_LANG_PROGRAM(
+	  [[long long int ll = 9223372036854775807ll;
+	    long long int nll = -9223372036854775807LL;
+	    typedef int a[((-9223372036854775807LL < 0
+			    && 0 < 9223372036854775807ll)
+			   ? 1 : -1)];
+	    int i = 63;]],
+	  [[long long int llmax = 9223372036854775807ll;
+	    return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)
+		    | (llmax / ll) | (llmax % ll));]])],
+       [dnl This catches a bug in Tandem NonStop Kernel (OSS) cc -O circa 2004.
+	dnl If cross compiling, assume the bug isn't important, since
+	dnl nobody cross compiles for this platform as far as we know.
+        AC_RUN_IFELSE(
+	  [AC_LANG_PROGRAM(
+	     [[@%:@include <limits.h>
+	       @%:@ifndef LLONG_MAX
+	       @%:@ define HALF \
+			(1LL << (sizeof (long long int) * CHAR_BIT - 2))
+	       @%:@ define LLONG_MAX (HALF - 1 + HALF)
+	       @%:@endif]],
+	     [[long long int n = 1;
+	       int i;
+	       for (i = 0; ; i++)
+		 {
+		   long long int m = n << i;
+		   if (m >> i != n)
+		     return 1;
+		   if (LLONG_MAX / 2 < m)
+		     break;
+		 }
+	       return 0;]])],
+	  [ac_cv_type_long_long_int=yes],
+	  [ac_cv_type_long_long_int=no],
+	  [ac_cv_type_long_long_int=yes])],
+       [ac_cv_type_long_long_int=no])])
+  if test $ac_cv_type_long_long_int = yes; then
+    AC_DEFINE([HAVE_LONG_LONG_INT], 1,
+      [Define to 1 if the system has the type `long long int'.])
+  fi
+])
+m4trace:gnulib/m4/longlong.m4:64: -1- AC_DEFUN([gl_AC_TYPE_LONG_LONG], [
+  AC_REQUIRE([AC_TYPE_LONG_LONG_INT])
+  ac_cv_type_long_long=$ac_cv_type_long_long_int
   if test $ac_cv_type_long_long = yes; then
     AC_DEFINE(HAVE_LONG_LONG, 1,
       [Define if you have the 'long long' type.])
@@ -3130,11 +5381,12 @@ m4trace:gnulib/m4/longlong.m4:11: -1- AC
 ])
 m4trace:gnulib/m4/ls-mntd-fs.m4:20: -1- AC_DEFUN([AC_FUNC_GETMNTENT], [# getmntent is in the standard C library on UNICOS, in -lsun on Irix 4,
 # -lseq on Dynix/PTX, -lgen on Unixware.
-AC_SEARCH_LIBS(getmntent, [sun seq gen], [AC_CHECK_FUNCS(getmntent)])
+AC_SEARCH_LIBS(getmntent, [sun seq gen])
+AC_CHECK_FUNCS(getmntent)
 ])
-m4trace:gnulib/m4/ls-mntd-fs.m4:27: -1- AC_DEFUN([gl_LIST_MOUNTED_FILE_SYSTEMS], [
+m4trace:gnulib/m4/ls-mntd-fs.m4:28: -1- AC_DEFUN([gl_LIST_MOUNTED_FILE_SYSTEMS], [
 AC_CHECK_FUNCS(listmntent getmntinfo)
-AC_CHECK_HEADERS_ONCE(sys/param.h)
+AC_CHECK_HEADERS_ONCE(sys/param.h sys/statvfs.h)
 
 # We must include grp.h before ucred.h on OSF V4.0, since ucred.h uses
 # NGROUPS (as the array dimension for a struct member) without a definition.
@@ -3247,7 +5499,8 @@ if test $ac_cv_func_getmntent = yes; the
 # endif
 #endif
 ],
-                    [ struct mntent *mnt = 0; char *table = MOUNTED; ],
+                    [ struct mntent *mnt = 0; char *table = MOUNTED;
+		      if (sizeof mnt && sizeof table) return 0;],
 		    fu_cv_sys_mounted_getmntent1=yes,
 		    fu_cv_sys_mounted_getmntent1=no)])
     AC_MSG_RESULT($fu_cv_sys_mounted_getmntent1)
@@ -3273,6 +5526,7 @@ if test $ac_cv_func_getmntent = yes; the
       AC_DEFINE(MOUNTED_GETMNTENT2, 1,
         [Define if there is a function named getmntent for reading the list of
          mounted file systems, and that function takes two arguments.  (SVR4)])
+      AC_CHECK_FUNCS(hasmntopt)
     fi
   fi
 
@@ -3338,10 +5592,39 @@ if test -z "$ac_list_mounted_fs"; then
     ])
   AC_MSG_RESULT($fu_cv_sys_mounted_getmntinfo)
   if test $fu_cv_sys_mounted_getmntinfo = yes; then
-    ac_list_mounted_fs=found
-    AC_DEFINE(MOUNTED_GETMNTINFO, 1,
-	      [Define if there is a function named getmntinfo for reading the
-               list of mounted file systems.  (4.4BSD, Darwin)])
+    AC_MSG_CHECKING([whether getmntinfo returns statvfs structures])
+    AC_CACHE_VAL(fu_cv_sys_mounted_getmntinfo2,
+      [
+        AC_TRY_COMPILE([
+#if HAVE_SYS_PARAM_H
+# include <sys/param.h>
+#endif
+#include <sys/types.h>
+#if HAVE_SYS_MOUNT_H
+# include <sys/mount.h>
+#endif
+#if HAVE_SYS_STATVFS_H
+# include <sys/statvfs.h>
+#endif
+extern int getmntinfo (struct statfs **, int);
+          ], [],
+          [fu_cv_sys_mounted_getmntinfo2=no],
+          [fu_cv_sys_mounted_getmntinfo2=yes])
+      ])
+    AC_MSG_RESULT([$fu_cv_sys_mounted_getmntinfo2])
+    if test $fu_cv_sys_mounted_getmntinfo2 = no; then
+      ac_list_mounted_fs=found
+      AC_DEFINE(MOUNTED_GETMNTINFO, 1,
+	        [Define if there is a function named getmntinfo for reading the
+                 list of mounted file systems and it returns an array of
+                 'struct statfs'.  (4.4BSD, Darwin)])
+    else
+      ac_list_mounted_fs=found
+      AC_DEFINE(MOUNTED_GETMNTINFO2, 1,
+	        [Define if there is a function named getmntinfo for reading the
+                 list of mounted file systems and it returns an array of
+                 'struct statvfs'.  (NetBSD 3.0)])
+    fi
   fi
 fi
 
@@ -3410,30 +5693,61 @@ fi
 AS_IF([test $ac_list_mounted_fs = found], [$1], [$2])
 
   ])
-m4trace:gnulib/m4/lstat.m4:19: -1- AC_DEFUN([gl_FUNC_LSTAT], [
-  AC_FUNC_LSTAT
-  dnl Note: AC_FUNC_LSTAT does AC_LIBOBJ(lstat).
-  if test $ac_cv_func_lstat_empty_string_bug = yes; then
-    gl_PREREQ_LSTAT
-  fi
+m4trace:gnulib/m4/lstat.m4:12: -1- AC_DEFUN([gl_FUNC_LSTAT], [
+  AC_FUNC_LSTAT_FOLLOWS_SLASHED_SYMLINK
+  dnl Note: AC_FUNC_LSTAT_FOLLOWS_SLASHED_SYMLINK does AC_LIBOBJ(lstat).
+  :
 ])
-m4trace:gnulib/m4/lstat.m4:29: -1- AC_DEFUN([gl_PREREQ_LSTAT], [
-  AC_REQUIRE([AC_HEADER_STAT])
+m4trace:gnulib/m4/mbchar.m4:10: -1- AC_DEFUN([gl_MBCHAR], [
+  AC_REQUIRE([AC_GNU_SOURCE])
+])
+m4trace:gnulib/m4/mbiter.m4:10: -1- AC_DEFUN([gl_MBITER], [
+  AC_REQUIRE([AC_TYPE_MBSTATE_T])
+  dnl The following line is that so the user can test HAVE_MBRTOWC before
+  dnl #include "mbiter.h" or "mbuiter.h".
+  AC_REQUIRE([gl_FUNC_MBRTOWC])
   :
 ])
 m4trace:gnulib/m4/mbrtowc.m4:12: -1- AC_DEFUN([gl_FUNC_MBRTOWC], [
+  dnl Same as AC_FUNC_MBRTOWC in autoconf-2.60.
   AC_CACHE_CHECK([whether mbrtowc and mbstate_t are properly declared],
     gl_cv_func_mbrtowc,
-    [AC_TRY_LINK(
-       [#include <wchar.h>],
-       [mbstate_t state; return ! (sizeof state && mbrtowc);],
+    [AC_LINK_IFELSE(
+       [AC_LANG_PROGRAM(
+            [[#include <wchar.h>]],
+            [[wchar_t wc;
+              char const s[] = "";
+              size_t n = 1;
+              mbstate_t state;
+              return ! (sizeof state && (mbrtowc) (&wc, s, n, &state));]])],
        gl_cv_func_mbrtowc=yes,
        gl_cv_func_mbrtowc=no)])
   if test $gl_cv_func_mbrtowc = yes; then
-    AC_DEFINE(HAVE_MBRTOWC, 1,
+    AC_DEFINE([HAVE_MBRTOWC], 1,
       [Define to 1 if mbrtowc and mbstate_t are properly declared.])
   fi
 ])
+m4trace:gnulib/m4/mbscasestr.m4:7: -1- AC_DEFUN([gl_FUNC_MBSCASESTR], [
+  gl_PREREQ_MBSCASESTR
+])
+m4trace:gnulib/m4/mbscasestr.m4:13: -1- AC_DEFUN([gl_PREREQ_MBSCASESTR], [
+  AC_REQUIRE([gl_FUNC_MBRTOWC])
+  :
+])
+m4trace:gnulib/m4/mbslen.m4:7: -1- AC_DEFUN([gl_FUNC_MBSLEN], [
+  gl_PREREQ_MBSLEN
+])
+m4trace:gnulib/m4/mbslen.m4:13: -1- AC_DEFUN([gl_PREREQ_MBSLEN], [
+  AC_REQUIRE([gl_FUNC_MBRTOWC])
+  :
+])
+m4trace:gnulib/m4/mbsstr.m4:7: -1- AC_DEFUN([gl_FUNC_MBSSTR], [
+  gl_PREREQ_MBSSTR
+])
+m4trace:gnulib/m4/mbsstr.m4:13: -1- AC_DEFUN([gl_PREREQ_MBSSTR], [
+  AC_REQUIRE([gl_FUNC_MBRTOWC])
+  :
+])
 m4trace:gnulib/m4/mbstate_t.m4:15: -1- AC_DEFUN([AC_TYPE_MBSTATE_T], [AC_CACHE_CHECK([for mbstate_t], ac_cv_type_mbstate_t,
      [AC_COMPILE_IFELSE(
 	[AC_LANG_PROGRAM(
@@ -3449,29 +5763,58 @@ m4trace:gnulib/m4/mbstate_t.m4:15: -1- A
      AC_DEFINE([mbstate_t], int,
 	       [Define to a type if <wchar.h> does not define.])
    fi])
+m4trace:gnulib/m4/memchr.m4:7: -1- AC_DEFUN([gl_FUNC_MEMCHR], [
+  AC_REPLACE_FUNCS(memchr)
+  if test $ac_cv_func_memchr = no; then
+    gl_PREREQ_MEMCHR
+  fi
+])
+m4trace:gnulib/m4/memchr.m4:16: -1- AC_DEFUN([gl_PREREQ_MEMCHR], [
+  AC_CHECK_HEADERS(bp-sym.h)
+])
 m4trace:gnulib/m4/memcmp.m4:7: -1- AC_DEFUN([gl_FUNC_MEMCMP], [
-  AC_REQUIRE([AC_FUNC_MEMCMP])
+  AC_FUNC_MEMCMP
+  dnl Note: AC_FUNC_MEMCMP does AC_LIBOBJ(memcmp).
   if test $ac_cv_func_memcmp_working = no; then
     AC_DEFINE(memcmp, rpl_memcmp,
       [Define to rpl_memcmp if the replacement function should be used.])
     gl_PREREQ_MEMCMP
   fi
 ])
-m4trace:gnulib/m4/memcmp.m4:18: -1- AC_DEFUN([gl_PREREQ_MEMCMP], [:])
+m4trace:gnulib/m4/memcmp.m4:19: -1- AC_DEFUN([gl_PREREQ_MEMCMP], [:])
 m4trace:gnulib/m4/mempcpy.m4:7: -1- AC_DEFUN([gl_FUNC_MEMPCPY], [
-  AC_LIBSOURCES([mempcpy.c, mempcpy.h])
-
   dnl Persuade glibc <string.h> to declare mempcpy().
   AC_REQUIRE([AC_GNU_SOURCE])
 
+  dnl The mempcpy() declaration in lib/string_.h uses 'restrict'.
+  AC_REQUIRE([AC_C_RESTRICT])
+
+  AC_REQUIRE([gl_HEADER_STRING_H_DEFAULTS])
   AC_REPLACE_FUNCS(mempcpy)
   if test $ac_cv_func_mempcpy = no; then
+    HAVE_MEMPCPY=0
     gl_PREREQ_MEMPCPY
   fi
 ])
-m4trace:gnulib/m4/mempcpy.m4:21: -1- AC_DEFUN([gl_PREREQ_MEMPCPY], [
+m4trace:gnulib/m4/mempcpy.m4:24: -1- AC_DEFUN([gl_PREREQ_MEMPCPY], [
   :
 ])
+m4trace:gnulib/m4/memrchr.m4:7: -1- AC_DEFUN([gl_FUNC_MEMRCHR], [
+  dnl Persuade glibc <string.h> to declare memrchr().
+  AC_REQUIRE([AC_GNU_SOURCE])
+
+  AC_REQUIRE([gl_HEADER_STRING_H_DEFAULTS])
+  AC_CHECK_DECLS_ONCE([memrchr])
+  if test $ac_cv_have_decl_memrchr = no; then
+    HAVE_DECL_MEMRCHR=0
+  fi
+
+  AC_REPLACE_FUNCS(memrchr)
+  if test $ac_cv_func_memrchr = no; then
+    gl_PREREQ_MEMRCHR
+  fi
+])
+m4trace:gnulib/m4/memrchr.m4:25: -1- AC_DEFUN([gl_PREREQ_MEMRCHR], [:])
 m4trace:gnulib/m4/memset.m4:7: -1- AC_DEFUN([gl_FUNC_MEMSET], [
   AC_REPLACE_FUNCS(memset)
   if test $ac_cv_func_memset = no; then
@@ -3481,32 +5824,20 @@ m4trace:gnulib/m4/memset.m4:7: -1- AC_DE
 m4trace:gnulib/m4/memset.m4:16: -1- AC_DEFUN([gl_PREREQ_MEMSET], [
   :
 ])
-m4trace:gnulib/m4/mktime.m4:15: -1- AC_DEFUN([AC_FUNC_MKTIME], [AC_REQUIRE([AC_HEADER_TIME])dnl
-AC_CHECK_HEADERS(stdlib.h sys/time.h unistd.h)
-AC_CHECK_FUNCS(alarm)
+m4trace:gnulib/m4/mktime.m4:15: -1- AC_DEFUN([AC_FUNC_MKTIME], [AC_CHECK_HEADERS_ONCE(unistd.h)
+AC_CHECK_FUNCS_ONCE(alarm)
 AC_CACHE_CHECK([for working mktime], ac_cv_func_working_mktime,
 [AC_RUN_IFELSE([AC_LANG_SOURCE(
 [[/* Test program from Paul Eggert and Tony Leneis.  */
-#if TIME_WITH_SYS_TIME
-# include <sys/time.h>
-# include <time.h>
-#else
-# if HAVE_SYS_TIME_H
-#  include <sys/time.h>
-# else
-#  include <time.h>
-# endif
-#endif
-
-#if HAVE_STDLIB_H
-# include <stdlib.h>
-#endif
+#include <limits.h>
+#include <stdlib.h>
+#include <time.h>
 
-#if HAVE_UNISTD_H
+#ifdef HAVE_UNISTD_H
 # include <unistd.h>
 #endif
 
-#if !HAVE_ALARM
+#ifndef HAVE_ALARM
 # define alarm(X) /* empty */
 #endif
 
@@ -3523,9 +5854,9 @@ static char *tz_strings[] = {
 };
 #define N_STRINGS (sizeof (tz_strings) / sizeof (tz_strings[0]))
 
-/* Fail if mktime fails to convert a date in the spring-forward gap.
+/* Return 0 if mktime fails to convert a date in the spring-forward gap.
    Based on a problem report from Andreas Jaeger.  */
-static void
+static int
 spring_forward_gap ()
 {
   /* glibc (up to about 1998-10-07) failed this test. */
@@ -3544,29 +5875,27 @@ spring_forward_gap ()
   tm.tm_min = 0;
   tm.tm_sec = 0;
   tm.tm_isdst = -1;
-  if (mktime (&tm) == (time_t)-1)
-    exit (1);
+  return mktime (&tm) != (time_t) -1;
 }
 
-static void
+static int
 mktime_test1 (now)
      time_t now;
 {
   struct tm *lt;
-  if ((lt = localtime (&now)) && mktime (lt) != now)
-    exit (1);
+  return ! (lt = localtime (&now)) || mktime (lt) == now;
 }
 
-static void
+static int
 mktime_test (now)
      time_t now;
 {
-  mktime_test1 (now);
-  mktime_test1 ((time_t) (time_t_max - now));
-  mktime_test1 ((time_t) (time_t_min + now));
+  return (mktime_test1 (now)
+	  && mktime_test1 ((time_t) (time_t_max - now))
+	  && mktime_test1 ((time_t) (time_t_min + now)));
 }
 
-static void
+static int
 irix_6_4_bug ()
 {
   /* Based on code from Ariel Faigon.  */
@@ -3579,11 +5908,10 @@ irix_6_4_bug ()
   tm.tm_sec = 0;
   tm.tm_isdst = -1;
   mktime (&tm);
-  if (tm.tm_mon != 2 || tm.tm_mday != 31)
-    exit (1);
+  return tm.tm_mon == 2 && tm.tm_mday == 31;
 }
 
-static void
+static int
 bigtime_test (j)
      int j;
 {
@@ -3605,8 +5933,39 @@ bigtime_test (j)
 	     && lt->tm_wday == tm.tm_wday
 	     && ((lt->tm_isdst < 0 ? -1 : 0 < lt->tm_isdst)
 		  == (tm.tm_isdst < 0 ? -1 : 0 < tm.tm_isdst))))
-	exit (1);
+	return 0;
     }
+  return 1;
+}
+
+static int
+year_2050_test ()
+{
+  /* The correct answer for 2050-02-01 00:00:00 in Pacific time,
+     ignoring leap seconds.  */
+  unsigned long int answer = 2527315200UL;
+
+  struct tm tm;
+  time_t t;
+  tm.tm_year = 2050 - 1900;
+  tm.tm_mon = 2 - 1;
+  tm.tm_mday = 1;
+  tm.tm_hour = tm.tm_min = tm.tm_sec = 0;
+  tm.tm_isdst = -1;
+
+  /* Use the portable POSIX.1 specification "TZ=PST8PDT,M4.1.0,M10.5.0"
+     instead of "TZ=America/Vancouver" in order to detect the bug even
+     on systems that don't support the Olson extension, or don't have the
+     full zoneinfo tables installed.  */
+  putenv ("TZ=PST8PDT,M4.1.0,M10.5.0");
+
+  t = mktime (&tm);
+
+  /* Check that the result is either a failure, or close enough
+     to the correct answer that we can assume the discrepancy is
+     due to leap seconds.  */
+  return (t == (time_t) -1
+	  || (0 < t && answer - 120 <= t && t <= answer + 120));
 }
 
 int
@@ -3620,12 +5979,15 @@ main ()
      isn't worth using anyway.  */
   alarm (60);
 
-  for (time_t_max = 1; 0 < time_t_max; time_t_max *= 2)
-    continue;
-  time_t_max--;
-  if ((time_t) -1 < 0)
-    for (time_t_min = -1; (time_t) (time_t_min * 2) < 0; time_t_min *= 2)
-      continue;
+  for (;;)
+    {
+      t = (time_t_max << 1) + 1;
+      if (t <= time_t_max)
+	break;
+      time_t_max = t;
+    }
+  time_t_min = - ((time_t) ~ (time_t) 0 == (time_t) -1) - time_t_max;
+
   delta = time_t_max / 997; /* a suitable prime number */
   for (i = 0; i < N_STRINGS; i++)
     {
@@ -3633,18 +5995,22 @@ main ()
 	putenv (tz_strings[i]);
 
       for (t = 0; t <= time_t_max - delta; t += delta)
-	mktime_test (t);
-      mktime_test ((time_t) 1);
-      mktime_test ((time_t) (60 * 60));
-      mktime_test ((time_t) (60 * 60 * 24));
-
-      for (j = 1; 0 < j; j *= 2)
-	bigtime_test (j);
-      bigtime_test (j - 1);
+	if (! mktime_test (t))
+	  return 1;
+      if (! (mktime_test ((time_t) 1)
+	     && mktime_test ((time_t) (60 * 60))
+	     && mktime_test ((time_t) (60 * 60 * 24))))
+	return 1;
+
+      for (j = 1; ; j <<= 1)
+	if (! bigtime_test (j))
+	  return 1;
+	else if (INT_MAX / 2 < j)
+	  break;
+      if (! bigtime_test (INT_MAX))
+	return 1;
     }
-  irix_6_4_bug ();
-  spring_forward_gap ();
-  exit (0);
+  return ! (irix_6_4_bug () && spring_forward_gap () && year_2050_test ());
 }]])],
 	       [ac_cv_func_working_mktime=yes],
 	       [ac_cv_func_working_mktime=no],
@@ -3653,17 +6019,20 @@ if test $ac_cv_func_working_mktime = no;
   AC_LIBOBJ([mktime])
 fi
 ])
-m4trace:gnulib/m4/mktime.m4:189: -1- AC_DEFUN([gl_FUNC_MKTIME], [
-  AC_REQUIRE([AC_FUNC_MKTIME])
+m4trace:gnulib/m4/mktime.m4:212: -1- AC_DEFUN([gl_FUNC_MKTIME], [
+  AC_FUNC_MKTIME
+  dnl Note: AC_FUNC_MKTIME does AC_LIBOBJ(mktime).
   if test $ac_cv_func_working_mktime = no; then
     AC_DEFINE(mktime, rpl_mktime,
       [Define to rpl_mktime if the replacement function should be used.])
     gl_PREREQ_MKTIME
   fi
 ])
-m4trace:gnulib/m4/mktime.m4:200: -1- AC_DEFUN([gl_PREREQ_MKTIME], [:])
+m4trace:gnulib/m4/mktime.m4:224: -1- AC_DEFUN([gl_PREREQ_MKTIME], [
+  AC_REQUIRE([AC_C_INLINE])
+])
 m4trace:gnulib/m4/modechange.m4:7: -1- AC_DEFUN([gl_MODECHANGE], [
-  AC_REQUIRE([AC_HEADER_STAT])
+  AC_LIBOBJ([modechange])
 ])
 m4trace:gnulib/m4/mountlist.m4:7: -1- AC_DEFUN([gl_MOUNTLIST], [
   gl_LIST_MOUNTED_FILE_SYSTEMS([gl_cv_list_mounted_fs=yes],
@@ -3675,7 +6044,6 @@ m4trace:gnulib/m4/mountlist.m4:7: -1- AC
 ])
 m4trace:gnulib/m4/mountlist.m4:18: -1- AC_DEFUN([gl_PREREQ_MOUNTLIST_EXTRA], [
   dnl Note gl_LIST_MOUNTED_FILE_SYSTEMS checks for mntent.h, not sys/mntent.h.
-  AC_CHECK_HEADERS_ONCE(fcntl.h unistd.h)
   AC_CHECK_HEADERS(sys/mntent.h)
   gl_FSTYPENAME
 ])
@@ -3688,22 +6056,6 @@ m4trace:gnulib/m4/nls.m4:22: -1- AC_DEFU
   AC_MSG_RESULT($USE_NLS)
   AC_SUBST(USE_NLS)
 ])
-m4trace:gnulib/m4/nls.m4:33: -1- AC_DEFUN([AM_MKINSTALLDIRS], [
-  dnl If the AC_CONFIG_AUX_DIR macro for autoconf is used we possibly
-  dnl find the mkinstalldirs script in another subdir but $(top_srcdir).
-  dnl Try to locate it.
-  MKINSTALLDIRS=
-  if test -n "$ac_aux_dir"; then
-    case "$ac_aux_dir" in
-      /*) MKINSTALLDIRS="$ac_aux_dir/mkinstalldirs" ;;
-      *) MKINSTALLDIRS="\$(top_builddir)/$ac_aux_dir/mkinstalldirs" ;;
-    esac
-  fi
-  if test -z "$MKINSTALLDIRS"; then
-    MKINSTALLDIRS="\$(top_srcdir)/mkinstalldirs"
-  fi
-  AC_SUBST(MKINSTALLDIRS)
-])
 m4trace:gnulib/m4/onceonly_2_57.m4:34: -1- AC_DEFUN([AC_CHECK_HEADERS_ONCE], [
   :
   AC_FOREACH([gl_HEADER_NAME], [$1], [
@@ -3741,18 +6093,85 @@ m4trace:gnulib/m4/onceonly_2_57.m4:78: -
     AC_REQUIRE([gl_CHECK_DECL_]m4_defn([gl_DECL_NAME]))
   ])
 ])
-m4trace:gnulib/m4/path-concat.m4:7: -1- AC_DEFUN([gl_PATH_CONCAT], [
-  dnl Prerequisites of lib/path-concat.c.
-  AC_CHECK_FUNCS_ONCE(mempcpy)
+m4trace:gnulib/m4/openat.m4:11: -1- AC_DEFUN([gl_FUNC_OPENAT], [
+  AC_LIBOBJ([openat-die])
+  AC_LIBOBJ([openat-proc])
+  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
+  AC_CHECK_FUNCS_ONCE([lchmod])
+  AC_CHECK_FUNCS_ONCE([fdopendir])
+  AC_REPLACE_FUNCS([fchmodat mkdirat openat])
+  case $ac_cv_func_openat+$ac_cv_func_lstat_dereferences_slashed_symlink in
+  yes+yes) ;;
+  yes+*) AC_LIBOBJ([fstatat]);;
+  *)
+    AC_DEFINE([__OPENAT_PREFIX], [[rpl_]],
+      [Define to rpl_ if the openat replacement function should be used.])
+    gl_PREREQ_OPENAT;;
+  esac
+  gl_FUNC_FCHOWNAT
+])
+m4trace:gnulib/m4/openat.m4:31: -1- AC_DEFUN([gl_FUNC_FCHOWNAT_DEREF_BUG], [
+  AC_CACHE_CHECK([whether fchownat works with AT_SYMLINK_NOFOLLOW],
+    gl_cv_func_fchownat_nofollow_works,
+    [
+     gl_dangle=conftest.dangle
+     # Remove any remnants of a previous test.
+     rm -f $gl_dangle
+     # Arrange for deletion of the temporary file this test creates.
+     ac_clean_files="$ac_clean_files $gl_dangle"
+     AC_RUN_IFELSE(
+       [AC_LANG_SOURCE(
+	  [[
+#include <fcntl.h>
+#include <unistd.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <sys/types.h>
+int
+main ()
+{
+  return (fchownat (AT_FDCWD, "$gl_dangle", -1, getgid (),
+		    AT_SYMLINK_NOFOLLOW) != 0
+	  && errno == ENOENT);
+}
+          ]])],
+    [gl_cv_func_fchownat_nofollow_works=yes],
+    [gl_cv_func_fchownat_nofollow_works=no],
+    [gl_cv_func_fchownat_nofollow_works=no],
+    )
+  ])
+  AS_IF([test $gl_cv_func_fchownat_nofollow_works = no], [$1], [$2])
+])
+m4trace:gnulib/m4/openat.m4:69: -1- AC_DEFUN([gl_FUNC_FCHOWNAT], [
+  # Assume we'll use the replacement function.
+  # The only case in which we won't is when we have fchownat, and it works.
+  use_replacement_fchownat=yes
+
+  AC_CHECK_FUNC([fchownat], [have_fchownat=yes], [have_fchownat=no])
+  if test $have_fchownat = yes; then
+    gl_FUNC_FCHOWNAT_DEREF_BUG([have_fchownat_bug=yes])
+    if test $have_fchownat_bug = no; then
+      use_replacement_fchownat=no
+    fi
+  fi
+
+  if test $use_replacement_fchownat = yes; then
+    AC_LIBOBJ(fchownat)
+    AC_DEFINE(fchownat, rpl_fchownat,
+      [Define to rpl_fchownat if the replacement function should be used.])
+  fi
+])
+m4trace:gnulib/m4/openat.m4:90: -1- AC_DEFUN([gl_PREREQ_OPENAT], [
+  :
 ])
 m4trace:gnulib/m4/pathmax.m4:7: -1- AC_DEFUN([gl_PATHMAX], [
   dnl Prerequisites of lib/pathmax.h.
-  AC_CHECK_HEADERS_ONCE(sys/param.h unistd.h)
+  AC_CHECK_HEADERS_ONCE(sys/param.h)
 ])
 m4trace:gnulib/m4/po.m4:23: -1- AC_DEFUN([AM_PO_SUBDIRS], [
   AC_REQUIRE([AC_PROG_MAKE_SET])dnl
   AC_REQUIRE([AC_PROG_INSTALL])dnl
-  AC_REQUIRE([AM_MKINSTALLDIRS])dnl
+  AC_REQUIRE([AM_PROG_MKDIR_P])dnl defined by automake
   AC_REQUIRE([AM_NLS])dnl
 
   dnl Perform the following tests also if --disable-nls has been given,
@@ -3762,59 +6181,57 @@ m4trace:gnulib/m4/po.m4:23: -1- AC_DEFUN
   dnl The first test excludes Solaris msgfmt and early GNU msgfmt versions.
   dnl The second test excludes FreeBSD msgfmt.
   AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,
-    [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1 &&
+    [$ac_dir/$ac_word --statistics /dev/null >&]AS_MESSAGE_LOG_FD[ 2>&1 &&
      (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)],
     :)
   AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)
 
+  dnl Test whether it is GNU msgfmt >= 0.15.
+changequote(,)dnl
+  case `$MSGFMT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in
+    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) MSGFMT_015=: ;;
+    *) MSGFMT_015=$MSGFMT ;;
+  esac
+changequote([,])dnl
+  AC_SUBST([MSGFMT_015])
+changequote(,)dnl
+  case `$GMSGFMT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in
+    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) GMSGFMT_015=: ;;
+    *) GMSGFMT_015=$GMSGFMT ;;
+  esac
+changequote([,])dnl
+  AC_SUBST([GMSGFMT_015])
+
   dnl Search for GNU xgettext 0.12 or newer in the PATH.
   dnl The first test excludes Solaris xgettext and early GNU xgettext versions.
   dnl The second test excludes FreeBSD xgettext.
   AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,
-    [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
+    [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >&]AS_MESSAGE_LOG_FD[ 2>&1 &&
      (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)],
     :)
   dnl Remove leftover from FreeBSD xgettext call.
   rm -f messages.po
 
+  dnl Test whether it is GNU xgettext >= 0.15.
+changequote(,)dnl
+  case `$XGETTEXT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in
+    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) XGETTEXT_015=: ;;
+    *) XGETTEXT_015=$XGETTEXT ;;
+  esac
+changequote([,])dnl
+  AC_SUBST([XGETTEXT_015])
+
   dnl Search for GNU msgmerge 0.11 or newer in the PATH.
   AM_PATH_PROG_WITH_TEST(MSGMERGE, msgmerge,
-    [$ac_dir/$ac_word --update -q /dev/null /dev/null >/dev/null 2>&1], :)
+    [$ac_dir/$ac_word --update -q /dev/null /dev/null >&]AS_MESSAGE_LOG_FD[ 2>&1], :)
 
-  dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.
-  dnl Test whether we really found GNU msgfmt.
-  if test "$GMSGFMT" != ":"; then
-    dnl If it is no GNU msgfmt we define it as : so that the
-    dnl Makefiles still can work.
-    if $GMSGFMT --statistics /dev/null >/dev/null 2>&1 &&
-       (if $GMSGFMT --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
-      : ;
-    else
-      GMSGFMT=`echo "$GMSGFMT" | sed -e 's,^.*/,,'`
-      AC_MSG_RESULT(
-        [found $GMSGFMT program is not GNU msgfmt; ignore it])
-      GMSGFMT=":"
-    fi
-  fi
-
-  dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.
-  dnl Test whether we really found GNU xgettext.
-  if test "$XGETTEXT" != ":"; then
-    dnl If it is no GNU xgettext we define it as : so that the
-    dnl Makefiles still can work.
-    if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
-      : ;
-    else
-      AC_MSG_RESULT(
-        [found xgettext program is not GNU xgettext; ignore it])
-      XGETTEXT=":"
-    fi
-    dnl Remove leftover from FreeBSD xgettext call.
-    rm -f messages.po
-  fi
+  dnl Installation directories.
+  dnl Autoconf >= 2.60 defines localedir. For older versions of autoconf, we
+  dnl have to define it here, so that it can be used in po/Makefile.
+  test -n "$localedir" || localedir='${datadir}/locale'
+  AC_SUBST([localedir])
 
-  AC_OUTPUT_COMMANDS([
+  AC_CONFIG_COMMANDS([po-directories], [[
     for ac_file in $CONFIG_FILES; do
       # Support "outfile[:infile[:infile...]]"
       case "$ac_file" in
@@ -3834,6 +6251,9 @@ m4trace:gnulib/m4/po.m4:23: -1- AC_DEFUN
           /*) top_srcdir="$ac_given_srcdir" ;;
           *)  top_srcdir="$ac_dots$ac_given_srcdir" ;;
         esac
+        # Treat a directory as a PO directory if and only if it has a
+        # POTFILES.in file. This allows packages to have multiple PO
+        # directories under different names or in different locations.
         if test -f "$ac_given_srcdir/$ac_dir/POTFILES.in"; then
           rm -f "$ac_dir/POTFILES"
           test -n "$as_me" && echo "$as_me: creating $ac_dir/POTFILES" || echo "creating $ac_dir/POTFILES"
@@ -3847,12 +6267,13 @@ m4trace:gnulib/m4/po.m4:23: -1- AC_DEFUN
             if test -n "$OBSOLETE_ALL_LINGUAS"; then
               test -n "$as_me" && echo "$as_me: setting ALL_LINGUAS in configure.in is obsolete" || echo "setting ALL_LINGUAS in configure.in is obsolete"
             fi
-            ALL_LINGUAS_=`sed -e "/^#/d" "$ac_given_srcdir/$ac_dir/LINGUAS"`
-            # Hide the ALL_LINGUAS assigment from automake.
+            ALL_LINGUAS_=`sed -e "/^#/d" -e "s/#.*//" "$ac_given_srcdir/$ac_dir/LINGUAS"`
+            # Hide the ALL_LINGUAS assigment from automake < 1.5.
             eval 'ALL_LINGUAS''=$ALL_LINGUAS_'
             POMAKEFILEDEPS="$POMAKEFILEDEPS LINGUAS"
           else
             # The set of available languages was given in configure.in.
+            # Hide the ALL_LINGUAS assigment from automake < 1.5.
             eval 'ALL_LINGUAS''=$OBSOLETE_ALL_LINGUAS'
           fi
           # Compute POFILES
@@ -3922,16 +6343,16 @@ m4trace:gnulib/m4/po.m4:23: -1- AC_DEFUN
         fi
         ;;
       esac
-    done],
+    done]],
    [# Capture the value of obsolete ALL_LINGUAS because we need it to compute
     # POFILES, UPDATEPOFILES, DUMMYPOFILES, GMOFILES, CATALOGS. But hide it
-    # from automake.
+    # from automake < 1.5.
     eval 'OBSOLETE_ALL_LINGUAS''="$ALL_LINGUAS"'
     # Capture the value of LINGUAS because we need it to compute CATALOGS.
     LINGUAS="${LINGUAS-%UNSET%}"
    ])
 ])
-m4trace:gnulib/m4/po.m4:208: -1- AC_DEFUN([AM_POSTPROCESS_PO_MAKEFILE], [
+m4trace:gnulib/m4/po.m4:210: -1- AC_DEFUN([AM_POSTPROCESS_PO_MAKEFILE], [
   # When this code is run, in config.status, two variables have already been
   # set:
   # - OBSOLETE_ALL_LINGUAS is the value of LINGUAS set in configure.in,
@@ -4008,7 +6429,7 @@ x
 changequote([,])dnl
 
   # Set POTFILES to the value of the Makefile variable POTFILES.
-  sed_x_POTFILES="`$gt_echo \"$sed_x_variable\" | sed -e '/^ *#/d' -e 's/VARIABLE/POTFILES/g'`"
+  sed_x_POTFILES=`$gt_echo "$sed_x_variable" | sed -e '/^ *#/d' -e 's/VARIABLE/POTFILES/g'`
   POTFILES=`sed -n -e "$sed_x_POTFILES" < "$ac_file"`
   # Compute POTFILES_DEPS as
   #   $(foreach file, $(POTFILES), $(top_srcdir)/$(file))
@@ -4023,14 +6444,14 @@ changequote([,])dnl
   fi
   if test -f "$ac_given_srcdir/$ac_dir/LINGUAS"; then
     # The LINGUAS file contains the set of available languages.
-    ALL_LINGUAS_=`sed -e "/^#/d" "$ac_given_srcdir/$ac_dir/LINGUAS"`
+    ALL_LINGUAS_=`sed -e "/^#/d" -e "s/#.*//" "$ac_given_srcdir/$ac_dir/LINGUAS"`
     POMAKEFILEDEPS="$POMAKEFILEDEPS LINGUAS"
   else
     # Set ALL_LINGUAS to the value of the Makefile variable LINGUAS.
-    sed_x_LINGUAS="`$gt_echo \"$sed_x_variable\" | sed -e '/^ *#/d' -e 's/VARIABLE/LINGUAS/g'`"
+    sed_x_LINGUAS=`$gt_echo "$sed_x_variable" | sed -e '/^ *#/d' -e 's/VARIABLE/LINGUAS/g'`
     ALL_LINGUAS_=`sed -n -e "$sed_x_LINGUAS" < "$ac_file"`
   fi
-  # Hide the ALL_LINGUAS assigment from automake.
+  # Hide the ALL_LINGUAS assigment from automake < 1.5.
   eval 'ALL_LINGUAS''=$ALL_LINGUAS_'
   # Compute POFILES
   # as      $(foreach lang, $(ALL_LINGUAS), $(srcdir)/$(lang).po)
@@ -4073,7 +6494,7 @@ changequote([,])dnl
     QMFILES="$QMFILES $srcdirpre$lang.qm"
     frobbedlang=`echo $lang | sed -e 's/\..*$//' -e 'y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/'`
     MSGFILES="$MSGFILES $srcdirpre$frobbedlang.msg"
-    frobbedlang=`echo $lang | sed -e 's/_/-/g'`
+    frobbedlang=`echo $lang | sed -e 's/_/-/g' -e 's/^sr-CS/sr-SP/' -e 's/@latin$/-Latn/' -e 's/@cyrillic$/-Cyrl/' -e 's/^sr-SP$/sr-SP-Latn/' -e 's/^uz-UZ$/uz-UZ-Latn/'`
     RESOURCESDLLFILES="$RESOURCESDLLFILES $srcdirpre$frobbedlang/\$(DOMAIN).resources.dll"
   done
   # CATALOGS depends on both $ac_dir and the user's LINGUAS
@@ -4114,7 +6535,7 @@ changequote([,])dnl
       QTCATALOGS="$QTCATALOGS $lang.qm"
       frobbedlang=`echo $lang | sed -e 's/\..*$//' -e 'y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/'`
       TCLCATALOGS="$TCLCATALOGS $frobbedlang.msg"
-      frobbedlang=`echo $lang | sed -e 's/_/-/g'`
+      frobbedlang=`echo $lang | sed -e 's/_/-/g' -e 's/^sr-CS/sr-SP/' -e 's/@latin$/-Latn/' -e 's/@cyrillic$/-Cyrl/' -e 's/^sr-SP$/sr-SP-Latn/' -e 's/^uz-UZ$/uz-UZ-Latn/'`
       CSHARPCATALOGS="$CSHARPCATALOGS $frobbedlang/\$(DOMAIN).resources.dll"
     done
   fi
@@ -4134,7 +6555,7 @@ EOF
   if grep -l '@CSHARPCATALOGS@' "$ac_file" > /dev/null; then
     # Add dependencies that cannot be formulated as a simple suffix rule.
     for lang in $ALL_LINGUAS; do
-      frobbedlang=`echo $lang | sed -e 's/_/-/g'`
+      frobbedlang=`echo $lang | sed -e 's/_/-/g' -e 's/^sr-CS/sr-SP/' -e 's/@latin$/-Latn/' -e 's/@cyrillic$/-Cyrl/' -e 's/^sr-SP$/sr-SP-Latn/' -e 's/^uz-UZ$/uz-UZ-Latn/'`
       cat >> "$ac_file.tmp" <<EOF
 $frobbedlang/\$(DOMAIN).resources.dll: $lang.po
 	@echo "\$(MSGFMT) -c --csharp -d \$(srcdir) -l $lang $srcdirpre$lang.po -r \$(DOMAIN)"; \
@@ -4149,7 +6570,7 @@ EOF
   fi
   mv "$ac_file.tmp" "$ac_file"
 ])
-m4trace:gnulib/m4/printf-posix.m4:13: -1- AC_DEFUN([gt_PRINTF_POSIX], [
+m4trace:gnulib/m4/printf-posix.m4:11: -1- AC_DEFUN([gt_PRINTF_POSIX], [
   AC_REQUIRE([AC_PROG_CC])
   AC_CACHE_CHECK([whether printf() supports POSIX/XSI format strings],
     gt_cv_func_printf_posix,
@@ -4168,7 +6589,7 @@ int main ()
 }], gt_cv_func_printf_posix=yes, gt_cv_func_printf_posix=no,
       [
         AC_EGREP_CPP(notposix, [
-#if defined __NetBSD__ || defined _MSC_VER || defined __MINGW32__ || defined __CYGWIN__
+#if defined __NetBSD__ || defined __BEOS__ || defined _MSC_VER || defined __MINGW32__ || defined __CYGWIN__
   notposix
 #endif
         ], gt_cv_func_printf_posix="guessing no",
@@ -4226,6 +6647,7 @@ AC_CACHE_VAL(ac_cv_path_$1,
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
+          echo "$as_me: trying $ac_dir/$ac_word..." >&AS_MESSAGE_LOG_FD
           if [$3]; then
             ac_cv_path_$1="$ac_dir/$ac_word$ac_exec_ext"
             break 2
@@ -4249,149 +6671,227 @@ fi
 AC_SUBST($1)dnl
 ])
 m4trace:gnulib/m4/quote.m4:7: -1- AC_DEFUN([gl_QUOTE], [
+  AC_LIBOBJ([quote])
+
   dnl Prerequisites of lib/quote.c.
   dnl (none)
 ])
 m4trace:gnulib/m4/quotearg.m4:7: -1- AC_DEFUN([gl_QUOTEARG], [
+  AC_LIBOBJ([quotearg])
+
   dnl Prerequisites of lib/quotearg.c.
-  AC_CHECK_HEADERS_ONCE(wchar.h wctype.h)
-  AC_CHECK_FUNCS_ONCE(iswprint mbsinit)
+  AC_CHECK_FUNCS_ONCE([mbsinit])
   AC_TYPE_MBSTATE_T
   gl_FUNC_MBRTOWC
 ])
 m4trace:gnulib/m4/readlink.m4:7: -1- AC_DEFUN([gl_FUNC_READLINK], [
-  AC_CHECK_FUNCS(readlink)
+  AC_REQUIRE([gl_UNISTD_H_DEFAULTS])
+  AC_CHECK_FUNCS_ONCE([readlink])
   if test $ac_cv_func_readlink = no; then
+    HAVE_READLINK=0
     AC_LIBOBJ(readlink)
     gl_PREREQ_READLINK
   fi
 ])
-m4trace:gnulib/m4/readlink.m4:17: -1- AC_DEFUN([gl_PREREQ_READLINK], [
-  :
+m4trace:gnulib/m4/readlink.m4:19: -1- AC_DEFUN([gl_FUNC_READLINK_SEPARATE], [
+  AC_CHECK_FUNCS_ONCE([readlink])
+  gl_PREREQ_READLINK
 ])
-m4trace:gnulib/m4/regex.m4:13: -1- AC_DEFUN([gl_REGEX], [
-  gl_INCLUDED_REGEX([lib/regex.c])
+m4trace:gnulib/m4/readlink.m4:26: -1- AC_DEFUN([gl_PREREQ_READLINK], [
+  :
 ])
-m4trace:gnulib/m4/regex.m4:20: -1- AC_DEFUN([gl_INCLUDED_REGEX], [
-    dnl Even packages that don't use regex.c can use this macro.
-    dnl Of course, for them it doesn't do anything.
+m4trace:gnulib/m4/regex.m4:15: -1- AC_DEFUN([gl_REGEX], [
+  AC_CHECK_HEADERS_ONCE([locale.h])
 
-    # Assume we'll default to using the included regex.c.
-    ac_use_included_regex=yes
-
-    # However, if the system regex support is good enough that it passes the
-    # the following run test, then default to *not* using the included regex.c.
+  AC_ARG_WITH([included-regex],
+    [AC_HELP_STRING([--without-included-regex],
+		    [don't compile regex; this is the default on 32-bit
+		     systems with recent-enough versions of the GNU C
+		     Library (use with caution on other systems).
+		     On systems with 64-bit ptrdiff_t and 32-bit int,
+		     --with-included-regex is the default, in case
+		     regex functions operate on very long strings (>2GB)])])
+
+  case $with_included_regex in #(
+  yes|no) ac_use_included_regex=$with_included_regex
+	;;
+  '')
+    # If the system regex support is good enough that it passes the
+    # following run test, then default to *not* using the included regex.c.
     # If cross compiling, assume the test would fail and use the included
-    # regex.c.  The first failing regular expression is from `Spencer ere
-    # test #75' in grep-2.3.
+    # regex.c.
     AC_CACHE_CHECK([for working re_compile_pattern],
-		   jm_cv_func_working_re_compile_pattern,
-      AC_TRY_RUN(
-[#include <stdio.h>
-#include <string.h>
-#include <regex.h>
-	  int
-	  main ()
-	  {
-	    static struct re_pattern_buffer regex;
+		   [gl_cv_func_re_compile_pattern_working],
+      [AC_RUN_IFELSE(
+	[AC_LANG_PROGRAM(
+	  [AC_INCLUDES_DEFAULT
+	   #if HAVE_LOCALE_H
+	    #include <locale.h>
+	   #endif
+	   #include <limits.h>
+	   #include <regex.h>
+	   ],
+	  [[static struct re_pattern_buffer regex;
+	    unsigned char folded_chars[UCHAR_MAX + 1];
+	    int i;
 	    const char *s;
 	    struct re_registers regs;
+
+	    #if HAVE_LOCALE_H
+	      /* http://sourceware.org/ml/libc-hacker/2006-09/msg00008.html
+		 This test needs valgrind to catch the bug on Debian
+		 GNU/Linux 3.1 x86, but it might catch the bug better
+		 on other platforms and it shouldn't hurt to try the
+		 test here.  */
+	      if (setlocale (LC_ALL, "en_US.UTF-8"))
+		{
+		  static char const pat[] = "insert into";
+		  static char const data[] =
+		    "\xFF\0\x12\xA2\xAA\xC4\xB1,K\x12\xC4\xB1*\xACK";
+		  re_set_syntax (RE_SYNTAX_GREP | RE_HAT_LISTS_NOT_NEWLINE
+				 | RE_ICASE);
+		  memset (&regex, 0, sizeof regex);
+		  s = re_compile_pattern (pat, sizeof pat - 1, &regex);
+		  if (s)
+		    return 1;
+		  if (re_search (&regex, data, sizeof data - 1,
+				 0, sizeof data - 1, &regs)
+		      != -1)
+		    return 1;
+		  if (! setlocale (LC_ALL, "C"))
+		    return 1;
+		}
+	    #endif
+
+	    /* This test is from glibc bug 3957, reported by Andrew Mackey.  */
+	    re_set_syntax (RE_SYNTAX_EGREP | RE_HAT_LISTS_NOT_NEWLINE);
+	    memset (&regex, 0, sizeof regex);
+	    s = re_compile_pattern ("a[^x]b", 6, &regex);
+	    if (s)
+	      return 1;
+
+	    /* This should fail, but succeeds for glibc-2.5.  */
+	    if (re_search (&regex, "a\nb", 3, 0, 3, &regs) != -1)
+	      return 1;
+
+	    /* This regular expression is from Spencer ere test number 75
+	       in grep-2.3.  */
 	    re_set_syntax (RE_SYNTAX_POSIX_EGREP);
-	    memset (&regex, 0, sizeof (regex));
-	    [s = re_compile_pattern ("a[[:@:>@:]]b\n", 9, &regex);]
+	    memset (&regex, 0, sizeof regex);
+	    for (i = 0; i <= UCHAR_MAX; i++)
+	      folded_chars[i] = i;
+	    regex.translate = folded_chars;
+	    s = re_compile_pattern ("a[[:@:>@:]]b\n", 11, &regex);
 	    /* This should fail with _Invalid character class name_ error.  */
 	    if (!s)
-	      exit (1);
+	      return 1;
 
-	    /* This should succeed, but doesn't for e.g. glibc-2.1.3.  */
-	    memset (&regex, 0, sizeof (regex));
+	    /* This should succeed, but does not for glibc-2.1.3.  */
+	    memset (&regex, 0, sizeof regex);
 	    s = re_compile_pattern ("{1", 2, &regex);
 
 	    if (s)
-	      exit (1);
+	      return 1;
 
 	    /* The following example is derived from a problem report
-               against gawk from Jorge Stolfi <stolfi@ic.unicamp.br>.  */
-	    memset (&regex, 0, sizeof (regex));
-	    s = re_compile_pattern ("[[an\371]]*n", 7, &regex);
+	       against gawk from Jorge Stolfi <stolfi@ic.unicamp.br>.  */
+	    memset (&regex, 0, sizeof regex);
+	    s = re_compile_pattern ("[an\371]*n", 7, &regex);
 	    if (s)
-	      exit (1);
+	      return 1;
 
-	    /* This should match, but doesn't for e.g. glibc-2.2.1.  */
+	    /* This should match, but does not for glibc-2.2.1.  */
 	    if (re_match (&regex, "an", 2, 0, &regs) != 2)
-	      exit (1);
+	      return 1;
 
-	    memset (&regex, 0, sizeof (regex));
+	    memset (&regex, 0, sizeof regex);
 	    s = re_compile_pattern ("x", 1, &regex);
 	    if (s)
-	      exit (1);
+	      return 1;
 
-	    /* The version of regex.c in e.g. GNU libc-2.2.93 didn't
-	       work with a negative RANGE argument.  */
+	    /* glibc-2.2.93 does not work with a negative RANGE argument.  */
 	    if (re_search (&regex, "wxy", 3, 2, -2, &regs) != 1)
-	      exit (1);
+	      return 1;
 
-	    exit (0);
-	  }
-	],
-	       jm_cv_func_working_re_compile_pattern=yes,
-	       jm_cv_func_working_re_compile_pattern=no,
-	       dnl When crosscompiling, assume it's broken.
-	       jm_cv_func_working_re_compile_pattern=no))
-    if test $jm_cv_func_working_re_compile_pattern = yes; then
-      ac_use_included_regex=no
-    fi
+	    /* The version of regex.c in older versions of gnulib
+	       ignored RE_ICASE.  Detect that problem too.  */
+	    re_set_syntax (RE_SYNTAX_EMACS | RE_ICASE);
+	    memset (&regex, 0, sizeof regex);
+	    s = re_compile_pattern ("x", 1, &regex);
+	    if (s)
+	      return 1;
 
-    test -n "$1" || AC_MSG_ERROR([missing argument])
-    m4_syscmd([test -f $1])
-    ifelse(m4_sysval, 0,
-      [
-	AC_ARG_WITH(included-regex,
-	[  --without-included-regex don't compile regex; this is the default on
-                          systems with version 2 of the GNU C library
-                          (use with caution on other system)],
-		    jm_with_regex=$withval,
-		    jm_with_regex=$ac_use_included_regex)
-	if test "$jm_with_regex" = yes; then
-	  AC_LIBOBJ(regex)
-	  gl_PREREQ_REGEX
-	fi
-      ],
-    )
-  
-])
-m4trace:gnulib/m4/regex.m4:111: -1- AC_DEFUN([gl_PREREQ_REGEX], [
-  dnl FIXME: Maybe provide a btowc replacement someday: Solaris 2.5.1 lacks it.
-  dnl FIXME: Check for wctype and iswctype, and and add -lw if necessary
-  dnl to get them.
+	    if (re_search (&regex, "WXY", 3, 0, 3, &regs) < 0)
+	      return 1;
 
-  dnl Persuade glibc <string.h> to declare mempcpy().
-  AC_REQUIRE([AC_GNU_SOURCE])
+	    /* REG_STARTEND was added to glibc on 2004-01-15.
+	       Reject older versions.  */
+	    if (! REG_STARTEND)
+	      return 1;
+
+	    /* Reject hosts whose regoff_t values are too narrow.
+	       These include glibc 2.3.5 on hosts with 64-bit ptrdiff_t
+	       and 32-bit int.  */
+	    if (sizeof (regoff_t) < sizeof (ptrdiff_t)
+		|| sizeof (regoff_t) < sizeof (ssize_t))
+	      return 1;
+
+	    return 0;]])],
+       [gl_cv_func_re_compile_pattern_working=yes],
+       [gl_cv_func_re_compile_pattern_working=no],
+       dnl When crosscompiling, assume it is not working.
+       [gl_cv_func_re_compile_pattern_working=no])])
+    case $gl_cv_func_re_compile_pattern_working in #(
+    yes) ac_use_included_regex=no;; #(
+    no) ac_use_included_regex=yes;;
+    esac
+    ;;
+  *) AC_MSG_ERROR([Invalid value for --with-included-regex: $with_included_regex])
+    ;;
+  esac
 
-  AC_REQUIRE([gl_C_RESTRICT])
-  AC_REQUIRE([AC_FUNC_ALLOCA])
-  AC_REQUIRE([AC_HEADER_STDC])
-  AC_CHECK_HEADERS_ONCE(wchar.h wctype.h)
-  AC_CHECK_FUNCS_ONCE(isascii mempcpy)
-  AC_CHECK_FUNCS(btowc)
-])
-m4trace:gnulib/m4/restrict.m4:20: -1- AC_DEFUN([gl_C_RESTRICT], [AC_CACHE_CHECK([for C/C++ restrict keyword], gl_cv_c_restrict,
-  [gl_cv_c_restrict=no
-   # Try the official restrict keyword, then gcc's __restrict, and
-   # the less common variants.
-   for ac_kw in restrict __restrict __restrict__ _Restrict; do
-     AC_COMPILE_IFELSE([AC_LANG_SOURCE(
-      [float * $ac_kw x;])],
-      [gl_cv_c_restrict=$ac_kw; break])
-   done
-  ])
- case $gl_cv_c_restrict in
-   restrict) ;;
-   no) AC_DEFINE(restrict,,
-	[Define to equivalent of C99 restrict keyword, or to nothing if this
-	is not supported.  Do not define if restrict is supported directly.]) ;;
-   *)  AC_DEFINE_UNQUOTED(restrict, $gl_cv_c_restrict) ;;
- esac
+  if test $ac_use_included_regex = yes; then
+    AC_DEFINE([_REGEX_LARGE_OFFSETS], 1,
+      [Define if you want regoff_t to be at least as wide POSIX requires.])
+    AC_DEFINE([re_syntax_options], [rpl_re_syntax_options],
+      [Define to rpl_re_syntax_options if the replacement should be used.])
+    AC_DEFINE([re_set_syntax], [rpl_re_set_syntax],
+      [Define to rpl_re_set_syntax if the replacement should be used.])
+    AC_DEFINE([re_compile_pattern], [rpl_re_compile_pattern],
+      [Define to rpl_re_compile_pattern if the replacement should be used.])
+    AC_DEFINE([re_compile_fastmap], [rpl_re_compile_fastmap],
+      [Define to rpl_re_compile_fastmap if the replacement should be used.])
+    AC_DEFINE([re_search], [rpl_re_search],
+      [Define to rpl_re_search if the replacement should be used.])
+    AC_DEFINE([re_search_2], [rpl_re_search_2],
+      [Define to rpl_re_search_2 if the replacement should be used.])
+    AC_DEFINE([re_match], [rpl_re_match],
+      [Define to rpl_re_match if the replacement should be used.])
+    AC_DEFINE([re_match_2], [rpl_re_match_2],
+      [Define to rpl_re_match_2 if the replacement should be used.])
+    AC_DEFINE([re_set_registers], [rpl_re_set_registers],
+      [Define to rpl_re_set_registers if the replacement should be used.])
+    AC_DEFINE([re_comp], [rpl_re_comp],
+      [Define to rpl_re_comp if the replacement should be used.])
+    AC_DEFINE([re_exec], [rpl_re_exec],
+      [Define to rpl_re_exec if the replacement should be used.])
+    AC_DEFINE([regcomp], [rpl_regcomp],
+      [Define to rpl_regcomp if the replacement should be used.])
+    AC_DEFINE([regexec], [rpl_regexec],
+      [Define to rpl_regexec if the replacement should be used.])
+    AC_DEFINE([regerror], [rpl_regerror],
+      [Define to rpl_regerror if the replacement should be used.])
+    AC_DEFINE([regfree], [rpl_regfree],
+      [Define to rpl_regfree if the replacement should be used.])
+    AC_LIBOBJ([regex])
+    gl_PREREQ_REGEX
+  fi
+])
+m4trace:gnulib/m4/regex.m4:205: -1- AC_DEFUN([gl_PREREQ_REGEX], [
+  AC_REQUIRE([AC_GNU_SOURCE])
+  AC_REQUIRE([AC_C_RESTRICT])
+  AC_CHECK_FUNCS_ONCE([iswctype mbrtowc wcrtomb wcscoll])
+  AC_CHECK_DECLS([isblank], [], [], [#include <ctype.h>])
 ])
 m4trace:gnulib/m4/rpmatch.m4:7: -1- AC_DEFUN([gl_FUNC_RPMATCH], [
   AC_REPLACE_FUNCS(rpmatch)
@@ -4400,25 +6900,81 @@ m4trace:gnulib/m4/rpmatch.m4:7: -1- AC_D
   fi
 ])
 m4trace:gnulib/m4/rpmatch.m4:16: -1- AC_DEFUN([gl_PREREQ_RPMATCH], [:])
+m4trace:gnulib/m4/save-cwd.m4:7: -1- AC_DEFUN([gl_SAVE_CWD], [
+  AC_LIBOBJ([save-cwd])
+  dnl Prerequisites for lib/save-cwd.c.
+  AC_CHECK_FUNCS_ONCE(fchdir)
+])
 m4trace:gnulib/m4/savedir.m4:7: -1- AC_DEFUN([gl_SAVEDIR], [
-  dnl Prerequisites of lib/savedir.c.
-  AC_REQUIRE([AC_HEADER_DIRENT])
-  AC_REQUIRE([AC_FUNC_CLOSEDIR_VOID])
-])
-m4trace:gnulib/m4/signed.m4:9: -1- AC_DEFUN([bh_C_SIGNED], [
-  AC_CACHE_CHECK([for signed], bh_cv_c_signed,
-   [AC_TRY_COMPILE(, [signed char x;], bh_cv_c_signed=yes, bh_cv_c_signed=no)])
-  if test $bh_cv_c_signed = no; then
-    AC_DEFINE(signed, ,
-              [Define to empty if the C compiler doesn't support this keyword.])
+  AC_LIBOBJ([savedir])
+])
+m4trace:gnulib/m4/setenv.m4:7: -1- AC_DEFUN([gl_FUNC_SETENV], [
+  AC_CHECK_FUNCS_ONCE([setenv])
+  if test $ac_cv_func_setenv = no; then
+    AC_LIBOBJ([setenv])
+    gl_PREREQ_SETENV
+  fi
+])
+m4trace:gnulib/m4/setenv.m4:17: -1- AC_DEFUN([gl_FUNC_SETENV_SEPARATE], [
+  AC_CHECK_FUNCS_ONCE([setenv])
+  gl_PREREQ_SETENV
+])
+m4trace:gnulib/m4/setenv.m4:23: -1- AC_DEFUN([gl_FUNC_UNSETENV], [
+  AC_CHECK_FUNCS([unsetenv])
+  if test $ac_cv_func_unsetenv = no; then
+    AC_LIBOBJ([unsetenv])
+    gl_PREREQ_UNSETENV
+  else
+    AC_CACHE_CHECK([for unsetenv() return type], gt_cv_func_unsetenv_ret,
+      [AC_TRY_COMPILE([#include <stdlib.h>
+extern
+#ifdef __cplusplus
+"C"
+#endif
+#if defined(__STDC__) || defined(__cplusplus)
+int unsetenv (const char *name);
+#else
+int unsetenv();
+#endif
+], , gt_cv_func_unsetenv_ret='int', gt_cv_func_unsetenv_ret='void')])
+    if test $gt_cv_func_unsetenv_ret = 'void'; then
+      AC_DEFINE(VOID_UNSETENV, 1, [Define if unsetenv() returns void, not int.])
+    fi
+  fi
+])
+m4trace:gnulib/m4/setenv.m4:50: -1- AC_DEFUN([gt_CHECK_VAR_DECL], [
+  define([gt_cv_var], [gt_cv_var_]$2[_declaration])
+  AC_MSG_CHECKING([if $2 is properly declared])
+  AC_CACHE_VAL(gt_cv_var, [
+    AC_TRY_COMPILE([$1
+      extern struct { int foo; } $2;],
+      [$2.foo = 1;],
+      gt_cv_var=no,
+      gt_cv_var=yes)])
+  AC_MSG_RESULT($gt_cv_var)
+  if test $gt_cv_var = yes; then
+    AC_DEFINE([HAVE_]translit($2, [a-z], [A-Z])[_DECL], 1,
+              [Define if you have the declaration of $2.])
   fi
 ])
+m4trace:gnulib/m4/setenv.m4:68: -1- AC_DEFUN([gl_PREREQ_SETENV], [
+  AC_REQUIRE([AC_FUNC_ALLOCA])
+  AC_CHECK_HEADERS_ONCE(unistd.h)
+  AC_CHECK_HEADERS(search.h)
+  AC_CHECK_FUNCS(tsearch)
+  gt_CHECK_VAR_DECL([#include <unistd.h>], environ)
+])
+m4trace:gnulib/m4/setenv.m4:78: -1- AC_DEFUN([gl_PREREQ_UNSETENV], [
+  AC_CHECK_HEADERS_ONCE(unistd.h)
+  gt_CHECK_VAR_DECL([#include <unistd.h>], environ)
+])
 m4trace:gnulib/m4/size_max.m4:9: -1- AC_DEFUN([gl_SIZE_MAX], [
   AC_CHECK_HEADERS(stdint.h)
   dnl First test whether the system already has SIZE_MAX.
   AC_MSG_CHECKING([for SIZE_MAX])
-  result=
-  AC_EGREP_CPP([Found it], [
+  AC_CACHE_VAL([gl_cv_size_max], [
+    gl_cv_size_max=
+    AC_EGREP_CPP([Found it], [
 #include <limits.h>
 #if HAVE_STDINT_H
 #include <stdint.h>
@@ -4426,62 +6982,122 @@ m4trace:gnulib/m4/size_max.m4:9: -1- AC_
 #ifdef SIZE_MAX
 Found it
 #endif
-], result=yes)
-  if test -z "$result"; then
-    dnl Define it ourselves. Here we assume that the type 'size_t' is not wider
-    dnl than the type 'unsigned long'.
-    dnl The _AC_COMPUTE_INT macro works up to LONG_MAX, since it uses 'expr',
-    dnl which is guaranteed to work from LONG_MIN to LONG_MAX.
-    _AC_COMPUTE_INT([~(size_t)0 / 10], res_hi,
-      [#include <stddef.h>], result=?)
-    _AC_COMPUTE_INT([~(size_t)0 % 10], res_lo,
-      [#include <stddef.h>], result=?)
-    _AC_COMPUTE_INT([sizeof (size_t) <= sizeof (unsigned int)], fits_in_uint,
-      [#include <stddef.h>], result=?)
-    if test "$fits_in_uint" = 1; then
-      dnl Even though SIZE_MAX fits in an unsigned int, it must be of type
-      dnl 'unsigned long' if the type 'size_t' is the same as 'unsigned long'.
-      AC_TRY_COMPILE([#include <stddef.h>
-        extern size_t foo;
-        extern unsigned long foo;
-        ], [], fits_in_uint=0)
-    fi
-    if test -z "$result"; then
-      if test "$fits_in_uint" = 1; then
-        result="$res_hi$res_lo"U
+], gl_cv_size_max=yes)
+    if test -z "$gl_cv_size_max"; then
+      dnl Define it ourselves. Here we assume that the type 'size_t' is not wider
+      dnl than the type 'unsigned long'. Try hard to find a definition that can
+      dnl be used in a preprocessor #if, i.e. doesn't contain a cast.
+      AC_COMPUTE_INT([size_t_bits_minus_1], [sizeof (size_t) * CHAR_BIT - 1],
+        [#include <stddef.h>
+#include <limits.h>], size_t_bits_minus_1=)
+      AC_COMPUTE_INT([fits_in_uint], [sizeof (size_t) <= sizeof (unsigned int)],
+        [#include <stddef.h>], fits_in_uint=)
+      if test -n "$size_t_bits_minus_1" && test -n "$fits_in_uint"; then
+        if test $fits_in_uint = 1; then
+          dnl Even though SIZE_MAX fits in an unsigned int, it must be of type
+          dnl 'unsigned long' if the type 'size_t' is the same as 'unsigned long'.
+          AC_TRY_COMPILE([#include <stddef.h>
+            extern size_t foo;
+            extern unsigned long foo;
+            ], [], fits_in_uint=0)
+        fi
+        dnl We cannot use 'expr' to simplify this expression, because 'expr'
+        dnl works only with 'long' integers in the host environment, while we
+        dnl might be cross-compiling from a 32-bit platform to a 64-bit platform.
+        if test $fits_in_uint = 1; then
+          gl_cv_size_max="(((1U << $size_t_bits_minus_1) - 1) * 2 + 1)"
+        else
+          gl_cv_size_max="(((1UL << $size_t_bits_minus_1) - 1) * 2 + 1)"
+        fi
       else
-        result="$res_hi$res_lo"UL
+        dnl Shouldn't happen, but who knows...
+        gl_cv_size_max='((size_t)~(size_t)0)'
       fi
-    else
-      dnl Shouldn't happen, but who knows...
-      result='~(size_t)0'
     fi
-  fi
-  AC_MSG_RESULT([$result])
-  if test "$result" != yes; then
-    AC_DEFINE_UNQUOTED([SIZE_MAX], [$result],
+  ])
+  AC_MSG_RESULT([$gl_cv_size_max])
+  if test "$gl_cv_size_max" != yes; then
+    AC_DEFINE_UNQUOTED([SIZE_MAX], [$gl_cv_size_max],
       [Define as the maximum value of type 'size_t', if the system doesn't define it.])
   fi
 ])
 m4trace:gnulib/m4/ssize_t.m4:10: -1- AC_DEFUN([gt_TYPE_SSIZE_T], [
-  AC_CACHE_CHECK([for ssize_t], gt_cv_ssize_t,
+  AC_CACHE_CHECK([for ssize_t], [gt_cv_ssize_t],
     [AC_TRY_COMPILE([#include <sys/types.h>],
-       [int x = sizeof (ssize_t *) + sizeof (ssize_t);],
-       gt_cv_ssize_t=yes, gt_cv_ssize_t=no)])
+       [int x = sizeof (ssize_t *) + sizeof (ssize_t);
+        return !x;],
+       [gt_cv_ssize_t=yes], [gt_cv_ssize_t=no])])
   if test $gt_cv_ssize_t = no; then
-    AC_DEFINE(ssize_t, int,
+    AC_DEFINE([ssize_t], [int],
               [Define as a signed type of the same size as size_t.])
   fi
 ])
-m4trace:gnulib/m4/stat.m4:19: -1- AC_DEFUN([gl_FUNC_STAT], [
-  AC_FUNC_STAT
-  dnl Note: AC_FUNC_STAT does AC_LIBOBJ(stat).
-  if test $ac_cv_func_stat_empty_string_bug = yes; then
-    gl_PREREQ_STAT
+m4trace:gnulib/m4/st_dm_mode.m4:10: -1- AC_DEFUN([AC_STRUCT_ST_DM_MODE], [AC_CACHE_CHECK([for st_dm_mode in struct stat], ac_cv_struct_st_dm_mode,
+   [AC_TRY_COMPILE([#include <sys/types.h>
+#include <sys/stat.h>], [struct stat s; s.st_dm_mode;],
+     ac_cv_struct_st_dm_mode=yes,
+     ac_cv_struct_st_dm_mode=no)])
+
+  if test $ac_cv_struct_st_dm_mode = yes; then
+    AC_DEFINE(HAVE_ST_DM_MODE, 1,
+	      [Define if struct stat has an st_dm_mode member. ])
   fi
+ 
 ])
-m4trace:gnulib/m4/stat.m4:29: -1- AC_DEFUN([gl_PREREQ_STAT], [
-  :
+m4trace:gnulib/m4/stat-time.m4:20: -1- AC_DEFUN([gl_STAT_TIME], [
+  AC_REQUIRE([AC_C_INLINE])
+  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
+  AC_CHECK_HEADERS_ONCE([sys/time.h])
+
+  AC_CHECK_MEMBERS([struct stat.st_atim.tv_nsec],
+    [AC_CACHE_CHECK([whether struct stat.st_atim is of type struct timespec],
+       [ac_cv_typeof_struct_stat_st_atim_is_struct_timespec],
+       [AC_TRY_COMPILE(
+	  [
+	    #include <sys/types.h>
+	    #include <sys/stat.h>
+	    #if HAVE_SYS_TIME_H
+	    # include <sys/time.h>
+	    #endif
+	    #include <time.h>
+	    struct timespec ts;
+	    struct stat st;
+	  ],
+	  [
+	    st.st_atim = ts;
+	  ],
+	  [ac_cv_typeof_struct_stat_st_atim_is_struct_timespec=yes],
+	  [ac_cv_typeof_struct_stat_st_atim_is_struct_timespec=no])])
+     if test $ac_cv_typeof_struct_stat_st_atim_is_struct_timespec = yes; then
+       AC_DEFINE([TYPEOF_STRUCT_STAT_ST_ATIM_IS_STRUCT_TIMESPEC], 1,
+	 [Define to 1 if the type of the st_atim member of a struct stat is
+	  struct timespec.])
+     fi],
+    [AC_CHECK_MEMBERS([struct stat.st_atimespec.tv_nsec], [],
+       [AC_CHECK_MEMBERS([struct stat.st_atimensec], [],
+	  [AC_CHECK_MEMBERS([struct stat.st_atim.st__tim.tv_nsec], [], [],
+	     [#include <sys/types.h>
+	      #include <sys/stat.h>])],
+	  [#include <sys/types.h>
+	   #include <sys/stat.h>])],
+       [#include <sys/types.h>
+	#include <sys/stat.h>])],
+    [#include <sys/types.h>
+     #include <sys/stat.h>])
+])
+m4trace:gnulib/m4/stat-time.m4:71: -1- AC_DEFUN([gl_STAT_BIRTHTIME], [
+  AC_REQUIRE([AC_C_INLINE])
+  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
+  AC_CHECK_HEADERS_ONCE([sys/time.h])
+  AC_CHECK_MEMBERS([struct stat.st_birthtimespec.tv_nsec], [],
+    [AC_CHECK_MEMBERS([struct stat.st_birthtimensec], [],
+      [AC_CHECK_MEMBERS([struct stat.st_birthtim.tv_nsec], [], [],
+	 [#include <sys/types.h>
+	  #include <sys/stat.h>])],
+       [#include <sys/types.h>
+	#include <sys/stat.h>])],
+    [#include <sys/types.h>
+     #include <sys/stat.h>])
 ])
 m4trace:gnulib/m4/stdbool.m4:10: -1- AC_DEFUN([AM_STDBOOL_H], [
   AC_REQUIRE([AC_HEADER_STDBOOL])
@@ -4502,7 +7118,8 @@ m4trace:gnulib/m4/stdbool.m4:10: -1- AC_
   fi
   AC_SUBST([HAVE__BOOL])
 ])
-m4trace:gnulib/m4/stdbool.m4:34: -1- AC_DEFUN([AC_HEADER_STDBOOL], [AC_CACHE_CHECK([for stdbool.h that conforms to C99],
+m4trace:gnulib/m4/stdbool.m4:32: -1- AC_DEFUN([gl_STDBOOL_H], [AM_STDBOOL_H])
+m4trace:gnulib/m4/stdbool.m4:37: -1- AC_DEFUN([AC_HEADER_STDBOOL], [AC_CACHE_CHECK([for stdbool.h that conforms to C99],
      [ac_cv_header_stdbool_h],
      [AC_TRY_COMPILE(
 	[
@@ -4531,19 +7148,48 @@ m4trace:gnulib/m4/stdbool.m4:34: -1- AC_
 	  char a[true == 1 ? 1 : -1];
 	  char b[false == 0 ? 1 : -1];
 	  char c[__bool_true_false_are_defined == 1 ? 1 : -1];
-	  char d[(bool) -0.5 == true ? 1 : -1];
+	  char d[(bool) 0.5 == true ? 1 : -1];
 	  bool e = &s;
-	  char f[(_Bool) -0.0 == false ? 1 : -1];
+	  char f[(_Bool) 0.0 == false ? 1 : -1];
 	  char g[true];
 	  char h[sizeof (_Bool)];
 	  char i[sizeof s.t];
 	  enum { j = false, k = true, l = false * true, m = true * 256 };
 	  _Bool n[m];
 	  char o[sizeof n == m * sizeof n[0] ? 1 : -1];
+	  char p[-1 - (_Bool) 0 < 0 && -1 - (bool) 0 < 0 ? 1 : -1];
+	  #if defined __xlc__ || defined __GNUC__
+	   /* Catch a bug in IBM AIX xlc compiler version 6.0.0.0
+	      reported by James Lemley on 2005-10-05; see
+	      http://lists.gnu.org/archive/html/bug-coreutils/2005-10/msg00086.html
+	      This test is not quite right, since xlc is allowed to
+	      reject this program, as the initializer for xlcbug is
+	      not one of the forms that C requires support for.
+	      However, doing the test right would require a run-time
+	      test, and that would make cross-compilation harder.
+	      Let us hope that IBM fixes the xlc bug, and also adds
+	      support for this kind of constant expression.  In the
+	      meantime, this test will reject xlc, which is OK, since
+	      our stdbool.h substitute should suffice.  We also test
+	      this with GCC, where it should work, to detect more
+	      quickly whether someone messes up the test in the
+	      future.  */
+	   char digs[] = "0123456789";
+	   int xlcbug = 1 / (&(digs + 5)[-2 + (bool) 1] == &digs[4] ? 1 : -1);
+	  #endif
+	  /* Catch a bug in an HP-UX C compiler.  See
+	     http://gcc.gnu.org/ml/gcc-patches/2003-12/msg02303.html
+	     http://lists.gnu.org/archive/html/bug-coreutils/2005-11/msg00161.html
+	   */
+	  _Bool q = true;
+	  _Bool *pq = &q;
 	],
 	[
-	  return (!a + !b + !c + !d + !e + !f + !g + !h + !i + !j + !k + !l
-		  + !m + !n + !o);
+	  *pq |= q;
+	  *pq |= ! q;
+	  /* Refer to every declared value, to avoid compiler optimizations.  */
+	  return (!a + !b + !c + !d + !e + !f + !g + !h + !i + !!j + !k + !!l
+		  + !m + !n + !o + !p + !q + !pq);
 	],
 	[ac_cv_header_stdbool_h=yes],
 	[ac_cv_header_stdbool_h=no])])
@@ -4551,12 +7197,338 @@ m4trace:gnulib/m4/stdbool.m4:34: -1- AC_
    if test $ac_cv_header_stdbool_h = yes; then
      AC_DEFINE(HAVE_STDBOOL_H, 1, [Define to 1 if stdbool.h conforms to C99.])
    fi])
+m4trace:gnulib/m4/stdint.m4:10: -1- AC_DEFUN([gl_STDINT_H], [
+  AC_PREREQ(2.59)dnl
+
+  dnl Check for long long int and unsigned long long int.
+  AC_REQUIRE([AC_TYPE_LONG_LONG_INT])
+  if test $ac_cv_type_long_long_int = yes; then
+    HAVE_LONG_LONG_INT=1
+  else
+    HAVE_LONG_LONG_INT=0
+  fi
+  AC_SUBST([HAVE_LONG_LONG_INT])
+  AC_REQUIRE([AC_TYPE_UNSIGNED_LONG_LONG_INT])
+  if test $ac_cv_type_unsigned_long_long_int = yes; then
+    HAVE_UNSIGNED_LONG_LONG_INT=1
+  else
+    HAVE_UNSIGNED_LONG_LONG_INT=0
+  fi
+  AC_SUBST([HAVE_UNSIGNED_LONG_LONG_INT])
+
+  dnl Check for <inttypes.h>.
+  dnl AC_INCLUDES_DEFAULT defines $ac_cv_header_inttypes_h.
+  if test $ac_cv_header_inttypes_h = yes; then
+    HAVE_INTTYPES_H=1
+  else
+    HAVE_INTTYPES_H=0
+  fi
+  AC_SUBST([HAVE_INTTYPES_H])
+
+  dnl Check for <sys/types.h>.
+  dnl AC_INCLUDES_DEFAULT defines $ac_cv_header_sys_types_h.
+  if test $ac_cv_header_sys_types_h = yes; then
+    HAVE_SYS_TYPES_H=1
+  else
+    HAVE_SYS_TYPES_H=0
+  fi
+  AC_SUBST([HAVE_SYS_TYPES_H])
+
+  dnl AC_INCLUDES_DEFAULT defines $ac_cv_header_stdint_h.
+  if test $ac_cv_header_stdint_h = yes; then
+    gl_ABSOLUTE_HEADER([stdint.h])
+    ABSOLUTE_STDINT_H=\"$gl_cv_absolute_stdint_h\"
+    HAVE_STDINT_H=1
+  else
+    ABSOLUTE_STDINT_H=\"no/such/file/stdint.h\"
+    HAVE_STDINT_H=0
+  fi
+  AC_SUBST([ABSOLUTE_STDINT_H])
+  AC_SUBST([HAVE_STDINT_H])
+
+  dnl Now see whether we need a substitute <stdint.h>.  Use
+  dnl ABSOLUTE_STDINT_H, not <stdint.h>, so that it also works during
+  dnl a "config.status --recheck" if a stdint.h has been
+  dnl created in the build directory.
+  if test $ac_cv_header_stdint_h = yes; then
+    AC_CACHE_CHECK([whether stdint.h conforms to C99],
+      [gl_cv_header_working_stdint_h],
+      [gl_cv_header_working_stdint_h=no
+       AC_COMPILE_IFELSE([
+         AC_LANG_PROGRAM([[
+#include <stddef.h>
+#define __STDC_LIMIT_MACROS 1 /* to make it work also in C++ mode */
+#define __STDC_CONSTANT_MACROS 1 /* to make it work also in C++ mode */
+#include ABSOLUTE_STDINT_H
+#ifdef INT8_MAX
+int8_t a1 = INT8_MAX;
+int8_t a1min = INT8_MIN;
+#endif
+#ifdef INT16_MAX
+int16_t a2 = INT16_MAX;
+int16_t a2min = INT16_MIN;
+#endif
+#ifdef INT32_MAX
+int32_t a3 = INT32_MAX;
+int32_t a3min = INT32_MIN;
+#endif
+#ifdef INT64_MAX
+int64_t a4 = INT64_MAX;
+int64_t a4min = INT64_MIN;
+#endif
+#ifdef UINT8_MAX
+uint8_t b1 = UINT8_MAX;
+#else
+typedef int b1[(unsigned char) -1 != 255 ? 1 : -1];
+#endif
+#ifdef UINT16_MAX
+uint16_t b2 = UINT16_MAX;
+#endif
+#ifdef UINT32_MAX
+uint32_t b3 = UINT32_MAX;
+#endif
+#ifdef UINT64_MAX
+uint64_t b4 = UINT64_MAX;
+#endif
+int_least8_t c1 = INT8_C (0x7f);
+int_least8_t c1max = INT_LEAST8_MAX;
+int_least8_t c1min = INT_LEAST8_MIN;
+int_least16_t c2 = INT16_C (0x7fff);
+int_least16_t c2max = INT_LEAST16_MAX;
+int_least16_t c2min = INT_LEAST16_MIN;
+int_least32_t c3 = INT32_C (0x7fffffff);
+int_least32_t c3max = INT_LEAST32_MAX;
+int_least32_t c3min = INT_LEAST32_MIN;
+int_least64_t c4 = INT64_C (0x7fffffffffffffff);
+int_least64_t c4max = INT_LEAST64_MAX;
+int_least64_t c4min = INT_LEAST64_MIN;
+uint_least8_t d1 = UINT8_C (0xff);
+uint_least8_t d1max = UINT_LEAST8_MAX;
+uint_least16_t d2 = UINT16_C (0xffff);
+uint_least16_t d2max = UINT_LEAST16_MAX;
+uint_least32_t d3 = UINT32_C (0xffffffff);
+uint_least32_t d3max = UINT_LEAST32_MAX;
+uint_least64_t d4 = UINT64_C (0xffffffffffffffff);
+uint_least64_t d4max = UINT_LEAST64_MAX;
+int_fast8_t e1 = INT_FAST8_MAX;
+int_fast8_t e1min = INT_FAST8_MIN;
+int_fast16_t e2 = INT_FAST16_MAX;
+int_fast16_t e2min = INT_FAST16_MIN;
+int_fast32_t e3 = INT_FAST32_MAX;
+int_fast32_t e3min = INT_FAST32_MIN;
+int_fast64_t e4 = INT_FAST64_MAX;
+int_fast64_t e4min = INT_FAST64_MIN;
+uint_fast8_t f1 = UINT_FAST8_MAX;
+uint_fast16_t f2 = UINT_FAST16_MAX;
+uint_fast32_t f3 = UINT_FAST32_MAX;
+uint_fast64_t f4 = UINT_FAST64_MAX;
+#ifdef INTPTR_MAX
+intptr_t g = INTPTR_MAX;
+intptr_t gmin = INTPTR_MIN;
+#endif
+#ifdef UINTPTR_MAX
+uintptr_t h = UINTPTR_MAX;
+#endif
+intmax_t i = INTMAX_MAX;
+uintmax_t j = UINTMAX_MAX;
+struct s {
+  int check_PTRDIFF: PTRDIFF_MIN < 0 && 0 < PTRDIFF_MAX ? 1 : -1;
+  int check_SIG_ATOMIC: SIG_ATOMIC_MIN <= 0 && 0 < SIG_ATOMIC_MAX ? 1 : -1;
+  int check_SIZE: 0 < SIZE_MAX ? 1 : -1;
+  int check_WCHAR: WCHAR_MIN <= 0 && 0 < WCHAR_MAX ? 1 : -1;
+  int check_WINT: WINT_MIN <= 0 && 0 < WINT_MAX ? 1 : -1;
+
+  /* Detect bugs in glibc 2.4 and Solaris 10 stdint.h, among others.  */
+  int check_UINT8_C:
+        (-1 < UINT8_C (0)) == (-1 < (uint_least8_t) 0) ? 1 : -1;
+  int check_UINT16_C:
+        (-1 < UINT16_C (0)) == (-1 < (uint_least16_t) 0) ? 1 : -1;
+
+  /* Detect bugs in OpenBSD 3.9 stdint.h.  */
+#ifdef UINT8_MAX
+  int check_uint8: (uint8_t) -1 == UINT8_MAX ? 1 : -1;
+#endif
+#ifdef UINT16_MAX
+  int check_uint16: (uint16_t) -1 == UINT16_MAX ? 1 : -1;
+#endif
+#ifdef UINT32_MAX
+  int check_uint32: (uint32_t) -1 == UINT32_MAX ? 1 : -1;
+#endif
+#ifdef UINT64_MAX
+  int check_uint64: (uint64_t) -1 == UINT64_MAX ? 1 : -1;
+#endif
+  int check_uint_least8: (uint_least8_t) -1 == UINT_LEAST8_MAX ? 1 : -1;
+  int check_uint_least16: (uint_least16_t) -1 == UINT_LEAST16_MAX ? 1 : -1;
+  int check_uint_least32: (uint_least32_t) -1 == UINT_LEAST32_MAX ? 1 : -1;
+  int check_uint_least64: (uint_least64_t) -1 == UINT_LEAST64_MAX ? 1 : -1;
+  int check_uint_fast8: (uint_fast8_t) -1 == UINT_FAST8_MAX ? 1 : -1;
+  int check_uint_fast16: (uint_fast16_t) -1 == UINT_FAST16_MAX ? 1 : -1;
+  int check_uint_fast32: (uint_fast32_t) -1 == UINT_FAST32_MAX ? 1 : -1;
+  int check_uint_fast64: (uint_fast64_t) -1 == UINT_FAST64_MAX ? 1 : -1;
+  int check_uintptr: (uintptr_t) -1 == UINTPTR_MAX ? 1 : -1;
+  int check_uintmax: (uintmax_t) -1 == UINTMAX_MAX ? 1 : -1;
+  int check_size: (size_t) -1 == SIZE_MAX ? 1 : -1;
+};
+         ]])],
+         [gl_cv_header_working_stdint_h=yes])])
+  fi
+  if test "$gl_cv_header_working_stdint_h" = yes; then
+    STDINT_H=
+  else
+    dnl Check for <sys/inttypes.h>, and for
+    dnl <sys/bitypes.h> (used in Linux libc4 >= 4.6.7 and libc5).
+    AC_CHECK_HEADERS([sys/inttypes.h sys/bitypes.h])
+    if test $ac_cv_header_sys_inttypes_h = yes; then
+      HAVE_SYS_INTTYPES_H=1
+    else
+      HAVE_SYS_INTTYPES_H=0
+    fi
+    AC_SUBST([HAVE_SYS_INTTYPES_H])
+    if test $ac_cv_header_sys_bitypes_h = yes; then
+      HAVE_SYS_BITYPES_H=1
+    else
+      HAVE_SYS_BITYPES_H=0
+    fi
+    AC_SUBST([HAVE_SYS_BITYPES_H])
+
+    gl_STDINT_TYPE_PROPERTIES
+    STDINT_H=stdint.h
+  fi
+  AC_SUBST(STDINT_H)
+])
+m4trace:gnulib/m4/stdint.m4:213: -1- AC_DEFUN([gl_STDINT_BITSIZEOF], [
+  dnl Use a shell loop, to avoid bloating configure, and
+  dnl - extra AH_TEMPLATE calls, so that autoheader knows what to put into
+  dnl   config.h.in,
+  dnl - extra AC_SUBST calls, so that the right substitutions are made.
+  AC_FOREACH([gltype], [$1],
+    [AH_TEMPLATE([BITSIZEOF_]translit(gltype,[abcdefghijklmnopqrstuvwxyz ],[ABCDEFGHIJKLMNOPQRSTUVWXYZ_]),
+       [Define to the number of bits in type ']gltype['.])])
+  for gltype in $1 ; do
+    AC_CACHE_CHECK([for bit size of $gltype], [gl_cv_bitsizeof_${gltype}],
+      [AC_COMPUTE_INT([result], [sizeof ($gltype) * CHAR_BIT],
+         [$2
+#include <limits.h>], [result=unknown])
+       eval gl_cv_bitsizeof_${gltype}=\$result
+      ])
+    eval result=\$gl_cv_bitsizeof_${gltype}
+    if test $result = unknown; then
+      dnl Use a nonempty default, because some compilers, such as IRIX 5 cc,
+      dnl do a syntax check even on unused #if conditions and give an error
+      dnl on valid C code like this:
+      dnl   #if 0
+      dnl   # if  > 32
+      dnl   # endif
+      dnl   #endif
+      result=0
+    fi
+    GLTYPE=`echo "$gltype" | tr 'abcdefghijklmnopqrstuvwxyz ' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ_'`
+    AC_DEFINE_UNQUOTED([BITSIZEOF_${GLTYPE}], [$result])
+    eval BITSIZEOF_${GLTYPE}=\$result
+  done
+  AC_FOREACH([gltype], [$1],
+    [AC_SUBST([BITSIZEOF_]translit(gltype,[abcdefghijklmnopqrstuvwxyz ],[ABCDEFGHIJKLMNOPQRSTUVWXYZ_]))])
+])
+m4trace:gnulib/m4/stdint.m4:251: -1- AC_DEFUN([gl_CHECK_TYPES_SIGNED], [
+  dnl Use a shell loop, to avoid bloating configure, and
+  dnl - extra AH_TEMPLATE calls, so that autoheader knows what to put into
+  dnl   config.h.in,
+  dnl - extra AC_SUBST calls, so that the right substitutions are made.
+  AC_FOREACH([gltype], [$1],
+    [AH_TEMPLATE([HAVE_SIGNED_]translit(gltype,[abcdefghijklmnopqrstuvwxyz ],[ABCDEFGHIJKLMNOPQRSTUVWXYZ_]),
+       [Define to 1 if ']gltype[' is a signed integer type.])])
+  for gltype in $1 ; do
+    AC_CACHE_CHECK([whether $gltype is signed], [gl_cv_type_${gltype}_signed],
+      [AC_COMPILE_IFELSE(
+         [AC_LANG_PROGRAM([$2[
+            int verify[2 * (($gltype) -1 < ($gltype) 0) - 1];]])],
+         result=yes, result=no)
+       eval gl_cv_type_${gltype}_signed=\$result
+      ])
+    eval result=\$gl_cv_type_${gltype}_signed
+    GLTYPE=`echo $gltype | tr 'abcdefghijklmnopqrstuvwxyz ' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ_'`
+    if test "$result" = yes; then
+      AC_DEFINE_UNQUOTED([HAVE_SIGNED_${GLTYPE}], 1)
+      eval HAVE_SIGNED_${GLTYPE}=1
+    else
+      eval HAVE_SIGNED_${GLTYPE}=0
+    fi
+  done
+  AC_FOREACH([gltype], [$1],
+    [AC_SUBST([HAVE_SIGNED_]translit(gltype,[abcdefghijklmnopqrstuvwxyz ],[ABCDEFGHIJKLMNOPQRSTUVWXYZ_]))])
+])
+m4trace:gnulib/m4/stdint.m4:284: -1- AC_DEFUN([gl_INTEGER_TYPE_SUFFIX], [
+  dnl Use a shell loop, to avoid bloating configure, and
+  dnl - extra AH_TEMPLATE calls, so that autoheader knows what to put into
+  dnl   config.h.in,
+  dnl - extra AC_SUBST calls, so that the right substitutions are made.
+  AC_FOREACH([gltype], [$1],
+    [AH_TEMPLATE(translit(gltype,[abcdefghijklmnopqrstuvwxyz ],[ABCDEFGHIJKLMNOPQRSTUVWXYZ_])[_SUFFIX],
+       [Define to l, ll, u, ul, ull, etc., as suitable for
+        constants of type ']gltype['.])])
+  for gltype in $1 ; do
+    AC_CACHE_CHECK([for $gltype integer literal suffix],
+      [gl_cv_type_${gltype}_suffix],
+      [eval gl_cv_type_${gltype}_suffix=no
+       eval result=\$gl_cv_type_${gltype}_signed
+       if test "$result" = yes; then
+         glsufu=
+       else
+         glsufu=u
+       fi
+       for glsuf in "$glsufu" ${glsufu}l ${glsufu}ll ${glsufu}i64; do
+         case $glsuf in
+           '')  gltype1='int';;
+           l)	gltype1='long int';;
+           ll)	gltype1='long long int';;
+           i64)	gltype1='__int64';;
+           u)	gltype1='unsigned int';;
+           ul)	gltype1='unsigned long int';;
+           ull)	gltype1='unsigned long long int';;
+           ui64)gltype1='unsigned __int64';;
+         esac
+         AC_COMPILE_IFELSE(
+           [AC_LANG_PROGRAM([$2
+              extern $gltype foo;
+              extern $gltype1 foo;])],
+           [eval gl_cv_type_${gltype}_suffix=\$glsuf])
+         eval result=\$gl_cv_type_${gltype}_suffix
+         test "$result" != no && break
+       done])
+    GLTYPE=`echo $gltype | tr 'abcdefghijklmnopqrstuvwxyz ' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ_'`
+    eval result=\$gl_cv_type_${gltype}_suffix
+    test "$result" = no && result=
+    eval ${GLTYPE}_SUFFIX=\$result
+    AC_DEFINE_UNQUOTED([${GLTYPE}_SUFFIX], $result)
+  done
+  AC_FOREACH([gltype], [$1],
+    [AC_SUBST(translit(gltype,[abcdefghijklmnopqrstuvwxyz ],[ABCDEFGHIJKLMNOPQRSTUVWXYZ_])[_SUFFIX])])
+])
+m4trace:gnulib/m4/stdint.m4:334: -1- AC_DEFUN([gl_STDINT_INCLUDES], [[
+  /* BSD/OS 4.0.1 has a bug: <stddef.h>, <stdio.h> and <time.h> must be
+     included before <wchar.h>.  */
+  #include <stddef.h>
+  #include <signal.h>
+  #include <stdio.h>
+  #include <time.h>
+  #include <wchar.h>
+]])
+m4trace:gnulib/m4/stdint.m4:348: -1- AC_DEFUN([gl_STDINT_TYPE_PROPERTIES], [
+  gl_STDINT_BITSIZEOF([ptrdiff_t sig_atomic_t size_t wchar_t wint_t],
+    [gl_STDINT_INCLUDES])
+  gl_CHECK_TYPES_SIGNED([sig_atomic_t wchar_t wint_t],
+    [gl_STDINT_INCLUDES])
+  gl_cv_type_ptrdiff_t_signed=yes
+  gl_cv_type_size_t_signed=no
+  gl_INTEGER_TYPE_SUFFIX([ptrdiff_t sig_atomic_t size_t wchar_t wint_t],
+    [gl_STDINT_INCLUDES])
+])
 m4trace:gnulib/m4/stdint_h.m4:12: -1- AC_DEFUN([gl_AC_HEADER_STDINT_H], [
   AC_CACHE_CHECK([for stdint.h], gl_cv_header_stdint_h,
   [AC_TRY_COMPILE(
     [#include <sys/types.h>
 #include <stdint.h>],
-    [uintmax_t i = (uintmax_t) -1;],
+    [uintmax_t i = (uintmax_t) -1; return !i;],
     gl_cv_header_stdint_h=yes,
     gl_cv_header_stdint_h=no)])
   if test $gl_cv_header_stdint_h = yes; then
@@ -4565,86 +7537,202 @@ m4trace:gnulib/m4/stdint_h.m4:12: -1- AC
        and declares uintmax_t. ])
   fi
 ])
+m4trace:gnulib/m4/stdio-safer.m4:7: -1- AC_DEFUN([gl_FOPEN_SAFER], [
+  AC_LIBOBJ([fopen-safer])
+])
+m4trace:gnulib/m4/stdio-safer.m4:12: -1- AC_DEFUN([gl_TMPFILE_SAFER], [
+  AC_LIBOBJ([tmpfile-safer])
+])
+m4trace:gnulib/m4/stdlib_h.m4:7: -1- AC_DEFUN([gl_STDLIB_H], [
+  AC_REQUIRE([gl_STDLIB_H_DEFAULTS])
+  gl_ABSOLUTE_HEADER([stdlib.h])
+  ABSOLUTE_STDLIB_H=\"$gl_cv_absolute_stdlib_h\"
+  AC_SUBST([ABSOLUTE_STDLIB_H])
+])
+m4trace:gnulib/m4/stdlib_h.m4:15: -1- AC_DEFUN([gl_STDLIB_MODULE_INDICATOR], [
+  dnl Use AC_REQUIRE here, so that the default settings are expanded once only.
+  AC_REQUIRE([gl_STDLIB_H_DEFAULTS])
+  GNULIB_[]m4_translit([$1],[abcdefghijklmnopqrstuvwxyz./-],[ABCDEFGHIJKLMNOPQRSTUVWXYZ___])=1
+])
+m4trace:gnulib/m4/stdlib_h.m4:22: -1- AC_DEFUN([gl_STDLIB_H_DEFAULTS], [
+  GNULIB_GETSUBOPT=0; AC_SUBST([GNULIB_GETSUBOPT])
+  GNULIB_MKDTEMP=0;   AC_SUBST([GNULIB_MKDTEMP])
+  GNULIB_MKSTEMP=0;   AC_SUBST([GNULIB_MKSTEMP])
+  dnl Assume proper GNU behavior unless another module says otherwise.
+  HAVE_GETSUBOPT=1;   AC_SUBST([HAVE_GETSUBOPT])
+  HAVE_MKDTEMP=1;     AC_SUBST([HAVE_MKDTEMP])
+  REPLACE_MKSTEMP=0;  AC_SUBST([REPLACE_MKSTEMP])
+])
 m4trace:gnulib/m4/stpcpy.m4:7: -1- AC_DEFUN([gl_FUNC_STPCPY], [
   dnl Persuade glibc <string.h> to declare stpcpy().
   AC_REQUIRE([AC_GNU_SOURCE])
 
+  AC_REQUIRE([gl_HEADER_STRING_H_DEFAULTS])
   AC_REPLACE_FUNCS(stpcpy)
   if test $ac_cv_func_stpcpy = no; then
+    HAVE_STPCPY=0
     gl_PREREQ_STPCPY
   fi
 ])
-m4trace:gnulib/m4/stpcpy.m4:19: -1- AC_DEFUN([gl_PREREQ_STPCPY], [
+m4trace:gnulib/m4/stpcpy.m4:21: -1- AC_DEFUN([gl_PREREQ_STPCPY], [
   :
 ])
-m4trace:gnulib/m4/strdup.m4:7: -1- AC_DEFUN([gl_FUNC_STRDUP], [
+m4trace:gnulib/m4/strdup.m4:10: -1- AC_DEFUN([gl_FUNC_STRDUP], [
+  AC_REQUIRE([gl_HEADER_STRING_H_DEFAULTS])
   AC_REPLACE_FUNCS(strdup)
   AC_CHECK_DECLS_ONCE(strdup)
+  if test $ac_cv_have_decl_strdup = no; then
+    HAVE_DECL_STRDUP=0
+  fi
   gl_PREREQ_STRDUP
 ])
-m4trace:gnulib/m4/strdup.m4:15: -1- AC_DEFUN([gl_PREREQ_STRDUP], [:])
-m4trace:gnulib/m4/strerror_r.m4:15: -1- AC_DEFUN([AC_FUNC_STRERROR_R], [AC_CHECK_DECLS([strerror_r])
-AC_CHECK_FUNCS([strerror_r])
-AC_CACHE_CHECK([whether strerror_r returns char *],
-               ac_cv_func_strerror_r_char_p,
-   [
-    ac_cv_func_strerror_r_char_p=no
-    if test $ac_cv_have_decl_strerror_r = yes; then
-      AC_COMPILE_IFELSE([AC_LANG_PROGRAM([AC_INCLUDES_DEFAULT],
-	[[
-	  char buf[100];
-	  char x = *strerror_r (0, buf, sizeof buf);
-	  char *p = strerror_r (0, buf, sizeof buf);
-	]])],
-			ac_cv_func_strerror_r_char_p=yes)
-    else
-      # strerror_r is not declared.  Choose between
-      # systems that have relatively inaccessible declarations for the
-      # function.  BeOS and DEC UNIX 4.0 fall in this category, but the
-      # former has a strerror_r that returns char*, while the latter
-      # has a strerror_r that returns `int'.
-      # This test should segfault on the DEC system.
-      AC_RUN_IFELSE([AC_LANG_PROGRAM([AC_INCLUDES_DEFAULT
-	extern char *strerror_r ();],
-	[[char buf[100];
-	  char x = *strerror_r (0, buf, sizeof buf);
-	  exit (!isalpha (x));]])],
-                    ac_cv_func_strerror_r_char_p=yes, , :)
-    fi
-  ])
-if test $ac_cv_func_strerror_r_char_p = yes; then
-  AC_DEFINE([STRERROR_R_CHAR_P], 1,
-	    [Define to 1 if strerror_r returns char *.])
-fi
-])
-m4trace:gnulib/m4/strftime.m4:12: -1- AC_DEFUN([gl_FUNC_GNU_STRFTIME], [AC_REQUIRE([gl_FUNC_STRFTIME])dnl
- AC_REQUIRE([AC_C_CONST])dnl
+m4trace:gnulib/m4/strdup.m4:22: -1- AC_DEFUN([gl_PREREQ_STRDUP], [:])
+m4trace:gnulib/m4/strftime.m4:12: -1- AC_DEFUN([gl_FUNC_GNU_STRFTIME], [
+  gl_FUNC_STRFTIME
 ])
 m4trace:gnulib/m4/strftime.m4:18: -1- AC_DEFUN([gl_FUNC_STRFTIME], [
- # strftime.c uses the underyling system strftime if it exists.
- AC_REQUIRE([AC_FUNC_STRFTIME])
+ AC_LIBOBJ([strftime])
 
  # This defines (or not) HAVE_TZNAME and HAVE_TM_ZONE.
  AC_REQUIRE([AC_STRUCT_TIMEZONE])
 
- AC_REQUIRE([AC_HEADER_TIME])
  AC_REQUIRE([AC_TYPE_MBSTATE_T])
  AC_REQUIRE([gl_TM_GMTOFF])
- AC_REQUIRE([gl_FUNC_TZSET_CLOBBER])
 
  AC_CHECK_FUNCS_ONCE(mblen mbrlen mempcpy tzset)
- AC_CHECK_HEADERS_ONCE(sys/time.h wchar.h)
+ AC_CHECK_HEADERS_ONCE(wchar.h)
 
  AC_DEFINE([my_strftime], [nstrftime],
    [Define to the name of the strftime replacement function.])
 ])
-m4trace:gnulib/m4/strstr.m4:7: -1- AC_DEFUN([gl_FUNC_STRSTR], [
-  AC_REPLACE_FUNCS(strstr)
-  if test $ac_cv_func_strstr = no; then
-    gl_PREREQ_STRSTR
+m4trace:gnulib/m4/string_h.m4:10: -1- AC_DEFUN([gl_HEADER_STRING_H], [
+  dnl Use AC_REQUIRE here, so that the default behavior below is expanded
+  dnl once only, before all statements that occur in other macros.
+  AC_REQUIRE([gl_HEADER_STRING_H_BODY])
+])
+m4trace:gnulib/m4/string_h.m4:17: -1- AC_DEFUN([gl_HEADER_STRING_H_BODY], [
+  AC_REQUIRE([AC_C_RESTRICT])
+  AC_REQUIRE([gl_HEADER_STRING_H_DEFAULTS])
+  gl_ABSOLUTE_HEADER([string.h])
+  ABSOLUTE_STRING_H=\"$gl_cv_absolute_string_h\"
+  AC_SUBST([ABSOLUTE_STRING_H])
+])
+m4trace:gnulib/m4/string_h.m4:26: -1- AC_DEFUN([gl_STRING_MODULE_INDICATOR], [
+  dnl Use AC_REQUIRE here, so that the default settings are expanded once only.
+  AC_REQUIRE([gl_HEADER_STRING_H_DEFAULTS])
+  GNULIB_[]m4_translit([$1],[abcdefghijklmnopqrstuvwxyz./-],[ABCDEFGHIJKLMNOPQRSTUVWXYZ___])=1
+])
+m4trace:gnulib/m4/string_h.m4:33: -1- AC_DEFUN([gl_HEADER_STRING_H_DEFAULTS], [
+  GNULIB_MEMMEM=0;      AC_SUBST([GNULIB_MEMMEM])
+  GNULIB_MEMPCPY=0;     AC_SUBST([GNULIB_MEMPCPY])
+  GNULIB_MEMRCHR=0;     AC_SUBST([GNULIB_MEMRCHR])
+  GNULIB_STPCPY=0;      AC_SUBST([GNULIB_STPCPY])
+  GNULIB_STPNCPY=0;     AC_SUBST([GNULIB_STPNCPY])
+  GNULIB_STRCHRNUL=0;   AC_SUBST([GNULIB_STRCHRNUL])
+  GNULIB_STRDUP=0;      AC_SUBST([GNULIB_STRDUP])
+  GNULIB_STRNDUP=0;     AC_SUBST([GNULIB_STRNDUP])
+  GNULIB_STRNLEN=0;     AC_SUBST([GNULIB_STRNLEN])
+  GNULIB_STRPBRK=0;     AC_SUBST([GNULIB_STRPBRK])
+  GNULIB_STRSEP=0;      AC_SUBST([GNULIB_STRSEP])
+  GNULIB_STRCASESTR=0;  AC_SUBST([GNULIB_STRCASESTR])
+  GNULIB_STRTOK_R=0;    AC_SUBST([GNULIB_STRTOK_R])
+  GNULIB_MBSLEN=0;      AC_SUBST([GNULIB_MBSLEN])
+  GNULIB_MBSCHR=0;      AC_SUBST([GNULIB_MBSCHR])
+  GNULIB_MBSRCHR=0;     AC_SUBST([GNULIB_MBSRCHR])
+  GNULIB_MBSSTR=0;      AC_SUBST([GNULIB_MBSSTR])
+  GNULIB_MBSCASECMP=0;  AC_SUBST([GNULIB_MBSCASECMP])
+  GNULIB_MBSNCASECMP=0; AC_SUBST([GNULIB_MBSNCASECMP])
+  GNULIB_MBSPCASECMP=0; AC_SUBST([GNULIB_MBSPCASECMP])
+  GNULIB_MBSCASESTR=0;  AC_SUBST([GNULIB_MBSCASESTR])
+  GNULIB_MBSCSPN=0;     AC_SUBST([GNULIB_MBSCSPN])
+  GNULIB_MBSPBRK=0;     AC_SUBST([GNULIB_MBSPBRK])
+  GNULIB_MBSSPN=0;      AC_SUBST([GNULIB_MBSSPN])
+  GNULIB_MBSSEP=0;      AC_SUBST([GNULIB_MBSSEP])
+  GNULIB_MBSTOK_R=0;    AC_SUBST([GNULIB_MBSTOK_R])
+  dnl Assume proper GNU behavior unless another module says otherwise.
+  HAVE_DECL_MEMMEM=1;		AC_SUBST([HAVE_DECL_MEMMEM])
+  HAVE_MEMPCPY=1;		AC_SUBST([HAVE_MEMPCPY])
+  HAVE_DECL_MEMRCHR=1;		AC_SUBST([HAVE_DECL_MEMRCHR])
+  HAVE_STPCPY=1;		AC_SUBST([HAVE_STPCPY])
+  HAVE_STPNCPY=1;		AC_SUBST([HAVE_STPNCPY])
+  HAVE_STRCASECMP=1;		AC_SUBST([HAVE_STRCASECMP])
+  HAVE_DECL_STRNCASECMP=1;	AC_SUBST([HAVE_DECL_STRNCASECMP])
+  HAVE_STRCHRNUL=1;		AC_SUBST([HAVE_STRCHRNUL])
+  HAVE_DECL_STRDUP=1;		AC_SUBST([HAVE_DECL_STRDUP])
+  HAVE_STRNDUP=1;		AC_SUBST([HAVE_STRNDUP])
+  HAVE_DECL_STRNDUP=1;		AC_SUBST([HAVE_DECL_STRNDUP])
+  HAVE_DECL_STRNLEN=1;		AC_SUBST([HAVE_DECL_STRNLEN])
+  HAVE_STRPBRK=1;		AC_SUBST([HAVE_STRPBRK])
+  HAVE_STRSEP=1;		AC_SUBST([HAVE_STRSEP])
+  HAVE_STRCASESTR=1;		AC_SUBST([HAVE_STRCASESTR])
+  HAVE_DECL_STRTOK_R=1;		AC_SUBST([HAVE_DECL_STRTOK_R])
+])
+m4trace:gnulib/m4/strndup.m4:7: -1- AC_DEFUN([gl_FUNC_STRNDUP], [
+  dnl Persuade glibc <string.h> to declare strndup().
+  AC_REQUIRE([AC_GNU_SOURCE])
+
+  AC_REQUIRE([gl_HEADER_STRING_H_DEFAULTS])
+  AC_CHECK_DECLS_ONCE([strndup])
+  if test $ac_cv_have_decl_strndup = no; then
+    HAVE_DECL_STRNDUP=0
+  fi
+
+  # AIX 4.3.3, AIX 5.1 have a function that fails to add the terminating '\0'.
+  AC_CACHE_CHECK([for working strndup], gl_cv_func_strndup,
+    [AC_RUN_IFELSE([
+       AC_LANG_PROGRAM([#include <string.h>
+		 	#include <stdlib.h>], [[
+#ifndef HAVE_DECL_STRNDUP
+  extern char *strndup (const char *, size_t);
+#endif
+  char *s;
+  s = strndup ("some longer string", 15);
+  free (s);
+  s = strndup ("shorter string", 13);
+  return s[13] != '\0';]])],
+       [gl_cv_func_strndup=yes],
+       [gl_cv_func_strndup=no],
+       [AC_CHECK_FUNC([strndup],
+          [AC_EGREP_CPP([too risky], [
+#ifdef _AIX
+               too risky
+#endif
+             ],
+             [gl_cv_func_strndup=no],
+             [gl_cv_func_strndup=yes])],
+          [gl_cv_func_strndup=no])])])
+  if test $gl_cv_func_strndup = yes; then
+    AC_DEFINE([HAVE_STRNDUP], 1,
+      [Define if you have the strndup() function and it works.])
+  else
+    HAVE_STRNDUP=0
+    AC_LIBOBJ([strndup])
+    gl_PREREQ_STRNDUP
+  fi
+])
+m4trace:gnulib/m4/strndup.m4:53: -1- AC_DEFUN([gl_PREREQ_STRNDUP], [:])
+m4trace:gnulib/m4/strnlen.m4:7: -1- AC_DEFUN([gl_FUNC_STRNLEN], [
+  dnl Persuade glibc <string.h> to declare strnlen().
+  AC_REQUIRE([AC_GNU_SOURCE])
+
+  AC_REQUIRE([gl_HEADER_STRING_H_DEFAULTS])
+  AC_CHECK_DECLS_ONCE([strnlen])
+  if test $ac_cv_have_decl_strnlen = no; then
+    HAVE_DECL_STRNLEN=0
+  fi
+
+  AC_FUNC_STRNLEN
+  if test $ac_cv_func_strnlen_working = no; then
+    # This is necessary because automake-1.6.1 doens't understand
+    # that the above use of AC_FUNC_STRNLEN means we may have to use
+    # lib/strnlen.c.
+    #AC_LIBOBJ(strnlen)
+    AC_DEFINE(strnlen, rpl_strnlen,
+      [Define to rpl_strnlen if the replacement function should be used.])
+    gl_PREREQ_STRNLEN
   fi
 ])
-m4trace:gnulib/m4/strstr.m4:16: -1- AC_DEFUN([gl_PREREQ_STRSTR], [:])
+m4trace:gnulib/m4/strnlen.m4:31: -1- AC_DEFUN([gl_PREREQ_STRNLEN], [:])
 m4trace:gnulib/m4/strtoimax.m4:7: -1- AC_DEFUN([gl_FUNC_STRTOIMAX], [
   dnl Work around a bug of AC_EGREP_CPP in autoconf-2.57.
   AC_REQUIRE([AC_PROG_CPP])
@@ -4667,25 +7755,17 @@ m4trace:gnulib/m4/strtoimax.m4:7: -1- AC
   fi
 ])
 m4trace:gnulib/m4/strtoimax.m4:31: -1- AC_DEFUN([gl_PREREQ_STRTOIMAX], [
-  gl_AC_TYPE_INTMAX_T
   AC_CHECK_DECLS(strtoll)
-  AC_REQUIRE([gl_AC_TYPE_LONG_LONG])
+  AC_REQUIRE([AC_TYPE_LONG_LONG_INT])
 ])
 m4trace:gnulib/m4/strtol.m4:7: -1- AC_DEFUN([gl_FUNC_STRTOL], [
   AC_REPLACE_FUNCS(strtol)
-  if test $ac_cv_func_strtol = no; then
-    gl_PREREQ_STRTOL
-  fi
-])
-m4trace:gnulib/m4/strtol.m4:16: -1- AC_DEFUN([gl_PREREQ_STRTOL], [
-  AC_REQUIRE([AC_HEADER_STDC])
-  AC_CHECK_FUNCS_ONCE(isascii)
 ])
 m4trace:gnulib/m4/strtoll.m4:7: -1- AC_DEFUN([gl_FUNC_STRTOLL], [
   dnl We don't need (and can't compile) the replacement strtoll
-  dnl unless the type 'long long' exists.
-  AC_REQUIRE([gl_AC_TYPE_LONG_LONG])
-  if test "$ac_cv_type_long_long" = yes; then
+  dnl unless the type 'long long int' exists.
+  AC_REQUIRE([AC_TYPE_LONG_LONG_INT])
+  if test "$ac_cv_type_long_long_int" = yes; then
     AC_REPLACE_FUNCS(strtoll)
     if test $ac_cv_func_strtoll = no; then
       gl_PREREQ_STRTOLL
@@ -4697,18 +7777,12 @@ m4trace:gnulib/m4/strtoll.m4:21: -1- AC_
 ])
 m4trace:gnulib/m4/strtoul.m4:7: -1- AC_DEFUN([gl_FUNC_STRTOUL], [
   AC_REPLACE_FUNCS(strtoul)
-  if test $ac_cv_func_strtoul = no; then
-    gl_PREREQ_STRTOUL
-  fi
-])
-m4trace:gnulib/m4/strtoul.m4:16: -1- AC_DEFUN([gl_PREREQ_STRTOUL], [
-  gl_PREREQ_STRTOL
 ])
 m4trace:gnulib/m4/strtoull.m4:7: -1- AC_DEFUN([gl_FUNC_STRTOULL], [
   dnl We don't need (and can't compile) the replacement strtoull
-  dnl unless the type 'unsigned long long' exists.
-  AC_REQUIRE([gl_AC_TYPE_UNSIGNED_LONG_LONG])
-  if test "$ac_cv_type_unsigned_long_long" = yes; then
+  dnl unless the type 'unsigned long long int' exists.
+  AC_REQUIRE([AC_TYPE_UNSIGNED_LONG_LONG_INT])
+  if test "$ac_cv_type_unsigned_long_long_int" = yes; then
     AC_REPLACE_FUNCS(strtoull)
     if test $ac_cv_func_strtoull = no; then
       gl_PREREQ_STRTOULL
@@ -4740,13 +7814,141 @@ m4trace:gnulib/m4/strtoumax.m4:7: -1- AC
   fi
 ])
 m4trace:gnulib/m4/strtoumax.m4:31: -1- AC_DEFUN([gl_PREREQ_STRTOUMAX], [
-  gl_AC_TYPE_UINTMAX_T
   AC_CHECK_DECLS(strtoull)
-  AC_REQUIRE([gl_AC_TYPE_UNSIGNED_LONG_LONG])
+  AC_REQUIRE([AC_TYPE_UNSIGNED_LONG_LONG_INT])
+])
+m4trace:gnulib/m4/sys_stat_h.m4:10: -1- AC_DEFUN([gl_HEADER_SYS_STAT_H], [
+  dnl Check for lstat.  Systems that lack it (mingw) also lack symlinks, so
+  dnl stat is a good replacement.
+  AC_CHECK_FUNCS_ONCE([lstat])
+
+  dnl Check for mkdir.  Mingw has _mkdir(name) in the nonstandard <io.h>
+  dnl instead.
+  AC_CHECK_DECLS([mkdir],
+    [],
+    [AC_CHECK_HEADERS([io.h])],
+    [#include <sys/stat.h>])
+  AC_REQUIRE([AC_C_INLINE])
+
+  dnl Check for broken stat macros.
+  AC_REQUIRE([AC_HEADER_STAT])
+
+  gl_ABSOLUTE_HEADER([sys/stat.h])
+  ABSOLUTE_SYS_STAT_H=\"$gl_cv_absolute_sys_stat_h\"
+  AC_SUBST([ABSOLUTE_SYS_STAT_H])
+  SYS_STAT_H='sys/stat.h'
+  AC_SUBST([SYS_STAT_H])
+])
+m4trace:gnulib/m4/sys_time_h.m4:10: -1- AC_DEFUN([gl_HEADER_SYS_TIME_H], [
+  dnl Use AC_REQUIRE here, so that the REPLACE_GETTIMEOFDAY=0 statement
+  dnl below is expanded once only, before all REPLACE_GETTIMEOFDAY=1
+  dnl statements that occur in other macros.
+  AC_REQUIRE([gl_HEADER_SYS_TIME_H_BODY])
+])
+m4trace:gnulib/m4/sys_time_h.m4:18: -1- AC_DEFUN([gl_HEADER_SYS_TIME_H_BODY], [
+  AC_REQUIRE([AC_C_RESTRICT])
+  AC_CHECK_HEADERS_ONCE([sys/time.h])
+
+  if test $ac_cv_header_sys_time_h = yes; then
+    gl_ABSOLUTE_HEADER([sys/time.h])
+    ABSOLUTE_SYS_TIME_H=\"$gl_cv_absolute_sys_time_h\"
+    HAVE_SYS_TIME_H=1
+  else
+    ABSOLUTE_SYS_TIME_H=\"no/such/file/sys/time.h\"
+    HAVE_SYS_TIME_H=0
+  fi
+  AC_SUBST([ABSOLUTE_SYS_TIME_H])
+  AC_SUBST([HAVE_SYS_TIME_H])
+
+  AC_CACHE_CHECK([for struct timeval], [gl_cv_sys_struct_timeval],
+    [AC_COMPILE_IFELSE(
+       [AC_LANG_PROGRAM(
+	  [[#if HAVE_SYS_TIME_H
+	     #include <sys/time.h>
+	    #endif
+	    #include <time.h>
+	  ]],
+	  [[static struct timeval x; x.tv_sec = x.tv_usec;]])],
+       [gl_cv_sys_struct_timeval=yes],
+       [gl_cv_sys_struct_timeval=no])])
+  if test $gl_cv_sys_struct_timeval = yes; then
+    HAVE_STRUCT_TIMEVAL=1
+  else
+    HAVE_STRUCT_TIMEVAL=0
+  fi
+  AC_SUBST([HAVE_STRUCT_TIMEVAL])
+
+  dnl Assume POSIX behavior unless another module says otherwise.
+  REPLACE_GETTIMEOFDAY=0
+  AC_SUBST([REPLACE_GETTIMEOFDAY])
+  if test $HAVE_SYS_TIME_H = 0 || test $HAVE_STRUCT_TIMEVAL = 0; then
+    SYS_TIME_H=sys/time.h
+  else
+    SYS_TIME_H=
+  fi
+  AC_SUBST([SYS_TIME_H])
+])
+m4trace:gnulib/m4/time_h.m4:12: -1- AC_DEFUN([gl_HEADER_TIME_H], [
+  dnl Use AC_REQUIRE here, so that the default behavior below is expanded
+  dnl once only, before all statements that occur in other macros.
+  AC_REQUIRE([gl_HEADER_TIME_H_BODY])
+])
+m4trace:gnulib/m4/time_h.m4:19: -1- AC_DEFUN([gl_HEADER_TIME_H_BODY], [
+  AC_REQUIRE([AC_C_RESTRICT])
+  AC_REQUIRE([gl_HEADER_TIME_H_DEFAULTS])
+  gl_ABSOLUTE_HEADER([time.h])
+  ABSOLUTE_TIME_H=\"$gl_cv_absolute_time_h\"
+  AC_SUBST([ABSOLUTE_TIME_H])
+  AC_REQUIRE([gl_CHECK_TYPE_STRUCT_TIMESPEC])
+])
+m4trace:gnulib/m4/time_h.m4:29: -1- AC_DEFUN([gl_HEADER_TIME_H_DEFAULTS], [
+  dnl If another module says to replace or to not replace, do that.
+  dnl Otherwise, replace only if someone compiles with -DGNULIB_PORTCHECK;
+  dnl this lets maintainers check for portability.
+  REPLACE_LOCALTIME_R=GNULIB_PORTCHECK;  AC_SUBST([REPLACE_LOCALTIME_R])
+  REPLACE_NANOSLEEP=GNULIB_PORTCHECK;    AC_SUBST([REPLACE_NANOSLEEP])
+  REPLACE_STRPTIME=GNULIB_PORTCHECK;     AC_SUBST([REPLACE_STRPTIME])
+  REPLACE_TIMEGM=GNULIB_PORTCHECK;       AC_SUBST([REPLACE_TIMEGM])
+])
+m4trace:gnulib/m4/time_h.m4:43: -1- AC_DEFUN([gl_CHECK_TYPE_STRUCT_TIMESPEC], [
+  AC_CHECK_HEADERS_ONCE([sys/time.h])
+  AC_CACHE_CHECK([for struct timespec in <time.h>],
+    [gl_cv_sys_struct_timespec_in_time_h],
+    [AC_COMPILE_IFELSE(
+       [AC_LANG_PROGRAM(
+	  [[#include <time.h>
+	  ]],
+	  [[static struct timespec x; x.tv_sec = x.tv_nsec;]])],
+       [gl_cv_sys_struct_timespec_in_time_h=yes],
+       [gl_cv_sys_struct_timespec_in_time_h=no])])
+
+  TIME_H_DEFINES_STRUCT_TIMESPEC=0
+  SYS_TIME_H_DEFINES_STRUCT_TIMESPEC=0
+  if test $gl_cv_sys_struct_timespec_in_time_h = yes; then
+    TIME_H_DEFINES_STRUCT_TIMESPEC=1
+  else
+    AC_CACHE_CHECK([for struct timespec in <sys/time.h>],
+      [gl_cv_sys_struct_timespec_in_sys_time_h],
+      [AC_COMPILE_IFELSE(
+	 [AC_LANG_PROGRAM(
+	    [[#include <sys/time.h>
+	    ]],
+	    [[static struct timespec x; x.tv_sec = x.tv_nsec;]])],
+	 [gl_cv_sys_struct_timespec_in_sys_time_h=yes],
+	 [gl_cv_sys_struct_timespec_in_sys_time_h=no])])
+    if test $gl_cv_sys_struct_timespec_in_time_h = yes; then
+      SYS_TIME_H_DEFINES_STRUCT_TIMESPEC=1
+    fi
+  fi
+  AC_SUBST([TIME_H_DEFINES_STRUCT_TIMESPEC])
+  AC_SUBST([SYS_TIME_H_DEFINES_STRUCT_TIMESPEC])
 ])
 m4trace:gnulib/m4/time_r.m4:10: -1- AC_DEFUN([gl_TIME_R], [
+ dnl Persuade glibc and Solaris <time.h> to declare localtime_r.
   AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
-  AC_REQUIRE([gl_C_RESTRICT])
+
+  AC_REQUIRE([gl_HEADER_TIME_H_DEFAULTS])
+  AC_REQUIRE([AC_C_RESTRICT])
 
   AC_CACHE_CHECK([whether localtime_r is compatible with its POSIX signature],
     [gl_cv_time_r_posix],
@@ -4755,21 +7957,25 @@ m4trace:gnulib/m4/time_r.m4:10: -1- AC_D
        [/* We don't need to append 'restrict's to the argument types,
 	   even though the POSIX signature has the 'restrict's,
 	   since C99 says they can't affect type compatibility.  */
-	struct tm * (*ptr) (time_t const *, struct tm *) = localtime_r;],
+	struct tm * (*ptr) (time_t const *, struct tm *) = localtime_r;
+        if (ptr) return 0;],
        [gl_cv_time_r_posix=yes],
        [gl_cv_time_r_posix=no])])
   if test $gl_cv_time_r_posix = yes; then
-    AC_DEFINE([HAVE_TIME_R_POSIX], 1,
-      [Define to 1 if localtime_r, etc. have the type signatures that
-       POSIX requires.])
+    REPLACE_LOCALTIME_R=0
   else
+    REPLACE_LOCALTIME_R=1
     AC_LIBOBJ([time_r])
     gl_PREREQ_TIME_R
   fi
 ])
-m4trace:gnulib/m4/time_r.m4:36: -1- AC_DEFUN([gl_PREREQ_TIME_R], [
+m4trace:gnulib/m4/time_r.m4:39: -1- AC_DEFUN([gl_PREREQ_TIME_R], [
   :
 ])
+m4trace:gnulib/m4/timespec.m4:12: -1- AC_DEFUN([gl_TIMESPEC], [
+  dnl Prerequisites of lib/timespec.h.
+  AC_REQUIRE([AC_C_INLINE])
+])
 m4trace:gnulib/m4/tm_gmtoff.m4:7: -1- AC_DEFUN([gl_TM_GMTOFF], [
  AC_CHECK_MEMBER([struct tm.tm_gmtoff],
                  [AC_DEFINE(HAVE_TM_GMTOFF, 1,
@@ -4777,58 +7983,6 @@ m4trace:gnulib/m4/tm_gmtoff.m4:7: -1- AC
                  ,
                  [#include <time.h>])
 ])
-m4trace:gnulib/m4/tzset.m4:16: -1- AC_DEFUN([gl_FUNC_TZSET_CLOBBER], [
-  AC_REQUIRE([AC_HEADER_TIME])
-  AC_CACHE_CHECK([whether tzset clobbers localtime buffer],
-                 gl_cv_func_tzset_clobber,
-  [
-  AC_RUN_IFELSE([AC_LANG_SOURCE([[
-#if TIME_WITH_SYS_TIME
-# include <sys/time.h>
-# include <time.h>
-#else
-# if HAVE_SYS_TIME_H
-#  include <sys/time.h>
-# else
-#  include <time.h>
-# endif
-#endif
-#include <stdlib.h>
-
-int
-main ()
-{
-  time_t t1 = 853958121;
-  struct tm *p, s;
-  putenv ("TZ=GMT0");
-  p = localtime (&t1);
-  s = *p;
-  putenv ("TZ=EST+3EDT+2,M10.1.0/00:00:00,M2.3.0/00:00:00");
-  tzset ();
-  exit (p->tm_year != s.tm_year
-        || p->tm_mon != s.tm_mon
-        || p->tm_mday != s.tm_mday
-        || p->tm_hour != s.tm_hour
-        || p->tm_min != s.tm_min
-        || p->tm_sec != s.tm_sec);
-}
-  ]])],
-       [gl_cv_func_tzset_clobber=no],
-       [gl_cv_func_tzset_clobber=yes],
-       [gl_cv_func_tzset_clobber=yes])])
-
-  AC_DEFINE(HAVE_RUN_TZSET_TEST, 1,
-    [Define to 1 if you have run the test for working tzset.])
-
-  if test $gl_cv_func_tzset_clobber = yes; then
-    gl_GETTIMEOFDAY_REPLACE_LOCALTIME
-
-    AC_DEFINE(tzset, rpl_tzset,
-      [Define to rpl_tzset if the wrapper function should be used.])
-    AC_DEFINE(TZSET_CLOBBERS_LOCALTIME_BUFFER, 1,
-      [Define if tzset clobbers localtime's static buffer.])
-  fi
-])
 m4trace:gnulib/m4/uintmax_t.m4:14: -1- AC_DEFUN([gl_AC_TYPE_UINTMAX_T], [
   AC_REQUIRE([gl_AC_HEADER_INTTYPES_H])
   AC_REQUIRE([gl_AC_HEADER_STDINT_H])
@@ -4845,18 +7999,123 @@ m4trace:gnulib/m4/uintmax_t.m4:14: -1- A
       [Define if you have the 'uintmax_t' type in <stdint.h> or <inttypes.h>.])
   fi
 ])
-m4trace:gnulib/m4/ulonglong.m4:11: -1- AC_DEFUN([gl_AC_TYPE_UNSIGNED_LONG_LONG], [
-  AC_CACHE_CHECK([for unsigned long long], ac_cv_type_unsigned_long_long,
-  [AC_TRY_LINK([unsigned long long ull = 1ULL; int i = 63;],
-    [unsigned long long ullmax = (unsigned long long) -1;
-     return ull << i | ull >> i | ullmax / ull | ullmax % ull;],
-    ac_cv_type_unsigned_long_long=yes,
-    ac_cv_type_unsigned_long_long=no)])
+m4trace:gnulib/m4/ulonglong.m4:18: -1- AC_DEFUN([AC_TYPE_UNSIGNED_LONG_LONG_INT], [
+  AC_CACHE_CHECK([for unsigned long long int],
+    [ac_cv_type_unsigned_long_long_int],
+    [AC_LINK_IFELSE(
+       [AC_LANG_PROGRAM(
+	  [[unsigned long long int ull = 18446744073709551615ULL;
+	    typedef int a[(18446744073709551615ULL <= (unsigned long long int) -1
+			   ? 1 : -1)];
+	   int i = 63;]],
+	  [[unsigned long long int ullmax = 18446744073709551615ull;
+	    return (ull << 63 | ull >> 63 | ull << i | ull >> i
+		    | ullmax / ull | ullmax % ull);]])],
+       [ac_cv_type_unsigned_long_long_int=yes],
+       [ac_cv_type_unsigned_long_long_int=no])])
+  if test $ac_cv_type_unsigned_long_long_int = yes; then
+    AC_DEFINE([HAVE_UNSIGNED_LONG_LONG_INT], 1,
+      [Define to 1 if the system has the type `unsigned long long int'.])
+  fi
+])
+m4trace:gnulib/m4/ulonglong.m4:40: -1- AC_DEFUN([gl_AC_TYPE_UNSIGNED_LONG_LONG], [
+  AC_REQUIRE([AC_TYPE_UNSIGNED_LONG_LONG_INT])
+  ac_cv_type_unsigned_long_long=$ac_cv_type_unsigned_long_long_int
   if test $ac_cv_type_unsigned_long_long = yes; then
     AC_DEFINE(HAVE_UNSIGNED_LONG_LONG, 1,
       [Define if you have the 'unsigned long long' type.])
   fi
 ])
+m4trace:gnulib/m4/unistd-safer.m4:7: -1- AC_DEFUN([gl_UNISTD_SAFER], [
+  AC_CHECK_FUNCS_ONCE([pipe])
+  AC_LIBOBJ([dup-safer])
+  AC_LIBOBJ([fd-safer])
+  AC_LIBOBJ([pipe-safer])
+])
+m4trace:gnulib/m4/unistd_h.m4:9: -1- AC_DEFUN([gl_UNISTD_H], [
+  dnl Use AC_REQUIRE here, so that the default behavior below is expanded
+  dnl once only, before all statements that occur in other macros.
+  AC_REQUIRE([gl_UNISTD_H_DEFAULTS])
+
+  AC_CHECK_HEADERS_ONCE([unistd.h])
+  if test $ac_cv_header_unistd_h = yes; then
+    HAVE_UNISTD_H=1
+    gl_ABSOLUTE_HEADER([unistd.h])
+    ABSOLUTE_UNISTD_H=\"$gl_cv_absolute_unistd_h\"
+  else
+    HAVE_UNISTD_H=0
+  fi
+  AC_SUBST([HAVE_UNISTD_H])
+  AC_SUBST([ABSOLUTE_UNISTD_H])
+])
+m4trace:gnulib/m4/unistd_h.m4:27: -1- AC_DEFUN([gl_UNISTD_MODULE_INDICATOR], [
+  dnl Use AC_REQUIRE here, so that the default settings are expanded once only.
+  AC_REQUIRE([gl_UNISTD_H_DEFAULTS])
+  GNULIB_[]m4_translit([$1],[abcdefghijklmnopqrstuvwxyz./-],[ABCDEFGHIJKLMNOPQRSTUVWXYZ___])=1
+])
+m4trace:gnulib/m4/unistd_h.m4:34: -1- AC_DEFUN([gl_UNISTD_H_DEFAULTS], [
+  GNULIB_CHOWN=0;         AC_SUBST([GNULIB_CHOWN])
+  GNULIB_DUP2=0;          AC_SUBST([GNULIB_DUP2])
+  GNULIB_FCHDIR=0;        AC_SUBST([GNULIB_FCHDIR])
+  GNULIB_FTRUNCATE=0;     AC_SUBST([GNULIB_FTRUNCATE])
+  GNULIB_GETCWD=0;        AC_SUBST([GNULIB_GETCWD])
+  GNULIB_GETLOGIN_R=0;    AC_SUBST([GNULIB_GETLOGIN_R])
+  GNULIB_READLINK=0;      AC_SUBST([GNULIB_READLINK])
+  dnl Assume proper GNU behavior unless another module says otherwise.
+  HAVE_DUP2=1;            AC_SUBST([HAVE_DUP2])
+  HAVE_FTRUNCATE=1;       AC_SUBST([HAVE_FTRUNCATE])
+  HAVE_READLINK=1;        AC_SUBST([HAVE_READLINK])
+  HAVE_DECL_GETLOGIN_R=1; AC_SUBST([HAVE_DECL_GETLOGIN_R])
+  REPLACE_CHOWN=0;        AC_SUBST([REPLACE_CHOWN])
+  REPLACE_FCHDIR=0;       AC_SUBST([REPLACE_FCHDIR])
+  REPLACE_GETCWD=0;       AC_SUBST([REPLACE_GETCWD])
+])
+m4trace:gnulib/m4/visibility.m4:23: -1- AC_DEFUN([gl_VISIBILITY], [
+  AC_REQUIRE([AC_PROG_CC])
+  CFLAG_VISIBILITY=
+  HAVE_VISIBILITY=0
+  if test -n "$GCC"; then
+    AC_MSG_CHECKING([for simple visibility declarations])
+    AC_CACHE_VAL(gl_cv_cc_visibility, [
+      gl_save_CFLAGS="$CFLAGS"
+      CFLAGS="$CFLAGS -fvisibility=hidden"
+      AC_TRY_COMPILE(
+        [extern __attribute__((__visibility__("hidden"))) int hiddenvar;
+         extern __attribute__((__visibility__("default"))) int exportedvar;
+         extern __attribute__((__visibility__("hidden"))) int hiddenfunc (void);
+         extern __attribute__((__visibility__("default"))) int exportedfunc (void);],
+        [],
+        gl_cv_cc_visibility=yes,
+        gl_cv_cc_visibility=no)
+      CFLAGS="$gl_save_CFLAGS"])
+    AC_MSG_RESULT([$gl_cv_cc_visibility])
+    if test $gl_cv_cc_visibility = yes; then
+      CFLAG_VISIBILITY="-fvisibility=hidden"
+      HAVE_VISIBILITY=1
+    fi
+  fi
+  AC_SUBST([CFLAG_VISIBILITY])
+  AC_SUBST([HAVE_VISIBILITY])
+  AC_DEFINE_UNQUOTED([HAVE_VISIBILITY], [$HAVE_VISIBILITY],
+    [Define to 1 or 0, depending whether the compiler supports simple visibility declarations.])
+])
+m4trace:gnulib/m4/wchar.m4:12: -1- AC_DEFUN([gl_WCHAR_H], [
+  AC_CACHE_CHECK([whether <wchar.h> is standalone],
+    [gl_cv_header_wchar_h_standalone],
+    [AC_COMPILE_IFELSE([[#include <wchar.h>
+wchar_t w;]],
+      [gl_cv_header_wchar_h_standalone=yes],
+      [gl_cv_header_wchar_h_standalone=no])])
+  if test $gl_cv_header_wchar_h_standalone = yes; then
+    WCHAR_H=
+  else
+    gl_ABSOLUTE_HEADER([wchar.h])
+    ABSOLUTE_WCHAR_H=\"$gl_cv_absolute_wchar_h\"
+    WCHAR_H=wchar.h
+  fi
+  AC_SUBST([ABSOLUTE_WCHAR_H])
+  AC_SUBST([WCHAR_H])
+])
 m4trace:gnulib/m4/wchar_t.m4:11: -1- AC_DEFUN([gt_TYPE_WCHAR_T], [
   AC_CACHE_CHECK([for wchar_t], gt_cv_c_wchar_t,
     [AC_TRY_COMPILE([#include <stddef.h>
@@ -4866,9 +8125,71 @@ m4trace:gnulib/m4/wchar_t.m4:11: -1- AC_
     AC_DEFINE(HAVE_WCHAR_T, 1, [Define if you have the 'wchar_t' type.])
   fi
 ])
+m4trace:gnulib/m4/wctype.m4:10: -1- AC_DEFUN([gl_WCTYPE_H], [
+  AC_CHECK_FUNCS_ONCE([iswcntrl])
+  AC_CHECK_HEADERS_ONCE([wctype.h])
+  AC_REQUIRE([AC_C_INLINE])
+
+  AC_REQUIRE([gt_TYPE_WINT_T])
+  if test $gt_cv_c_wint_t = yes; then
+    HAVE_WINT_T=1
+  else
+    HAVE_WINT_T=0
+  fi
+  AC_SUBST([HAVE_WINT_T])
+
+  WCTYPE_H=wctype.h
+  if test $ac_cv_header_wctype_h = yes; then
+    if test "$ac_cv_func_iswcntrl" = yes; then
+      WCTYPE_H=
+    fi
+    dnl Compute ABSOLUTE_WCTYPE_H even if WCTYPE_H is empty,
+    dnl for the benefit of builds from non-distclean directories.
+    gl_ABSOLUTE_HEADER([wctype.h])
+    ABSOLUTE_WCTYPE_H=\"$gl_cv_absolute_wctype_h\"
+    HAVE_WCTYPE_H=1
+  else
+    ABSOLUTE_WCTYPE_H=\"no/such/file/wctype.h\"
+    HAVE_WCTYPE_H=0
+  fi
+  AC_SUBST([ABSOLUTE_WCTYPE_H])
+  AC_SUBST([HAVE_WCTYPE_H])
+  AC_SUBST([WCTYPE_H])
+])
+m4trace:gnulib/m4/wcwidth.m4:7: -1- AC_DEFUN([gl_FUNC_WCWIDTH], [
+  dnl Persuade glibc <wchar.h> to declare wcwidth().
+  AC_REQUIRE([AC_GNU_SOURCE])
+
+  AC_REQUIRE([AC_C_INLINE])
+  AC_REQUIRE([gt_TYPE_WCHAR_T])
+  AC_REQUIRE([gt_TYPE_WINT_T])
+
+  AC_CHECK_HEADERS_ONCE([wchar.h])
+  AC_CHECK_FUNCS_ONCE([wcwidth])
+
+  AC_CHECK_DECLS([wcwidth], [], [], [
+/* AIX 3.2.5 declares wcwidth in <string.h>. */
+#include <string.h>
+/* Tru64 with Desktop Toolkit C has a bug: <stdio.h> must be included before
+   <wchar.h>.
+   BSD/OS 4.0.1 has a bug: <stddef.h>, <stdio.h> and <time.h> must be included
+   before <wchar.h>.  */
+#include <stddef.h>
+#include <stdio.h>
+#include <time.h>
+#include <wchar.h>
+])])
 m4trace:gnulib/m4/wint_t.m4:11: -1- AC_DEFUN([gt_TYPE_WINT_T], [
   AC_CACHE_CHECK([for wint_t], gt_cv_c_wint_t,
-    [AC_TRY_COMPILE([#include <wchar.h>
+    [AC_TRY_COMPILE([
+/* Tru64 with Desktop Toolkit C has a bug: <stdio.h> must be included before
+   <wchar.h>.
+   BSD/OS 4.0.1 has a bug: <stddef.h>, <stdio.h> and <time.h> must be included
+   before <wchar.h>.  */
+#include <stddef.h>
+#include <stdio.h>
+#include <time.h>
+#include <wchar.h>
        wint_t foo = (wchar_t)'\0';], ,
        gt_cv_c_wint_t=yes, gt_cv_c_wint_t=no)])
   if test $gt_cv_c_wint_t = yes; then
@@ -4876,56 +8197,129 @@ m4trace:gnulib/m4/wint_t.m4:11: -1- AC_D
   fi
 ])
 m4trace:gnulib/m4/xalloc.m4:7: -1- AC_DEFUN([gl_XALLOC], [
+  AC_LIBOBJ([xmalloc])
+
   gl_PREREQ_XALLOC
   gl_PREREQ_XMALLOC
 ])
-m4trace:gnulib/m4/xalloc.m4:14: -1- AC_DEFUN([gl_PREREQ_XALLOC], [
+m4trace:gnulib/m4/xalloc.m4:16: -1- AC_DEFUN([gl_PREREQ_XALLOC], [
+  AC_REQUIRE([gl_INLINE])
   :
 ])
-m4trace:gnulib/m4/xalloc.m4:19: -1- AC_DEFUN([gl_PREREQ_XMALLOC], [
-  AC_REQUIRE([AC_C_INLINE])
+m4trace:gnulib/m4/xalloc.m4:22: -1- AC_DEFUN([gl_PREREQ_XMALLOC], [
   :
 ])
 m4trace:gnulib/m4/xgetcwd.m4:7: -1- AC_DEFUN([gl_XGETCWD], [
+  AC_LIBOBJ([xgetcwd])
+
   AC_REQUIRE([gl_FUNC_GETCWD])
 ])
-m4trace:gnulib/m4/xreadlink.m4:7: -1- AC_DEFUN([gl_XREADLINK], [
-  dnl Prerequisites of lib/xreadlink.c.
-  AC_REQUIRE([gt_TYPE_SSIZE_T])
-  AC_CHECK_HEADERS_ONCE(unistd.h)
-])
 m4trace:gnulib/m4/xsize.m4:7: -1- AC_DEFUN([gl_XSIZE], [
   dnl Prerequisites of lib/xsize.h.
   AC_REQUIRE([gl_SIZE_MAX])
   AC_REQUIRE([AC_C_INLINE])
   AC_CHECK_HEADERS(stdint.h)
 ])
-m4trace:gnulib/m4/xstrtol.m4:7: -1- AC_DEFUN([gl_XSTRTOL], [
-  AC_REQUIRE([gl_PREREQ_XSTRTOL])
-  AC_REQUIRE([gl_PREREQ_XSTRTOUL])
+m4trace:gnulib/m4/xstrndup.m4:7: -1- AC_DEFUN([gl_XSTRNDUP], [
+  gl_PREREQ_XSTRNDUP
+])
+m4trace:gnulib/m4/xstrndup.m4:13: -1- AC_DEFUN([gl_PREREQ_XSTRNDUP], [
+  :
 ])
-m4trace:gnulib/m4/xstrtol.m4:14: -1- AC_DEFUN([gl_PREREQ_XSTRTOL_H], [
-  AC_REQUIRE([gl_AC_TYPE_INTMAX_T])
-  AC_REQUIRE([gl_AC_TYPE_UINTMAX_T])
-])
-m4trace:gnulib/m4/xstrtol.m4:21: -1- AC_DEFUN([gl_PREREQ_XSTRTOL], [
-  AC_REQUIRE([gl_PREREQ_XSTRTOL_H])
-  AC_REQUIRE([AC_HEADER_STDC])
-  AC_CHECK_FUNCS_ONCE(isascii)
-  AC_CHECK_DECLS([strtoimax, strtoumax])
-])
-m4trace:gnulib/m4/xstrtol.m4:30: -1- AC_DEFUN([gl_PREREQ_XSTRTOUL], [
-  AC_REQUIRE([gl_PREREQ_XSTRTOL])
-])
-m4trace:gnulib/m4/xstrtoumax.m4:9: -1- AC_DEFUN([gl_XSTRTOUMAX], [
-  dnl Prerequisites of lib/xstrtoumax.c.
-  AC_REQUIRE([gl_AC_TYPE_UINTMAX_T])
-  AC_REQUIRE([gl_PREREQ_XSTRTOL])
+m4trace:gnulib/m4/xstrtod.m4:8: -1- AC_DEFUN([gl_XSTRTOD], [
+  AC_LIBOBJ([xstrtod])
+])
+m4trace:gnulib/m4/xstrtod.m4:14: -1- AC_DEFUN([gl_XSTRTOLD], [
+  AC_LIBOBJ([xstrtold])
+])
+m4trace:gnulib/m4/xstrtol.m4:7: -1- AC_DEFUN([gl_XSTRTOL], [
+  AC_LIBOBJ([xstrtol])
+  AC_LIBOBJ([xstrtoul])
 ])
 m4trace:gnulib/m4/yesno.m4:7: -1- AC_DEFUN([gl_YESNO], [
+  AC_LIBOBJ([yesno])
+
   dnl No prerequisites of lib/yesno.c.
   :
 ])
+m4trace:m4/findlib.m4:3: -1- AC_DEFUN([FINDLIB_REPLACE_FUNCS], [AC_FOREACH([AC_Func], [$1], [jy_FINDLIBSOURCE(AC_Func.c)])dnl
+AC_CHECK_FUNCS([$1], , [_jy_FINDLIBOBJ($ac_func)])
+])
+m4trace:m4/findlib.m4:53: -1- AC_DEFUN([_jy_FINDLIBOBJS_NORMALIZE], [ac_findlibobjs=
+ac_ltfindlibobjs=
+for ac_i in : $FINDLIB@&t@OBJS; do test "x$ac_i" = x: && continue
+  # 1. Remove the extension, and $U if already installed.
+  ac_i=`echo "$ac_i" |
+         sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
+  # 2. Add them.
+  ac_findlibobjs="$ac_libobjs $ac_i\$U.$ac_objext"
+  ac_ltfindlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
+done
+AC_SUBST([FINDLIB@&t@OBJS], [$ac_findlibobjs])
+AC_SUBST([LTFINDLIBOBJS], [$ac_ltfindlibobjs])
+])
+m4trace:m4/mkinstalldirs.m4:22: -1- AC_DEFUN([AM_MKINSTALLDIRS], [
+  dnl Tell automake >= 1.10 to complain if mkinstalldirs is missing.
+  m4_ifdef([AC_REQUIRE_AUX_FILE], [AC_REQUIRE_AUX_FILE([mkinstalldirs])])
+  dnl If the AC_CONFIG_AUX_DIR macro for autoconf is used we possibly
+  dnl find the mkinstalldirs script in another subdir but $(top_srcdir).
+  dnl Try to locate it.
+  MKINSTALLDIRS=
+  if test -n "$ac_aux_dir"; then
+    case "$ac_aux_dir" in
+      /*) MKINSTALLDIRS="$ac_aux_dir/mkinstalldirs" ;;
+      *) MKINSTALLDIRS="\$(top_builddir)/$ac_aux_dir/mkinstalldirs" ;;
+    esac
+  fi
+  if test -z "$MKINSTALLDIRS"; then
+    MKINSTALLDIRS="\$(top_srcdir)/mkinstalldirs"
+  fi
+  AC_SUBST(MKINSTALLDIRS)
+])
+m4trace:m4/nullsort.m4:1: -1- AC_DEFUN([jy_SORTZ], [AC_PATH_PROG([SORT], [sort], [sort])
+  AC_MSG_CHECKING([if $SORT supports the -z option])
+# find out if the sort command has a working -z option.
+if $SORT -z -c < "${srcdir:-.}/m4/order-good.bin" 2>/dev/null  >/dev/null
+then
+	# sort has a -z option, but we have not yet established that 
+	# sort thinks there is more than one input line there.   We have 
+	# to make sort -c do its thing with the input lines in the wrong 
+	# order to determine that (we can't do it in one shot because 
+	# if sort returns nonzero we cant tell that it wasn't just 
+	# complaining about this unknown -z option.
+	if $SORT -z -c < "${srcdir:-.}/m4/order-bad.bin" 2>/dev/null >/dev/null
+	then
+		# sort likes -z but it doesn't seem to make \0 
+		# a delimiter.
+		ac_sort_has_z=false
+	else
+		ac_sort_has_z=true
+	fi
+else
+	# Doesn't like the z option.
+	ac_sort_has_z=false
+fi
+if $ac_sort_has_z
+then
+	AC_MSG_RESULT([yes])
+	AC_SUBST(SORT_SUPPORTS_Z,[true])
+else
+	AC_MSG_RESULT([no])
+	AC_SUBST(SORT_SUPPORTS_Z,[false])
+fi
+])
+m4trace:m4/withfts.m4:1: -1- AC_DEFUN([FIND_WITH_FTS], [AC_ARG_WITH([fts],
+[  --without-fts           Use an older mechanism for searching the filesystem, instead of using fts()],[with_fts=$withval],[])
+  case $with_fts in 
+	yes|no) ;;
+	'')     with_fts=yes ;;
+  	*) AC_MSG_ERROR([Invalid value for --with-fts: $with_fts])
+  esac
+  AM_CONDITIONAL(WITH_FTS, [[test x"${with_fts-no}" != xno]])
+  if test x"${with_fts-no}" != xno ; then
+  	AC_DEFINE(WITH_FTS, 1, [Define if you want to use fts() to do the filesystem search.])
+  fi
+])
 m4trace:configure.in:2: -1- m4_pattern_forbid([^_?A[CHUM]_])
 m4trace:configure.in:2: -1- m4_pattern_forbid([_AC_])
 m4trace:configure.in:2: -1- m4_pattern_forbid([^LIBOBJS$], [do not use LIBOBJS directly, use AC_LIBOBJ (see section `AC_LIBOBJ vs LIBOBJS'])
@@ -4977,69 +8371,60 @@ m4trace:configure.in:2: -1- m4_pattern_a
 m4trace:configure.in:2: -1- m4_pattern_allow([^build_alias$])
 m4trace:configure.in:2: -1- m4_pattern_allow([^host_alias$])
 m4trace:configure.in:2: -1- m4_pattern_allow([^target_alias$])
-m4trace:configure.in:5: -1- m4_pattern_allow([^build$])
-m4trace:configure.in:5: -1- m4_pattern_allow([^build_cpu$])
-m4trace:configure.in:5: -1- m4_pattern_allow([^build_vendor$])
-m4trace:configure.in:5: -1- m4_pattern_allow([^build_os$])
-m4trace:configure.in:5: -1- m4_pattern_allow([^host$])
-m4trace:configure.in:5: -1- m4_pattern_allow([^host_cpu$])
-m4trace:configure.in:5: -1- m4_pattern_allow([^host_vendor$])
-m4trace:configure.in:5: -1- m4_pattern_allow([^host_os$])
-m4trace:configure.in:6: -1- AC_CONFIG_MACRO_DIR([gnulib/m4])
-m4trace:configure.in:11: -1- AM_INIT_AUTOMAKE([findutils], [4.2.18-CVS])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AM_[A-Z]+FLAGS$])
-m4trace:configure.in:11: -1- AM_SET_CURRENT_AUTOMAKE_VERSION
-m4trace:configure.in:11: -1- AM_AUTOMAKE_VERSION([1.14.1])
-m4trace:configure.in:11: -1- _AM_AUTOCONF_VERSION([2.69])
-m4trace:configure.in:11: -1- m4_pattern_allow([^INSTALL_PROGRAM$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^INSTALL_SCRIPT$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^INSTALL_DATA$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^am__isrc$])
-m4trace:configure.in:11: -1- _AM_SUBST_NOTMAKE([am__isrc])
-m4trace:configure.in:11: -1- m4_pattern_allow([^CYGPATH_W$])
-m4trace:configure.in:11: -1- _m4_warn([obsolete], [AM_INIT_AUTOMAKE: two- and three-arguments forms are deprecated.], [/usr/share/aclocal-1.14/init.m4:29: AM_INIT_AUTOMAKE is expanded from...
-configure.in:11: the top level])
-m4trace:configure.in:11: -1- m4_pattern_allow([^PACKAGE$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^VERSION$])
-m4trace:configure.in:11: -1- _AM_IF_OPTION([no-define], [], [AC_DEFINE_UNQUOTED([PACKAGE], ["$PACKAGE"], [Name of package])
+m4trace:configure.in:4: -1- AM_INIT_AUTOMAKE
+m4trace:configure.in:4: -1- m4_pattern_allow([^AM_[A-Z]+FLAGS$])
+m4trace:configure.in:4: -1- AM_SET_CURRENT_AUTOMAKE_VERSION
+m4trace:configure.in:4: -1- AM_AUTOMAKE_VERSION([1.14.1])
+m4trace:configure.in:4: -1- _AM_AUTOCONF_VERSION([2.69])
+m4trace:configure.in:4: -1- m4_pattern_allow([^INSTALL_PROGRAM$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^INSTALL_SCRIPT$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^INSTALL_DATA$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^am__isrc$])
+m4trace:configure.in:4: -1- _AM_SUBST_NOTMAKE([am__isrc])
+m4trace:configure.in:4: -1- m4_pattern_allow([^CYGPATH_W$])
+m4trace:configure.in:4: -1- _AM_SET_OPTIONS([])
+m4trace:configure.in:4: -1- m4_pattern_allow([^PACKAGE$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^VERSION$])
+m4trace:configure.in:4: -1- _AM_IF_OPTION([no-define], [], [AC_DEFINE_UNQUOTED([PACKAGE], ["$PACKAGE"], [Name of package])
  AC_DEFINE_UNQUOTED([VERSION], ["$VERSION"], [Version number of package])])
-m4trace:configure.in:11: -2- _AM_MANGLE_OPTION([no-define])
-m4trace:configure.in:11: -1- m4_pattern_allow([^PACKAGE$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^VERSION$])
-m4trace:configure.in:11: -1- AM_SANITY_CHECK
-m4trace:configure.in:11: -1- AM_MISSING_PROG([ACLOCAL], [aclocal-${am__api_version}])
-m4trace:configure.in:11: -1- AM_MISSING_HAS_RUN
-m4trace:configure.in:11: -1- AM_AUX_DIR_EXPAND
-m4trace:configure.in:11: -1- m4_pattern_allow([^ACLOCAL$])
-m4trace:configure.in:11: -1- AM_MISSING_PROG([AUTOCONF], [autoconf])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AUTOCONF$])
-m4trace:configure.in:11: -1- AM_MISSING_PROG([AUTOMAKE], [automake-${am__api_version}])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AUTOMAKE$])
-m4trace:configure.in:11: -1- AM_MISSING_PROG([AUTOHEADER], [autoheader])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AUTOHEADER$])
-m4trace:configure.in:11: -1- AM_MISSING_PROG([MAKEINFO], [makeinfo])
-m4trace:configure.in:11: -1- m4_pattern_allow([^MAKEINFO$])
-m4trace:configure.in:11: -1- AM_PROG_INSTALL_SH
-m4trace:configure.in:11: -1- m4_pattern_allow([^install_sh$])
-m4trace:configure.in:11: -1- AM_PROG_INSTALL_STRIP
-m4trace:configure.in:11: -1- m4_pattern_allow([^STRIP$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^INSTALL_STRIP_PROGRAM$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^MKDIR_P$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^mkdir_p$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AWK$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^SET_MAKE$])
-m4trace:configure.in:11: -1- AM_SET_LEADING_DOT
-m4trace:configure.in:11: -1- m4_pattern_allow([^am__leading_dot$])
-m4trace:configure.in:11: -1- _AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])], [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],
+m4trace:configure.in:4: -2- _AM_MANGLE_OPTION([no-define])
+m4trace:configure.in:4: -1- m4_pattern_allow([^PACKAGE$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^VERSION$])
+m4trace:configure.in:4: -1- AM_SANITY_CHECK
+m4trace:configure.in:4: -1- AM_MISSING_PROG([ACLOCAL], [aclocal-${am__api_version}])
+m4trace:configure.in:4: -1- AM_MISSING_HAS_RUN
+m4trace:configure.in:4: -1- AM_AUX_DIR_EXPAND
+m4trace:configure.in:4: -1- m4_pattern_allow([^ACLOCAL$])
+m4trace:configure.in:4: -1- AM_MISSING_PROG([AUTOCONF], [autoconf])
+m4trace:configure.in:4: -1- m4_pattern_allow([^AUTOCONF$])
+m4trace:configure.in:4: -1- AM_MISSING_PROG([AUTOMAKE], [automake-${am__api_version}])
+m4trace:configure.in:4: -1- m4_pattern_allow([^AUTOMAKE$])
+m4trace:configure.in:4: -1- AM_MISSING_PROG([AUTOHEADER], [autoheader])
+m4trace:configure.in:4: -1- m4_pattern_allow([^AUTOHEADER$])
+m4trace:configure.in:4: -1- AM_MISSING_PROG([MAKEINFO], [makeinfo])
+m4trace:configure.in:4: -1- m4_pattern_allow([^MAKEINFO$])
+m4trace:configure.in:4: -1- AM_PROG_INSTALL_SH
+m4trace:configure.in:4: -1- m4_pattern_allow([^install_sh$])
+m4trace:configure.in:4: -1- AM_PROG_INSTALL_STRIP
+m4trace:configure.in:4: -1- m4_pattern_allow([^STRIP$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^INSTALL_STRIP_PROGRAM$])
+m4trace:configure.in:4: -1- AC_PROG_MKDIR_P
+m4trace:configure.in:4: -1- m4_pattern_allow([^MKDIR_P$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^mkdir_p$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^AWK$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^SET_MAKE$])
+m4trace:configure.in:4: -1- AM_SET_LEADING_DOT
+m4trace:configure.in:4: -1- m4_pattern_allow([^am__leading_dot$])
+m4trace:configure.in:4: -1- _AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])], [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],
 			     [_AM_PROG_TAR([v7])])])
-m4trace:configure.in:11: -2- _AM_MANGLE_OPTION([tar-ustar])
-m4trace:configure.in:11: -1- _AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])], [_AM_PROG_TAR([v7])])
-m4trace:configure.in:11: -2- _AM_MANGLE_OPTION([tar-pax])
-m4trace:configure.in:11: -1- _AM_PROG_TAR([v7])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AMTAR$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^am__tar$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^am__untar$])
-m4trace:configure.in:11: -1- _AM_IF_OPTION([no-dependencies], [], [AC_PROVIDE_IFELSE([AC_PROG_CC],
+m4trace:configure.in:4: -2- _AM_MANGLE_OPTION([tar-ustar])
+m4trace:configure.in:4: -1- _AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])], [_AM_PROG_TAR([v7])])
+m4trace:configure.in:4: -2- _AM_MANGLE_OPTION([tar-pax])
+m4trace:configure.in:4: -1- _AM_PROG_TAR([v7])
+m4trace:configure.in:4: -1- m4_pattern_allow([^AMTAR$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^am__tar$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^am__untar$])
+m4trace:configure.in:4: -1- _AM_IF_OPTION([no-dependencies], [], [AC_PROVIDE_IFELSE([AC_PROG_CC],
 		  [_AM_DEPENDENCIES([CC])],
 		  [m4_define([AC_PROG_CC],
 			     m4_defn([AC_PROG_CC])[_AM_DEPENDENCIES([CC])])])dnl
@@ -5056,1053 +8441,2433 @@ AC_PROVIDE_IFELSE([AC_PROG_OBJCXX],
 		  [m4_define([AC_PROG_OBJCXX],
 			     m4_defn([AC_PROG_OBJCXX])[_AM_DEPENDENCIES([OBJCXX])])])dnl
 ])
-m4trace:configure.in:11: -2- _AM_MANGLE_OPTION([no-dependencies])
-m4trace:configure.in:11: -1- AM_SILENT_RULES
-m4trace:configure.in:11: -1- m4_pattern_allow([^AM_V$])
-m4trace:configure.in:11: -1- AM_SUBST_NOTMAKE([AM_V])
-m4trace:configure.in:11: -1- _AM_SUBST_NOTMAKE([AM_V])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AM_DEFAULT_V$])
-m4trace:configure.in:11: -1- AM_SUBST_NOTMAKE([AM_DEFAULT_V])
-m4trace:configure.in:11: -1- _AM_SUBST_NOTMAKE([AM_DEFAULT_V])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AM_DEFAULT_VERBOSITY$])
-m4trace:configure.in:11: -1- m4_pattern_allow([^AM_BACKSLASH$])
-m4trace:configure.in:11: -1- _AM_SUBST_NOTMAKE([AM_BACKSLASH])
-m4trace:configure.in:13: -1- m4_pattern_allow([^INCLUDES$])
-m4trace:configure.in:16: -2- m4_pattern_allow([^CACHE_IDS$])
-m4trace:configure.in:43: -1- m4_pattern_allow([^DEBUG$])
-m4trace:configure.in:44: -1- m4_pattern_allow([^DEBUG_STAT$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^CC$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^CFLAGS$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^LDFLAGS$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^LIBS$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^CPPFLAGS$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^CC$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^CC$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^CC$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^CC$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^ac_ct_CC$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^EXEEXT$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^OBJEXT$])
-m4trace:configure.in:50: -1- _AM_PROG_CC_C_O
-m4trace:configure.in:50: -1- AM_RUN_LOG([$CC -c conftest.$ac_ext -o conftest2.$ac_objext])
-m4trace:configure.in:50: -1- _AM_DEPENDENCIES([CC])
-m4trace:configure.in:50: -1- AM_SET_DEPDIR
-m4trace:configure.in:50: -1- m4_pattern_allow([^DEPDIR$])
-m4trace:configure.in:50: -1- AM_OUTPUT_DEPENDENCY_COMMANDS
-m4trace:configure.in:50: -1- AM_MAKE_INCLUDE
-m4trace:configure.in:50: -1- m4_pattern_allow([^am__include$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^am__quote$])
-m4trace:configure.in:50: -1- AM_DEP_TRACK
-m4trace:configure.in:50: -1- AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
-m4trace:configure.in:50: -1- m4_pattern_allow([^AMDEP_TRUE$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^AMDEP_FALSE$])
-m4trace:configure.in:50: -1- _AM_SUBST_NOTMAKE([AMDEP_TRUE])
-m4trace:configure.in:50: -1- _AM_SUBST_NOTMAKE([AMDEP_FALSE])
-m4trace:configure.in:50: -1- m4_pattern_allow([^AMDEPBACKSLASH$])
-m4trace:configure.in:50: -1- _AM_SUBST_NOTMAKE([AMDEPBACKSLASH])
-m4trace:configure.in:50: -1- m4_pattern_allow([^am__nodep$])
-m4trace:configure.in:50: -1- _AM_SUBST_NOTMAKE([am__nodep])
-m4trace:configure.in:50: -1- m4_pattern_allow([^CCDEPMODE$])
-m4trace:configure.in:50: -1- AM_CONDITIONAL([am__fastdepCC], [
+m4trace:configure.in:4: -2- _AM_MANGLE_OPTION([no-dependencies])
+m4trace:configure.in:4: -1- AM_SILENT_RULES
+m4trace:configure.in:4: -1- m4_pattern_allow([^AM_V$])
+m4trace:configure.in:4: -1- AM_SUBST_NOTMAKE([AM_V])
+m4trace:configure.in:4: -1- _AM_SUBST_NOTMAKE([AM_V])
+m4trace:configure.in:4: -1- m4_pattern_allow([^AM_DEFAULT_V$])
+m4trace:configure.in:4: -1- AM_SUBST_NOTMAKE([AM_DEFAULT_V])
+m4trace:configure.in:4: -1- _AM_SUBST_NOTMAKE([AM_DEFAULT_V])
+m4trace:configure.in:4: -1- m4_pattern_allow([^AM_DEFAULT_VERBOSITY$])
+m4trace:configure.in:4: -1- m4_pattern_allow([^AM_BACKSLASH$])
+m4trace:configure.in:4: -1- _AM_SUBST_NOTMAKE([AM_BACKSLASH])
+m4trace:configure.in:8: -1- m4_pattern_allow([^build$])
+m4trace:configure.in:8: -1- m4_pattern_allow([^build_cpu$])
+m4trace:configure.in:8: -1- m4_pattern_allow([^build_vendor$])
+m4trace:configure.in:8: -1- m4_pattern_allow([^build_os$])
+m4trace:configure.in:8: -1- m4_pattern_allow([^host$])
+m4trace:configure.in:8: -1- m4_pattern_allow([^host_cpu$])
+m4trace:configure.in:8: -1- m4_pattern_allow([^host_vendor$])
+m4trace:configure.in:8: -1- m4_pattern_allow([^host_os$])
+m4trace:configure.in:9: -1- AC_CONFIG_MACRO_DIR([gnulib/m4])
+m4trace:configure.in:14: -1- m4_pattern_allow([^INCLUDES$])
+m4trace:configure.in:15: -1- m4_pattern_allow([^AUXDIR$])
+m4trace:configure.in:17: -1- FIND_WITH_FTS
+m4trace:configure.in:17: -1- AM_CONDITIONAL([WITH_FTS], [[test x"${with_fts-no}" != xno]])
+m4trace:configure.in:17: -1- m4_pattern_allow([^WITH_FTS_TRUE$])
+m4trace:configure.in:17: -1- m4_pattern_allow([^WITH_FTS_FALSE$])
+m4trace:configure.in:17: -1- _AM_SUBST_NOTMAKE([WITH_FTS_TRUE])
+m4trace:configure.in:17: -1- _AM_SUBST_NOTMAKE([WITH_FTS_FALSE])
+m4trace:configure.in:17: -1- m4_pattern_allow([^WITH_FTS$])
+m4trace:configure.in:21: -2- m4_pattern_allow([^CACHE_IDS$])
+m4trace:configure.in:52: -1- m4_pattern_allow([^DEBUG$])
+m4trace:configure.in:53: -1- m4_pattern_allow([^DEBUG_STAT$])
+m4trace:configure.in:61: -1- m4_pattern_allow([^LEAF_OPTIMISATION$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^CC$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^CFLAGS$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^LDFLAGS$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^LIBS$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^CPPFLAGS$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^CC$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^CC$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^CC$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^CC$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^ac_ct_CC$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^EXEEXT$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^OBJEXT$])
+m4trace:configure.in:67: -1- _AM_PROG_CC_C_O
+m4trace:configure.in:67: -1- AM_RUN_LOG([$CC -c conftest.$ac_ext -o conftest2.$ac_objext])
+m4trace:configure.in:67: -1- _AM_DEPENDENCIES([CC])
+m4trace:configure.in:67: -1- AM_SET_DEPDIR
+m4trace:configure.in:67: -1- m4_pattern_allow([^DEPDIR$])
+m4trace:configure.in:67: -1- AM_OUTPUT_DEPENDENCY_COMMANDS
+m4trace:configure.in:67: -1- AM_MAKE_INCLUDE
+m4trace:configure.in:67: -1- m4_pattern_allow([^am__include$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^am__quote$])
+m4trace:configure.in:67: -1- AM_DEP_TRACK
+m4trace:configure.in:67: -1- AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
+m4trace:configure.in:67: -1- m4_pattern_allow([^AMDEP_TRUE$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^AMDEP_FALSE$])
+m4trace:configure.in:67: -1- _AM_SUBST_NOTMAKE([AMDEP_TRUE])
+m4trace:configure.in:67: -1- _AM_SUBST_NOTMAKE([AMDEP_FALSE])
+m4trace:configure.in:67: -1- m4_pattern_allow([^AMDEPBACKSLASH$])
+m4trace:configure.in:67: -1- _AM_SUBST_NOTMAKE([AMDEPBACKSLASH])
+m4trace:configure.in:67: -1- m4_pattern_allow([^am__nodep$])
+m4trace:configure.in:67: -1- _AM_SUBST_NOTMAKE([am__nodep])
+m4trace:configure.in:67: -1- m4_pattern_allow([^CCDEPMODE$])
+m4trace:configure.in:67: -1- AM_CONDITIONAL([am__fastdepCC], [
   test "x$enable_dependency_tracking" != xno \
   && test "$am_cv_CC_dependencies_compiler_type" = gcc3])
-m4trace:configure.in:50: -1- m4_pattern_allow([^am__fastdepCC_TRUE$])
-m4trace:configure.in:50: -1- m4_pattern_allow([^am__fastdepCC_FALSE$])
-m4trace:configure.in:50: -1- _AM_SUBST_NOTMAKE([am__fastdepCC_TRUE])
-m4trace:configure.in:50: -1- _AM_SUBST_NOTMAKE([am__fastdepCC_FALSE])
-m4trace:configure.in:51: -1- m4_pattern_allow([^CPP$])
-m4trace:configure.in:51: -1- m4_pattern_allow([^CPPFLAGS$])
-m4trace:configure.in:51: -1- m4_pattern_allow([^CPP$])
-m4trace:configure.in:53: -1- _m4_warn([obsolete], [The macro `AC_AIX' is obsolete.
+m4trace:configure.in:67: -1- m4_pattern_allow([^am__fastdepCC_TRUE$])
+m4trace:configure.in:67: -1- m4_pattern_allow([^am__fastdepCC_FALSE$])
+m4trace:configure.in:67: -1- _AM_SUBST_NOTMAKE([am__fastdepCC_TRUE])
+m4trace:configure.in:67: -1- _AM_SUBST_NOTMAKE([am__fastdepCC_FALSE])
+m4trace:configure.in:68: -1- m4_pattern_allow([^CPP$])
+m4trace:configure.in:68: -1- m4_pattern_allow([^CPPFLAGS$])
+m4trace:configure.in:68: -1- m4_pattern_allow([^CPP$])
+m4trace:configure.in:70: -1- _m4_warn([obsolete], [The macro `AC_AIX' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/specific.m4:436: AC_AIX is expanded from...
-configure.in:53: the top level])
-m4trace:configure.in:53: -1- AC_PROG_EGREP
-m4trace:configure.in:53: -1- m4_pattern_allow([^GREP$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^EGREP$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^STDC_HEADERS$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^_POSIX_SOURCE$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^_POSIX_1_SOURCE$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^_MINIX$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^__EXTENSIONS__$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^_ALL_SOURCE$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^_GNU_SOURCE$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^_POSIX_PTHREAD_SEMANTICS$])
-m4trace:configure.in:53: -1- m4_pattern_allow([^_TANDEM_SOURCE$])
-m4trace:configure.in:58: -1- gl_EARLY
-m4trace:configure.in:58: -1- _m4_warn([obsolete], [The macro `AC_GNU_SOURCE' is obsolete.
+configure.in:70: the top level])
+m4trace:configure.in:70: -1- AC_USE_SYSTEM_EXTENSIONS
+m4trace:configure.in:70: -1- AC_PROG_EGREP
+m4trace:configure.in:70: -1- m4_pattern_allow([^GREP$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^EGREP$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^STDC_HEADERS$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^_POSIX_SOURCE$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^_POSIX_1_SOURCE$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^_MINIX$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^__EXTENSIONS__$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^_ALL_SOURCE$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^_GNU_SOURCE$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^_POSIX_PTHREAD_SEMANTICS$])
+m4trace:configure.in:70: -1- m4_pattern_allow([^_TANDEM_SOURCE$])
+m4trace:configure.in:75: -1- gl_EARLY
+m4trace:configure.in:75: -1- m4_pattern_forbid([^gl_[A-Z]])
+m4trace:configure.in:75: -1- m4_pattern_allow([^gl_ES$])
+m4trace:configure.in:75: -1- m4_pattern_allow([^gl_LIBOBJS$])
+m4trace:configure.in:75: -1- m4_pattern_allow([^gl_LTLIBOBJS$])
+m4trace:configure.in:75: -1- m4_pattern_allow([^RANLIB$])
+m4trace:configure.in:75: -1- _m4_warn([obsolete], [The macro `AC_GNU_SOURCE' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/specific.m4:314: AC_GNU_SOURCE is expanded from...
-gnulib/m4/gnulib.m4:13: gl_EARLY is expanded from...
-configure.in:58: the top level])
-m4trace:configure.in:58: -1- gl_USE_SYSTEM_EXTENSIONS
-m4trace:configure.in:58: -1- _m4_warn([syntax], [AC_COMPILE_IFELSE was called before gl_USE_SYSTEM_EXTENSIONS], [gnulib/m4/extensions.m4:12: gl_USE_SYSTEM_EXTENSIONS is expanded from...
-gnulib/m4/gnulib.m4:13: gl_EARLY is expanded from...
-configure.in:58: the top level])
-m4trace:configure.in:58: -1- _m4_warn([syntax], [AC_RUN_IFELSE was called before gl_USE_SYSTEM_EXTENSIONS], [gnulib/m4/extensions.m4:12: gl_USE_SYSTEM_EXTENSIONS is expanded from...
-gnulib/m4/gnulib.m4:13: gl_EARLY is expanded from...
-configure.in:58: the top level])
-m4trace:configure.in:58: -1- _m4_warn([obsolete], [The macro `AC_MINIX' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/specific.m4:441: AC_MINIX is expanded from...
-gnulib/m4/extensions.m4:12: gl_USE_SYSTEM_EXTENSIONS is expanded from...
-gnulib/m4/gnulib.m4:13: gl_EARLY is expanded from...
-configure.in:58: the top level])
-m4trace:configure.in:58: -1- m4_pattern_allow([^__EXTENSIONS__$])
-m4trace:configure.in:62: -1- AC_ISC_POSIX
-m4trace:configure.in:66: -1- m4_pattern_allow([^RANLIB$])
-m4trace:configure.in:68: -1- m4_pattern_allow([^SET_MAKE$])
-m4trace:configure.in:69: -1- m4_pattern_allow([^_FILE_OFFSET_BITS$])
-m4trace:configure.in:69: -1- m4_pattern_allow([^_LARGE_FILES$])
-m4trace:configure.in:72: -1- gl_INIT
-m4trace:configure.in:72: -1- gl_FUNC_ALLOCA
-m4trace:configure.in:72: -1- m4_pattern_allow([^size_t$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_ALLOCA$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^ALLOCA$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^C_ALLOCA$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^CRAY_STACKSEG_END$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^STACK_DIRECTION$])
-m4trace:configure.in:72: -1- gl_PREREQ_ALLOCA
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_ALLOCA$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^ALLOCA_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
-m4trace:configure.in:72: -1- gl_FUNC_ATEXIT
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_ATEXIT$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_ATEXIT
-m4trace:configure.in:72: -1- AC_FUNC_CANONICALIZE_FILE_NAME
-m4trace:configure.in:72: -1- m4_pattern_allow([^STAT_MACROS_BROKEN$])
-m4trace:configure.in:72: -1- gl_CLOSEOUT
-m4trace:configure.in:72: -1- gl_DIRNAME
-m4trace:configure.in:72: -1- gl_AC_DOS
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+gnulib/m4/gnulib-comp.m4:21: gl_EARLY is expanded from...
+configure.in:75: the top level])
+m4trace:configure.in:75: -1- AC_USE_SYSTEM_EXTENSIONS
+m4trace:configure.in:75: -1- gl_USE_SYSTEM_EXTENSIONS
+m4trace:configure.in:79: -1- _m4_warn([obsolete], [The macro `AC_ISC_POSIX' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/specific.m4:446: AC_ISC_POSIX is expanded from...
+configure.in:79: the top level])
+m4trace:configure.in:83: -1- m4_pattern_allow([^RANLIB$])
+m4trace:configure.in:85: -1- m4_pattern_allow([^SET_MAKE$])
+m4trace:configure.in:86: -1- m4_pattern_allow([^_FILE_OFFSET_BITS$])
+m4trace:configure.in:86: -1- m4_pattern_allow([^_LARGE_FILES$])
+m4trace:configure.in:89: -1- gl_INIT
+m4trace:configure.in:89: -1- AM_CONDITIONAL([GL_COND_LIBTOOL], [false])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GL_COND_LIBTOOL_TRUE$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GL_COND_LIBTOOL_FALSE$])
+m4trace:configure.in:89: -1- _AM_SUBST_NOTMAKE([GL_COND_LIBTOOL_TRUE])
+m4trace:configure.in:89: -1- _AM_SUBST_NOTMAKE([GL_COND_LIBTOOL_FALSE])
+m4trace:configure.in:89: -1- gl_FUNC_ALLOCA
+m4trace:configure.in:89: -1- m4_pattern_allow([^size_t$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_ALLOCA$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ALLOCA$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^C_ALLOCA$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^CRAY_STACKSEG_END$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^STACK_DIRECTION$])
+m4trace:configure.in:89: -1- gl_PREREQ_ALLOCA
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_ALLOCA$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ALLOCA_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
+m4trace:configure.in:89: -1- gl_ALLOCSA
+m4trace:configure.in:89: -1- gl_EEMALLOC
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STDLIB_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MALLOC_0_IS_NONNULL$])
+m4trace:configure.in:89: -1- AC_TYPE_LONG_LONG_INT
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_LONG_LONG_INT$])
+m4trace:configure.in:89: -1- gt_TYPE_LONGDOUBLE
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/dos.m4:13: gl_AC_DOS is expanded from...
-gnulib/m4/dirname.m4:7: gl_DIRNAME is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^FILE_SYSTEM_ACCEPTS_DRIVE_LETTER_PREFIX$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^FILE_SYSTEM_BACKSLASH_IS_FILE_NAME_SEPARATOR$])
-m4trace:configure.in:72: -1- gl_ERROR
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_ERROR
-m4trace:configure.in:72: -1- AC_FUNC_STRERROR_R
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_STRERROR_R$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRERROR_R$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^STRERROR_R_CHAR_P$])
-m4trace:configure.in:72: -1- gl_EXITFAIL
-m4trace:configure.in:72: -1- gl_FILEBLOCKS
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_BLOCKS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_ST_BLOCKS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_FILEBLOCKS
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([sys/param.h unistd.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_sys_param_h], [
+gnulib/m4/longdouble.m4:14: gt_TYPE_LONGDOUBLE is expanded from...
+gnulib/m4/allocsa.m4:7: gl_ALLOCSA is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_LONG_DOUBLE$])
+m4trace:configure.in:89: -1- gl_ARGMATCH
+m4trace:configure.in:89: -1- AC_FUNC_CANONICALIZE_FILE_NAME
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/param.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_param_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/canonicalize.m4:10: AC_FUNC_CANONICALIZE_FILE_NAME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([canonicalize_file_name])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_canonicalize_file_name], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_CANONICALIZE_FILE_NAME$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/canonicalize.m4:10: AC_FUNC_CANONICALIZE_FILE_NAME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([canonicalize_file_name resolvepath])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_canonicalize_file_name], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_resolvepath], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/canonicalize.m4:10: AC_FUNC_CANONICALIZE_FILE_NAME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_MODULE_INDICATOR([canonicalize])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_CANONICALIZE$])
+m4trace:configure.in:89: -1- gl_FUNC_CHDIR_LONG
+m4trace:configure.in:89: -1- gl_PREREQ_CHDIR_LONG
+m4trace:configure.in:89: -1- gl_FUNC_CHOWN
+m4trace:configure.in:89: -1- gl_UNISTD_H_DEFAULTS
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_CHOWN$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_DUP2$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_FCHDIR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_FTRUNCATE$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_GETCWD$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_GETLOGIN_R$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_READLINK$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DUP2$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_FTRUNCATE$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_READLINK$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_GETLOGIN_R$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_CHOWN$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_FCHDIR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_GETCWD$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^uid_t$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^gid_t$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_UNISTD_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_CHOWN$])
+m4trace:configure.in:89: -1- gl_FUNC_CHOWN_FOLLOWS_SYMLINK
+m4trace:configure.in:89: -1- m4_pattern_allow([^CHOWN_MODIFIES_SYMLINK$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^CHOWN_FAILS_TO_HONOR_ID_OF_NEGATIVE_ONE$])
+m4trace:configure.in:89: -1- gl_PREREQ_CHOWN
+m4trace:configure.in:89: -1- gl_UNISTD_MODULE_INDICATOR([chown])
+m4trace:configure.in:89: -1- gl_CLOCK_TIME
+m4trace:configure.in:89: -1- m4_pattern_allow([^LIB_CLOCK_GETTIME$])
+m4trace:configure.in:89: -1- gl_CLOSE_STREAM
+m4trace:configure.in:89: -1- gl_MODULE_INDICATOR([close-stream])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_CLOSE_STREAM$])
+m4trace:configure.in:89: -1- gl_CLOSEOUT
+m4trace:configure.in:89: -1- gl_CYCLE_CHECK
+m4trace:configure.in:89: -1- gl_CHECK_TYPE_STRUCT_DIRENT_D_INO
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/d-ino.m4:15: gl_CHECK_TYPE_STRUCT_DIRENT_D_INO is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^D_INO_IN_DIRENT$])
+m4trace:configure.in:89: -1- gl_CHECK_TYPE_STRUCT_DIRENT_D_TYPE
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/d-type.m4:15: gl_CHECK_TYPE_STRUCT_DIRENT_D_TYPE is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_DIRENT_D_TYPE$])
+m4trace:configure.in:89: -1- gl_FUNC_DIRFD
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DIRFD$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_DIRFD$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DIRFD$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/dirfd.m4:13: gl_FUNC_DIRFD is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^DIR_FD_MEMBER_NAME$])
+m4trace:configure.in:89: -1- gl_DIRNAME
+m4trace:configure.in:89: -1- gl_AC_DOS
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/dos.m4:13: gl_AC_DOS is expanded from...
+gnulib/m4/dirname.m4:7: gl_DIRNAME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/dos.m4:13: gl_AC_DOS is expanded from...
+gnulib/m4/dirname.m4:7: gl_DIRNAME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^FILE_SYSTEM_ACCEPTS_DRIVE_LETTER_PREFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^FILE_SYSTEM_BACKSLASH_IS_FILE_NAME_SEPARATOR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE$])
+m4trace:configure.in:89: -1- gl_DOUBLE_SLASH_ROOT
+m4trace:configure.in:89: -1- m4_pattern_allow([^DOUBLE_SLASH_IS_DISTINCT_ROOT$])
+m4trace:configure.in:89: -1- gl_DOUBLE_SLASH_ROOT
+m4trace:configure.in:89: -1- m4_pattern_allow([^DOUBLE_SLASH_IS_DISTINCT_ROOT$])
+m4trace:configure.in:89: -1- gl_ERROR
+m4trace:configure.in:89: -1- gl_PREREQ_ERROR
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRERROR_R$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRERROR_R$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^STRERROR_R_CHAR_P$])
+m4trace:configure.in:89: -1- gl_EXITFAIL
+m4trace:configure.in:89: -1- gl_FCNTL_H
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_WORKING_O_NOATIME$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_WORKING_O_NOFOLLOW$])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([fcntl.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([fcntl.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_fcntl_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/fileblocks.m4:17: gl_PREREQ_FILEBLOCKS is expanded from...
-gnulib/m4/fileblocks.m4:7: gl_FILEBLOCKS is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_FILEMODE
-m4trace:configure.in:72: -1- gl_FUNC_FNMATCH_GNU
-m4trace:configure.in:72: -1- _AC_FUNC_FNMATCH_IF([GNU], [ac_cv_func_fnmatch_gnu], [rm -f lib/fnmatch.h], [_AC_LIBOBJ_FNMATCH])
-m4trace:configure.in:72: -1- _AC_LIBOBJ_FNMATCH
-m4trace:configure.in:72: -1- m4_pattern_allow([^const$])
-m4trace:configure.in:72: -1- AC_TYPE_MBSTATE_T
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_MBSTATE_T$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^mbstate_t$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_GETENV$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^fnmatch$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^FNMATCH_H$])
-m4trace:configure.in:72: -1- gl_FUNC_FPENDING
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STDIO_EXT_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE___FPENDING$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL___FPENDING$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/fpending.m4:16: gl_FUNC_FPENDING is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^PENDING_OUTPUT_N_BYTES$])
-m4trace:configure.in:72: -1- gl_FUNC_GETCWD
-m4trace:configure.in:72: -1- gl_FUNC_GETCWD_NULL
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([unistd.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/fcntl_h.m4:9: gl_FCNTL_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_FCNTL_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/fcntl_h.m4:9: gl_FCNTL_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_FCNTL_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^FCNTL_H$])
+m4trace:configure.in:89: -1- gl_FCNTL_SAFER
+m4trace:configure.in:89: -1- gl_MODULE_INDICATOR([fcntl-safer])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_FCNTL_SAFER$])
+m4trace:configure.in:89: -1- gl_FILEBLOCKS
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_BLOCKS$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_ST_BLOCKS$])
+m4trace:configure.in:89: -1- gl_PREREQ_FILEBLOCKS
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/param.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_param_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/getcwd.m4:10: gl_FUNC_GETCWD_NULL is expanded from...
-gnulib/m4/getcwd.m4:40: gl_FUNC_GETCWD is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_RUN' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2764: AC_TRY_RUN is expanded from...
+gnulib/m4/fileblocks.m4:17: gl_PREREQ_FILEBLOCKS is expanded from...
+gnulib/m4/fileblocks.m4:7: gl_FILEBLOCKS is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_FILEMODE
+m4trace:configure.in:89: -1- AC_STRUCT_ST_DM_MODE
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/getcwd.m4:10: gl_FUNC_GETCWD_NULL is expanded from...
-gnulib/m4/getcwd.m4:40: gl_FUNC_GETCWD is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_FUNC_GETCWD_PATH_MAX
-m4trace:configure.in:72: -1- AC_CHECK_DECLS_ONCE([getcwd])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_DECL_getcwd], [
+gnulib/m4/st_dm_mode.m4:10: AC_STRUCT_ST_DM_MODE is expanded from...
+gnulib/m4/filemode.m4:7: gl_FILEMODE is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_ST_DM_MODE$])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([strmode])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_strmode], [
       AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
     ])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_GETCWD$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRMODE$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
-gnulib/m4/getcwd-path-max.m4:16: gl_FUNC_GETCWD_PATH_MAX is expanded from...
-gnulib/m4/getcwd.m4:40: gl_FUNC_GETCWD is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([fcntl.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_fcntl_h], [
+gnulib/m4/filemode.m4:7: gl_FILEMODE is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_FILE_NAME_CONCAT
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([mempcpy])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_mempcpy], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/filenamecat.m4:7: gl_FILE_NAME_CONCAT is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_C_FLEXIBLE_ARRAY_MEMBER
+m4trace:configure.in:89: -1- m4_pattern_allow([^FLEXIBLE_ARRAY_MEMBER$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^FLEXIBLE_ARRAY_MEMBER$])
+m4trace:configure.in:89: -1- gl_FUNC_FNMATCH_GNU
+m4trace:configure.in:89: -1- _AC_FUNC_FNMATCH_IF([GNU], [ac_cv_func_fnmatch_gnu], [rm -f lib/fnmatch.h], [_AC_LIBOBJ_FNMATCH])
+m4trace:configure.in:89: -1- _AC_LIBOBJ_FNMATCH
+m4trace:configure.in:89: -1- AC_TYPE_MBSTATE_T
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MBSTATE_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^mbstate_t$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_ISBLANK$])
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([btowc iswctype mbsrtowcs mempcpy wmemchr wmemcpy wmempcpy])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_btowc], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_iswctype], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_mbsrtowcs], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_mempcpy], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_wmemchr], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_wmemcpy], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_wmempcpy], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/fnmatch.m4:82: _AC_LIBOBJ_FNMATCH is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+gnulib/m4/fnmatch.m4:16: _AC_FUNC_FNMATCH_IF is expanded from...
+gnulib/m4/fnmatch.m4:110: gl_FUNC_FNMATCH_GNU is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([wctype.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_wctype_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/getcwd-path-max.m4:16: gl_FUNC_GETCWD_PATH_MAX is expanded from...
-gnulib/m4/getcwd.m4:40: gl_FUNC_GETCWD is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_PARTLY_WORKING_GETCWD$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^__GETCWD_PREFIX$])
-m4trace:configure.in:72: -1- gl_PREREQ_GETCWD
-m4trace:configure.in:72: -1- gl_CHECK_TYPE_STRUCT_DIRENT_D_INO
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
+gnulib/m4/fnmatch.m4:82: _AC_LIBOBJ_FNMATCH is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+gnulib/m4/fnmatch.m4:16: _AC_FUNC_FNMATCH_IF is expanded from...
+gnulib/m4/fnmatch.m4:110: gl_FUNC_FNMATCH_GNU is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^fnmatch$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^FNMATCH_H$])
+m4trace:configure.in:89: -1- gl_FOPEN_SAFER
+m4trace:configure.in:89: -1- gl_MODULE_INDICATOR([fopen-safer])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_FOPEN_SAFER$])
+m4trace:configure.in:89: -1- gl_FUNC_FPENDING
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([stdio_ext.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_stdio_ext_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/fpending.m4:16: gl_FUNC_FPENDING is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE___FPENDING$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL___FPENDING$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/d-ino.m4:15: gl_CHECK_TYPE_STRUCT_DIRENT_D_INO is expanded from...
-gnulib/m4/getcwd.m4:59: gl_PREREQ_GETCWD is expanded from...
-gnulib/m4/getcwd.m4:40: gl_FUNC_GETCWD is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^D_INO_IN_DIRENT$])
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([fcntl.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_fcntl_h], [
+gnulib/m4/fpending.m4:16: gl_FUNC_FPENDING is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^PENDING_OUTPUT_N_BYTES$])
+m4trace:configure.in:89: -1- gl_FUNC_FTS
+m4trace:configure.in:89: -1- gl_FUNC_FTS_CORE
+m4trace:configure.in:89: -1- gl_FUNC_OPENAT
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([lchmod])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_lchmod], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/openat.m4:11: gl_FUNC_OPENAT is expanded from...
+gnulib/m4/fts.m4:17: gl_FUNC_FTS_CORE is expanded from...
+gnulib/m4/fts.m4:7: gl_FUNC_FTS is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([fdopendir])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_fdopendir], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/openat.m4:11: gl_FUNC_OPENAT is expanded from...
+gnulib/m4/fts.m4:17: gl_FUNC_FTS_CORE is expanded from...
+gnulib/m4/fts.m4:7: gl_FUNC_FTS is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- m4_pattern_allow([^__OPENAT_PREFIX$])
+m4trace:configure.in:89: -1- gl_PREREQ_OPENAT
+m4trace:configure.in:89: -1- gl_FUNC_FCHOWNAT
+m4trace:configure.in:89: -1- gl_FUNC_FCHOWNAT_DEREF_BUG([have_fchownat_bug=yes])
+m4trace:configure.in:89: -1- m4_pattern_allow([^fchownat$])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/param.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_param_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/getcwd.m4:59: gl_PREREQ_GETCWD is expanded from...
-gnulib/m4/getcwd.m4:40: gl_FUNC_GETCWD is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- AM_FUNC_GETLINE
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_RUN' is obsolete.
+gnulib/m4/fts.m4:17: gl_FUNC_FTS_CORE is expanded from...
+gnulib/m4/fts.m4:7: gl_FUNC_FTS is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_MODULE_INDICATOR([fts])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_FTS$])
+m4trace:configure.in:89: -1- gl_FUNC_GETCWD
+m4trace:configure.in:89: -1- gl_FUNC_GETCWD_NULL
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_RUN' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2764: AC_TRY_RUN is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/getline.m4:16: AM_FUNC_GETLINE is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^getline$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_GETLINE
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_GETDELIM$])
-m4trace:configure.in:72: -1- gl_PREREQ_GETNDELIM2
-m4trace:configure.in:72: -1- gt_TYPE_SSIZE_T
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+gnulib/m4/getcwd.m4:10: gl_FUNC_GETCWD_NULL is expanded from...
+gnulib/m4/getcwd.m4:37: gl_FUNC_GETCWD is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_FUNC_GETCWD_PATH_MAX
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([getcwd])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_getcwd], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_GETCWD$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/getcwd-path-max.m4:16: gl_FUNC_GETCWD_PATH_MAX is expanded from...
+gnulib/m4/getcwd.m4:37: gl_FUNC_GETCWD is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_PARTLY_WORKING_GETCWD$])
+m4trace:configure.in:89: -1- gl_FUNC_GETCWD_ABORT_BUG([gl_abort_bug=yes])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([getcwd])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_getcwd], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/getcwd-abort-bug.m4:14: gl_FUNC_GETCWD_ABORT_BUG is expanded from...
+gnulib/m4/getcwd.m4:37: gl_FUNC_GETCWD is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_GETPAGESIZE$])
+m4trace:configure.in:89: -1- gl_PREREQ_GETCWD
+m4trace:configure.in:89: -1- gl_UNISTD_MODULE_INDICATOR([getcwd])
+m4trace:configure.in:89: -1- gl_GETDATE
+m4trace:configure.in:89: -1- AM_STDBOOL_H
+m4trace:configure.in:89: -1- AC_HEADER_STDBOOL
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/ssize_t.m4:10: gt_TYPE_SSIZE_T is expanded from...
-gnulib/m4/getndelim2.m4:20: gl_PREREQ_GETNDELIM2 is expanded from...
-gnulib/m4/getline.m4:16: AM_FUNC_GETLINE is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^ssize_t$])
-m4trace:configure.in:72: -1- gl_GETOPT
-m4trace:configure.in:72: -1- gl_PREREQ_GETOPT
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_GETOPT_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_GETOPT_LONG_ONLY$])
-m4trace:configure.in:72: -1- gl_GETOPT_SUBSTITUTE
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^__GETOPT_PREFIX$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^GETOPT_H$])
-m4trace:configure.in:72: -1- AC_FUNC_GETTIMEOFDAY_CLOBBER
-m4trace:configure.in:72: -1- m4_pattern_allow([^TIME_WITH_SYS_TIME$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_RUN' is obsolete.
+gnulib/m4/stdbool.m4:37: AC_HEADER_STDBOOL is expanded from...
+gnulib/m4/stdbool.m4:10: AM_STDBOOL_H is expanded from...
+gnulib/m4/getdate.m4:21: gl_GETDATE is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE__BOOL$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STDBOOL_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^STDBOOL_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE__BOOL$])
+m4trace:configure.in:89: -1- gl_TIMESPEC
+m4trace:configure.in:89: -1- gl_BISON
+m4trace:configure.in:89: -1- m4_pattern_allow([^YACC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^YFLAGS$])
+m4trace:configure.in:89: -1- gl_C_COMPOUND_LITERALS
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/getdate.m4:7: gl_C_COMPOUND_LITERALS is expanded from...
+gnulib/m4/getdate.m4:21: gl_GETDATE is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_COMPOUND_LITERALS$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^TM_IN_SYS_TIME$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_TM_TM_ZONE$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_TM_ZONE$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_TZNAME$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_TZNAME$])
+m4trace:configure.in:89: -1- gl_TM_GMTOFF
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_TM_GMTOFF$])
+m4trace:configure.in:89: -1- gl_FUNC_GETDELIM
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_GETDELIM$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([getdelim])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_getdelim], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_GETDELIM$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/getdelim.m4:11: gl_FUNC_GETDELIM is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_PREREQ_GETDELIM
+m4trace:configure.in:89: -1- gl_FUNC_GETLINE
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_GETLINE$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_RUN' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2764: AC_TRY_RUN is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/gettimeofday.m4:17: AC_FUNC_GETTIMEOFDAY_CLOBBER is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_GETTIMEOFDAY_REPLACE_LOCALTIME
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^gmtime$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^localtime$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^gettimeofday$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^GETTIMEOFDAY_CLOBBERS_LOCALTIME_BUFFER$])
-m4trace:configure.in:72: -1- gl_PREREQ_GETTIMEOFDAY
-m4trace:configure.in:72: -1- gl_HUMAN
-m4trace:configure.in:72: -1- AM_STDBOOL_H
-m4trace:configure.in:72: -1- AC_HEADER_STDBOOL
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+gnulib/m4/getline.m4:16: gl_FUNC_GETLINE is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^getline$])
+m4trace:configure.in:89: -1- gl_PREREQ_GETLINE
+m4trace:configure.in:89: -1- gl_FUNC_GETDELIM
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_GETDELIM$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([getdelim])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_getdelim], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/getdelim.m4:11: gl_FUNC_GETDELIM is expanded from...
+gnulib/m4/getline.m4:76: gl_PREREQ_GETLINE is expanded from...
+gnulib/m4/getline.m4:16: gl_FUNC_GETLINE is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_PREREQ_GETDELIM
+m4trace:configure.in:89: -1- gl_GETOPT
+m4trace:configure.in:89: -1- gl_GETOPT_IFELSE([gl_GETOPT_SUBSTITUTE])
+m4trace:configure.in:89: -1- gl_GETOPT_CHECK_HEADERS
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_GETOPT_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_GETOPT_LONG_ONLY$])
+m4trace:configure.in:89: -1- gl_GETOPT_SUBSTITUTE
+m4trace:configure.in:89: -1- gl_GETOPT_SUBSTITUTE_HEADER
+m4trace:configure.in:89: -1- m4_pattern_allow([^__GETOPT_PREFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GETOPT_H$])
+m4trace:configure.in:89: -1- gl_PREREQ_GETOPT
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([getenv])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_getenv], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_GETENV$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/getopt.m4:80: gl_PREREQ_GETOPT is expanded from...
+gnulib/m4/getopt.m4:11: gl_GETOPT_SUBSTITUTE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+gnulib/m4/getopt.m4:71: gl_GETOPT_IFELSE is expanded from...
+gnulib/m4/getopt.m4:77: gl_GETOPT is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AM_GNU_GETTEXT_VERSION([0.16.1])
+m4trace:configure.in:89: -1- gl_GETTIME
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([gettimeofday nanotime])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_gettimeofday], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_nanotime], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/gettime.m4:7: gl_GETTIME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_FUNC_GETTIMEOFDAY
+m4trace:configure.in:89: -1- m4_pattern_allow([^restrict$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^restrict$])
+m4trace:configure.in:89: -1- gl_HEADER_SYS_TIME_H
+m4trace:configure.in:89: -1- gl_HEADER_SYS_TIME_H_BODY
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/time.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_time_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/sys_time_h.m4:18: gl_HEADER_SYS_TIME_H_BODY is expanded from...
+gnulib/m4/sys_time_h.m4:10: gl_HEADER_SYS_TIME_H is expanded from...
+gnulib/m4/gettimeofday.m4:10: gl_FUNC_GETTIMEOFDAY is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([sys/time.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/time.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_time_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/stdbool.m4:34: AC_HEADER_STDBOOL is expanded from...
-gnulib/m4/stdbool.m4:10: AM_STDBOOL_H is expanded from...
-gnulib/m4/human.m4:7: gl_HUMAN is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE__BOOL$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STDBOOL_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^STDBOOL_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE__BOOL$])
-m4trace:configure.in:72: -1- gl_AC_TYPE_UINTMAX_T
-m4trace:configure.in:72: -1- gl_AC_HEADER_INTTYPES_H
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/sys_time_h.m4:18: gl_HEADER_SYS_TIME_H_BODY is expanded from...
+gnulib/m4/sys_time_h.m4:10: gl_HEADER_SYS_TIME_H is expanded from...
+gnulib/m4/gettimeofday.m4:10: gl_FUNC_GETTIMEOFDAY is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_SYS_TIME_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/sys_time_h.m4:18: gl_HEADER_SYS_TIME_H_BODY is expanded from...
+gnulib/m4/sys_time_h.m4:10: gl_HEADER_SYS_TIME_H is expanded from...
+gnulib/m4/gettimeofday.m4:10: gl_FUNC_GETTIMEOFDAY is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_SYS_TIME_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_TIME_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_TIMEVAL$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_GETTIMEOFDAY$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^SYS_TIME_H$])
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([gettimeofday])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_gettimeofday], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/gettimeofday.m4:10: gl_FUNC_GETTIMEOFDAY is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_FUNC_GETTIMEOFDAY_CLOBBER
+m4trace:configure.in:89: -1- gl_GETTIMEOFDAY_REPLACE_LOCALTIME
+m4trace:configure.in:89: -1- gl_PREREQ_GETTIMEOFDAY
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_TIMEB_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE__FTIME$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^gmtime$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^localtime$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GETTIMEOFDAY_CLOBBERS_LOCALTIME$])
+m4trace:configure.in:89: -1- gl_PREREQ_GETTIMEOFDAY
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_TIMEB_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE__FTIME$])
+m4trace:configure.in:89: -1- gl_HASH
+m4trace:configure.in:89: -1- gl_HUMAN
+m4trace:configure.in:89: -1- gl_I_RING
+m4trace:configure.in:89: -1- gl_IDCACHE
+m4trace:configure.in:89: -1- gl_INLINE
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_INLINE$])
+m4trace:configure.in:89: -1- gl_INTTYPES_H
+m4trace:configure.in:89: -1- gl_STDINT_H
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_LONG_LONG_INT$])
+m4trace:configure.in:89: -1- AC_TYPE_UNSIGNED_LONG_LONG_INT
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_UNSIGNED_LONG_LONG_INT$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_UNSIGNED_LONG_LONG_INT$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_INTTYPES_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_TYPES_H$])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([stdint.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([stdint.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_stdint_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/inttypes_h.m4:12: gl_AC_HEADER_INTTYPES_H is expanded from...
-gnulib/m4/uintmax_t.m4:14: gl_AC_TYPE_UINTMAX_T is expanded from...
-gnulib/m4/human.m4:7: gl_HUMAN is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_INTTYPES_H_WITH_UINTMAX$])
-m4trace:configure.in:72: -1- gl_AC_HEADER_STDINT_H
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_STDINT_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_STDINT_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STDINT_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_INTTYPES_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_BITYPES_H$])
+m4trace:configure.in:89: -1- gl_STDINT_TYPE_PROPERTIES
+m4trace:configure.in:89: -1- gl_STDINT_BITSIZEOF([ptrdiff_t sig_atomic_t size_t wchar_t wint_t], [gl_STDINT_INCLUDES])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:213: gl_STDINT_BITSIZEOF is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_COMPUTE_INT([result], [sizeof ($gltype) * CHAR_BIT], [gl_STDINT_INCLUDES
+#include <limits.h>], [result=unknown])
+m4trace:configure.in:89: -1- gl_STDINT_INCLUDES
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_PTRDIFF_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_SIG_ATOMIC_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_SIZE_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_WCHAR_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_WINT_T$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:213: gl_STDINT_BITSIZEOF is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_CHECK_TYPES_SIGNED([sig_atomic_t wchar_t wint_t], [gl_STDINT_INCLUDES])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:251: gl_CHECK_TYPES_SIGNED is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_STDINT_INCLUDES
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SIGNED_SIG_ATOMIC_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SIGNED_WCHAR_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SIGNED_WINT_T$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:251: gl_CHECK_TYPES_SIGNED is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_INTEGER_TYPE_SUFFIX([ptrdiff_t sig_atomic_t size_t wchar_t wint_t], [gl_STDINT_INCLUDES])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:284: gl_INTEGER_TYPE_SUFFIX is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_STDINT_INCLUDES
+m4trace:configure.in:89: -1- m4_pattern_allow([^PTRDIFF_T_SUFFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^SIG_ATOMIC_T_SUFFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^SIZE_T_SUFFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^WCHAR_T_SUFFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^WINT_T_SUFFIX$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:284: gl_INTEGER_TYPE_SUFFIX is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^STDINT_H$])
+m4trace:configure.in:89: -1- gt_INTTYPES_PRI
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_INTTYPES_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/stdint_h.m4:12: gl_AC_HEADER_STDINT_H is expanded from...
-gnulib/m4/uintmax_t.m4:14: gl_AC_TYPE_UINTMAX_T is expanded from...
-gnulib/m4/human.m4:7: gl_HUMAN is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STDINT_H_WITH_UINTMAX$])
-m4trace:configure.in:72: -1- gl_AC_TYPE_UNSIGNED_LONG_LONG
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+gnulib/m4/inttypes-pri.m4:14: gt_INTTYPES_PRI is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^PRI_MACROS_BROKEN$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^PRI_MACROS_BROKEN$])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([imaxabs])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_imaxabs], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_IMAXABS$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([imaxdiv])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_imaxdiv], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_IMAXDIV$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([strtoimax])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_strtoimax], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRTOIMAX$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([strtoumax])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_strtoumax], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRTOUMAX$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_INTTYPES_H_DEFAULTS
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_IMAXABS$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_IMAXDIV$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRTOIMAX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRTOUMAX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_IMAXABS$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_IMAXDIV$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRTOIMAX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRTOUMAX$])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([inttypes.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([inttypes.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_inttypes_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_INTTYPES_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/inttypes.m4:10: gl_INTTYPES_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_INTTYPES_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^PRIPTR_PREFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^INTTYPES_H$])
+m4trace:configure.in:89: -1- gl_FUNC_LCHOWN
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([lchown])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_lchown], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_LCHOWN$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/lchown.m4:13: gl_FUNC_LCHOWN is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_LCHOWN$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_LOCALCHARSET
+m4trace:configure.in:89: -1- AM_LANGINFO_CODESET
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/ulonglong.m4:11: gl_AC_TYPE_UNSIGNED_LONG_LONG is expanded from...
-gnulib/m4/uintmax_t.m4:14: gl_AC_TYPE_UINTMAX_T is expanded from...
-gnulib/m4/human.m4:7: gl_HUMAN is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_UNSIGNED_LONG_LONG$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^uintmax_t$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_UINTMAX_T$])
-m4trace:configure.in:72: -1- gl_IDCACHE
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([unistd.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
+gnulib/m4/codeset.m4:9: AM_LANGINFO_CODESET is expanded from...
+gnulib/m4/localcharset.m4:7: gl_LOCALCHARSET is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_LANGINFO_CODESET$])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([getc_unlocked])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_getc_unlocked], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_GETC_UNLOCKED$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/localcharset.m4:7: gl_LOCALCHARSET is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_GLIBC21
+m4trace:configure.in:89: -1- m4_pattern_allow([^GLIBC21$])
+m4trace:configure.in:89: -1- gl_FUNC_LSTAT
+m4trace:configure.in:89: -1- m4_pattern_allow([^LSTAT_FOLLOWS_SLASHED_SYMLINK$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STDLIB_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MALLOC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MALLOC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^malloc$])
+m4trace:configure.in:89: -1- gl_MBCHAR
+m4trace:configure.in:89: -1- gl_FUNC_MBSCASESTR
+m4trace:configure.in:89: -1- gl_PREREQ_MBSCASESTR
+m4trace:configure.in:89: -1- gl_FUNC_MBRTOWC
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MBRTOWC$])
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([mbscasestr])
+m4trace:configure.in:89: -1- gl_HEADER_STRING_H_DEFAULTS
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MEMMEM$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MEMPCPY$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MEMRCHR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STPCPY$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STPNCPY$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRCHRNUL$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRDUP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRNDUP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRNLEN$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRPBRK$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRSEP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRCASESTR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_STRTOK_R$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSLEN$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSCHR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSRCHR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSSTR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSCASECMP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSNCASECMP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSPCASECMP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSCASESTR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSCSPN$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSPBRK$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSSPN$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSSEP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MBSTOK_R$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_MEMMEM$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MEMPCPY$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_MEMRCHR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STPCPY$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STPNCPY$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRCASECMP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRNCASECMP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRCHRNUL$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRDUP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRNDUP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRNDUP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRNLEN$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRPBRK$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRSEP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRCASESTR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRTOK_R$])
+m4trace:configure.in:89: -1- gt_LOCALE_FR_UTF8
+m4trace:configure.in:89: -1- m4_pattern_allow([^LOCALE_FR_UTF8$])
+m4trace:configure.in:89: -1- gt_LOCALE_TR_UTF8
+m4trace:configure.in:89: -1- m4_pattern_allow([^LOCALE_TR_UTF8$])
+m4trace:configure.in:89: -1- gt_LOCALE_ZH_CN
+m4trace:configure.in:89: -1- m4_pattern_allow([^LOCALE_ZH_CN$])
+m4trace:configure.in:89: -1- gl_FUNC_MBSLEN
+m4trace:configure.in:89: -1- gl_PREREQ_MBSLEN
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([mbslen])
+m4trace:configure.in:89: -1- gl_FUNC_MBSSTR
+m4trace:configure.in:89: -1- gl_PREREQ_MBSSTR
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([mbsstr])
+m4trace:configure.in:89: -1- gt_LOCALE_FR_UTF8
+m4trace:configure.in:89: -1- m4_pattern_allow([^LOCALE_FR_UTF8$])
+m4trace:configure.in:89: -1- gt_LOCALE_ZH_CN
+m4trace:configure.in:89: -1- m4_pattern_allow([^LOCALE_ZH_CN$])
+m4trace:configure.in:89: -1- gl_MBITER
+m4trace:configure.in:89: -1- gl_FUNC_MEMCHR
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MEMCHR$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_MEMCHR
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_BP_SYM_H$])
+m4trace:configure.in:89: -1- gl_FUNC_MEMCMP
+m4trace:configure.in:89: -1- m4_pattern_allow([^memcmp$])
+m4trace:configure.in:89: -1- gl_PREREQ_MEMCMP
+m4trace:configure.in:89: -1- gl_FUNC_MEMPCPY
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MEMPCPY$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_MEMPCPY
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([mempcpy])
+m4trace:configure.in:89: -1- gl_FUNC_MEMRCHR
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([memrchr])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_memrchr], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_MEMRCHR$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/memrchr.m4:7: gl_FUNC_MEMRCHR is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MEMRCHR$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_MEMRCHR
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([memrchr])
+m4trace:configure.in:89: -1- gl_FUNC_MEMSET
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MEMSET$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_MEMSET
+m4trace:configure.in:89: -1- gl_FUNC_MKTIME
+m4trace:configure.in:89: -1- AC_FUNC_MKTIME
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([unistd.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/idcache.m4:7: gl_IDCACHE is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_FUNC_LSTAT
-m4trace:configure.in:72: -1- m4_pattern_allow([^LSTAT_FOLLOWS_SLASHED_SYMLINK$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_LSTAT_EMPTY_STRING_BUG$])
-m4trace:configure.in:72: -1- gl_PREREQ_LSTAT
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STDLIB_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_MALLOC$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_MALLOC$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^malloc$])
-m4trace:configure.in:72: -1- gl_FUNC_MEMCMP
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^memcmp$])
-m4trace:configure.in:72: -1- gl_PREREQ_MEMCMP
-m4trace:configure.in:72: -1- gl_FUNC_MEMPCPY
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_MEMPCPY$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_MEMPCPY
-m4trace:configure.in:72: -1- gl_FUNC_MEMSET
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_MEMSET$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_MEMSET
-m4trace:configure.in:72: -1- gl_FUNC_MKTIME
-m4trace:configure.in:72: -1- AC_FUNC_MKTIME
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_ALARM$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^mktime$])
-m4trace:configure.in:72: -1- gl_PREREQ_MKTIME
-m4trace:configure.in:72: -1- gl_MODECHANGE
-m4trace:configure.in:72: -1- gl_MOUNTLIST
-m4trace:configure.in:72: -1- gl_LIST_MOUNTED_FILE_SYSTEMS([gl_cv_list_mounted_fs=yes], [gl_cv_list_mounted_fs=no])
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([sys/param.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_sys_param_h], [
+gnulib/m4/mktime.m4:15: AC_FUNC_MKTIME is expanded from...
+gnulib/m4/mktime.m4:212: gl_FUNC_MKTIME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([alarm])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_alarm], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/mktime.m4:15: AC_FUNC_MKTIME is expanded from...
+gnulib/m4/mktime.m4:212: gl_FUNC_MKTIME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^mktime$])
+m4trace:configure.in:89: -1- gl_PREREQ_MKTIME
+m4trace:configure.in:89: -1- gl_MODECHANGE
+m4trace:configure.in:89: -1- gl_MOUNTLIST
+m4trace:configure.in:89: -1- gl_LIST_MOUNTED_FILE_SYSTEMS([gl_cv_list_mounted_fs=yes], [gl_cv_list_mounted_fs=no])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/param.h sys/statvfs.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_param_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_statvfs_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/ls-mntd-fs.m4:27: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
+gnulib/m4/ls-mntd-fs.m4:28: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
 gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_SYS_UCRED_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_SYS_MOUNT_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRUCT_FSSTAT_F_FSTYPENAME$])
-m4trace:configure.in:72: -1- AC_FUNC_GETMNTENT
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_GETMNTENT$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_LISTMNTENT$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_CPP' is obsolete.
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_UCRED_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_MOUNT_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_FSSTAT_F_FSTYPENAME$])
+m4trace:configure.in:89: -1- AC_FUNC_GETMNTENT
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_GETMNTENT$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_LISTMNTENT$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_CPP' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2529: AC_TRY_CPP is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
-gnulib/m4/ls-mntd-fs.m4:27: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
+gnulib/m4/ls-mntd-fs.m4:28: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
 gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_VMOUNT$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_VMOUNT$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
-gnulib/m4/ls-mntd-fs.m4:27: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
+gnulib/m4/ls-mntd-fs.m4:28: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
 gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_GETMNTENT1$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_GETMNTENT2$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_GETMNTENT1$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_GETMNTENT2$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_HASMNTOPT$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
-gnulib/m4/ls-mntd-fs.m4:27: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
+gnulib/m4/ls-mntd-fs.m4:28: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
 gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_GETFSSTAT$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_CPP' is obsolete.
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_GETFSSTAT$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_CPP' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2529: AC_TRY_CPP is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
-gnulib/m4/ls-mntd-fs.m4:27: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
+gnulib/m4/ls-mntd-fs.m4:28: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
+gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_FREAD_FSTYP$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+gnulib/m4/ls-mntd-fs.m4:28: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
 gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_FREAD_FSTYP$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_GETMNTINFO$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_CPP' is obsolete.
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_GETMNTINFO$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_GETMNTINFO2$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_CPP' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2529: AC_TRY_CPP is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
-gnulib/m4/ls-mntd-fs.m4:27: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
+gnulib/m4/ls-mntd-fs.m4:28: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
 gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_GETMNT$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_FS_INFO_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_FS_STAT_DEV$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_CPP' is obsolete.
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_GETMNT$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_FS_INFO_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_FS_STAT_DEV$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_CPP' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2529: AC_TRY_CPP is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
-gnulib/m4/ls-mntd-fs.m4:27: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
+gnulib/m4/ls-mntd-fs.m4:28: gl_LIST_MOUNTED_FILE_SYSTEMS is expanded from...
 gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^MOUNTED_FREAD$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_MOUNTLIST_EXTRA
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([fcntl.h unistd.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_fcntl_h], [
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^MOUNTED_FREAD$])
+m4trace:configure.in:89: -1- gl_PREREQ_MOUNTLIST_EXTRA
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_MNTENT_H$])
+m4trace:configure.in:89: -1- gl_FSTYPENAME
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STATFS_F_FSTYPENAME$])
+m4trace:configure.in:89: -1- gl_FUNC_OPENAT
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([lchmod])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_lchmod], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/openat.m4:11: gl_FUNC_OPENAT is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([fdopendir])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_fdopendir], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/openat.m4:11: gl_FUNC_OPENAT is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- m4_pattern_allow([^__OPENAT_PREFIX$])
+m4trace:configure.in:89: -1- gl_PREREQ_OPENAT
+m4trace:configure.in:89: -1- gl_FUNC_FCHOWNAT
+m4trace:configure.in:89: -1- gl_FUNC_FCHOWNAT_DEREF_BUG([have_fchownat_bug=yes])
+m4trace:configure.in:89: -1- m4_pattern_allow([^fchownat$])
+m4trace:configure.in:89: -1- gl_PATHMAX
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/param.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_param_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/pathmax.m4:7: gl_PATHMAX is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_QUOTE
+m4trace:configure.in:89: -1- gl_QUOTEARG
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([mbsinit])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_mbsinit], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/quotearg.m4:7: gl_QUOTEARG is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_TYPE_MBSTATE_T
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MBSTATE_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^mbstate_t$])
+m4trace:configure.in:89: -1- gl_FUNC_MBRTOWC
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MBRTOWC$])
+m4trace:configure.in:89: -1- gl_FUNC_READLINK
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([readlink])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_readlink], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/readlink.m4:7: gl_FUNC_READLINK is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_PREREQ_READLINK
+m4trace:configure.in:89: -1- gl_UNISTD_MODULE_INDICATOR([readlink])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STDLIB_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_REALLOC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_REALLOC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^realloc$])
+m4trace:configure.in:89: -1- gl_REGEX
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([locale.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_locale_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/mountlist.m4:18: gl_PREREQ_MOUNTLIST_EXTRA is expanded from...
-gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_SYS_MNTENT_H$])
-m4trace:configure.in:72: -1- gl_FSTYPENAME
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
-../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
-../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
-../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/fstypename.m4:14: gl_FSTYPENAME is expanded from...
-gnulib/m4/mountlist.m4:18: gl_PREREQ_MOUNTLIST_EXTRA is expanded from...
-gnulib/m4/mountlist.m4:7: gl_MOUNTLIST is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_F_FSTYPENAME_IN_STATFS$])
-m4trace:configure.in:72: -1- gl_PATH_CONCAT
-m4trace:configure.in:72: -1- AC_CHECK_FUNCS_ONCE([mempcpy])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_mempcpy], [
+gnulib/m4/regex.m4:15: gl_REGEX is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_HELP_STRING' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:207: AC_HELP_STRING is expanded from...
+../../lib/autoconf/general.m4:1481: AC_ARG_WITH is expanded from...
+gnulib/m4/regex.m4:15: gl_REGEX is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^_REGEX_LARGE_OFFSETS$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_syntax_options$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_set_syntax$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_compile_pattern$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_compile_fastmap$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_search$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_search_2$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_match$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_match_2$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_set_registers$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_comp$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^re_exec$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^regcomp$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^regexec$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^regerror$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^regfree$])
+m4trace:configure.in:89: -1- gl_PREREQ_REGEX
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([iswctype mbrtowc wcrtomb wcscoll])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_iswctype], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_mbrtowc], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_wcrtomb], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_wcscoll], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/regex.m4:205: gl_PREREQ_REGEX is expanded from...
+gnulib/m4/regex.m4:15: gl_REGEX is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_ISBLANK$])
+m4trace:configure.in:89: -1- gl_FUNC_RPMATCH
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_RPMATCH$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_RPMATCH
+m4trace:configure.in:89: -1- gl_SAVE_CWD
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([fchdir])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_fchdir], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
-gnulib/m4/path-concat.m4:7: gl_PATH_CONCAT is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_PATHMAX
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([sys/param.h unistd.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_sys_param_h], [
+gnulib/m4/save-cwd.m4:7: gl_SAVE_CWD is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_SAVEDIR
+m4trace:configure.in:89: -1- gl_FUNC_SETENV
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([setenv])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_setenv], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/setenv.m4:7: gl_FUNC_SETENV is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_PREREQ_SETENV
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([unistd.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/setenv.m4:68: gl_PREREQ_SETENV is expanded from...
+gnulib/m4/setenv.m4:7: gl_FUNC_SETENV is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SEARCH_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_TSEARCH$])
+m4trace:configure.in:89: -1- gt_CHECK_VAR_DECL([#include <unistd.h>], [environ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+gnulib/m4/setenv.m4:50: gt_CHECK_VAR_DECL is expanded from...
+gnulib/m4/setenv.m4:68: gl_PREREQ_SETENV is expanded from...
+gnulib/m4/setenv.m4:7: gl_FUNC_SETENV is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_ENVIRON_DECL$])
+m4trace:configure.in:89: -1- gl_FUNC_UNSETENV
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_UNSETENV$])
+m4trace:configure.in:89: -1- gl_PREREQ_UNSETENV
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([unistd.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/pathmax.m4:7: gl_PATHMAX is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_QUOTE
-m4trace:configure.in:72: -1- gl_QUOTEARG
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([wchar.h wctype.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_wchar_h], [
+gnulib/m4/setenv.m4:78: gl_PREREQ_UNSETENV is expanded from...
+gnulib/m4/setenv.m4:23: gl_FUNC_UNSETENV is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gt_CHECK_VAR_DECL([#include <unistd.h>], [environ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+gnulib/m4/setenv.m4:50: gt_CHECK_VAR_DECL is expanded from...
+gnulib/m4/setenv.m4:78: gl_PREREQ_UNSETENV is expanded from...
+gnulib/m4/setenv.m4:23: gl_FUNC_UNSETENV is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_ENVIRON_DECL$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/setenv.m4:23: gl_FUNC_UNSETENV is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^VOID_UNSETENV$])
+m4trace:configure.in:89: -1- gt_TYPE_SSIZE_T
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/ssize_t.m4:10: gt_TYPE_SSIZE_T is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ssize_t$])
+m4trace:configure.in:89: -1- gl_STAT_TIME
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/time.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_time_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_wctype_h], [
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/stat-time.m4:20: gl_STAT_TIME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_ATIM_TV_NSEC$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/types.m4:888: AC_CHECK_MEMBER is expanded from...
+../../lib/autoconf/types.m4:921: AC_CHECK_MEMBERS is expanded from...
+gnulib/m4/stat-time.m4:20: gl_STAT_TIME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^TYPEOF_STRUCT_STAT_ST_ATIM_IS_STRUCT_TIMESPEC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_ATIMESPEC_TV_NSEC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_ATIMENSEC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_ATIM_ST__TIM_TV_NSEC$])
+m4trace:configure.in:89: -1- gl_STAT_BIRTHTIME
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/time.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_time_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/quotearg.m4:7: gl_QUOTEARG is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- AC_CHECK_FUNCS_ONCE([iswprint mbsinit])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_iswprint], [
+gnulib/m4/stat-time.m4:71: gl_STAT_BIRTHTIME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_BIRTHTIMESPEC_TV_NSEC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_BIRTHTIMENSEC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_BIRTHTIM_TV_NSEC$])
+m4trace:configure.in:89: -1- AM_STDBOOL_H
+m4trace:configure.in:89: -1- m4_pattern_allow([^STDBOOL_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE__BOOL$])
+m4trace:configure.in:89: -1- gl_STDINT_H
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_LONG_LONG_INT$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_UNSIGNED_LONG_LONG_INT$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_INTTYPES_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_TYPES_H$])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([stdint.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([stdint.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_stdint_h], [
       m4_divert_text([INIT_PREPARE],
-        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
-      gl_FUNCS_EXPANSION
-      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
-        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_mbsinit], [
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_STDINT_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_STDINT_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STDINT_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_INTTYPES_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SYS_BITYPES_H$])
+m4trace:configure.in:89: -1- gl_STDINT_TYPE_PROPERTIES
+m4trace:configure.in:89: -1- gl_STDINT_BITSIZEOF([ptrdiff_t sig_atomic_t size_t wchar_t wint_t], [gl_STDINT_INCLUDES])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:213: gl_STDINT_BITSIZEOF is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_COMPUTE_INT([result], [sizeof ($gltype) * CHAR_BIT], [gl_STDINT_INCLUDES
+#include <limits.h>], [result=unknown])
+m4trace:configure.in:89: -1- gl_STDINT_INCLUDES
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_PTRDIFF_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_SIG_ATOMIC_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_SIZE_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_WCHAR_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^BITSIZEOF_WINT_T$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:213: gl_STDINT_BITSIZEOF is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_CHECK_TYPES_SIGNED([sig_atomic_t wchar_t wint_t], [gl_STDINT_INCLUDES])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:251: gl_CHECK_TYPES_SIGNED is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_STDINT_INCLUDES
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SIGNED_SIG_ATOMIC_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SIGNED_WCHAR_T$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_SIGNED_WINT_T$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:251: gl_CHECK_TYPES_SIGNED is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_INTEGER_TYPE_SUFFIX([ptrdiff_t sig_atomic_t size_t wchar_t wint_t], [gl_STDINT_INCLUDES])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:284: gl_INTEGER_TYPE_SUFFIX is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_STDINT_INCLUDES
+m4trace:configure.in:89: -1- m4_pattern_allow([^PTRDIFF_T_SUFFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^SIG_ATOMIC_T_SUFFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^SIZE_T_SUFFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^WCHAR_T_SUFFIX$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^WINT_T_SUFFIX$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/stdint.m4:284: gl_INTEGER_TYPE_SUFFIX is expanded from...
+gnulib/m4/stdint.m4:348: gl_STDINT_TYPE_PROPERTIES is expanded from...
+gnulib/m4/stdint.m4:10: gl_STDINT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^STDINT_H$])
+m4trace:configure.in:89: -1- gt_TYPE_WCHAR_T
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/wchar_t.m4:11: gt_TYPE_WCHAR_T is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_WCHAR_T$])
+m4trace:configure.in:89: -1- gt_TYPE_WINT_T
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/wint_t.m4:11: gt_TYPE_WINT_T is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_WINT_T$])
+m4trace:configure.in:89: -1- gl_STDLIB_H
+m4trace:configure.in:89: -1- gl_STDLIB_H_DEFAULTS
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_GETSUBOPT$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MKDTEMP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^GNULIB_MKSTEMP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_GETSUBOPT$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_MKDTEMP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_MKSTEMP$])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([stdlib.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([stdlib.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_stdlib_h], [
       m4_divert_text([INIT_PREPARE],
-        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
-      gl_FUNCS_EXPANSION
-      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
-        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
-gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
-gnulib/m4/quotearg.m4:7: gl_QUOTEARG is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- AC_TYPE_MBSTATE_T
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_MBSTATE_T$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^mbstate_t$])
-m4trace:configure.in:72: -1- gl_FUNC_MBRTOWC
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/mbrtowc.m4:12: gl_FUNC_MBRTOWC is expanded from...
-gnulib/m4/quotearg.m4:7: gl_QUOTEARG is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_MBRTOWC$])
-m4trace:configure.in:72: -1- gl_FUNC_READLINK
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_READLINK$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_READLINK
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STDLIB_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_REALLOC$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_REALLOC$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^realloc$])
-m4trace:configure.in:72: -1- gl_REGEX
-m4trace:configure.in:72: -1- gl_INCLUDED_REGEX([lib/regex.c])
-m4trace:configure.in:72: -2- _m4_warn([obsolete], [The macro `AC_TRY_RUN' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2764: AC_TRY_RUN is expanded from...
-gnulib/m4/regex.m4:20: gl_INCLUDED_REGEX is expanded from...
-gnulib/m4/regex.m4:13: gl_REGEX is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_C_RESTRICT
-m4trace:configure.in:72: -1- m4_pattern_allow([^restrict$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^restrict$])
-m4trace:configure.in:72: -1- gl_FUNC_RPMATCH
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_RPMATCH$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_RPMATCH
-m4trace:configure.in:72: -1- gl_SAVEDIR
-m4trace:configure.in:72: -1- m4_pattern_allow([^CLOSEDIR_VOID$])
-m4trace:configure.in:72: -1- gl_FUNC_STAT
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STAT_EMPTY_STRING_BUG$])
-m4trace:configure.in:72: -1- gl_PREREQ_STAT
-m4trace:configure.in:72: -1- AM_STDBOOL_H
-m4trace:configure.in:72: -1- m4_pattern_allow([^STDBOOL_H$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE__BOOL$])
-m4trace:configure.in:72: -1- gl_FUNC_STPCPY
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STPCPY$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_STPCPY
-m4trace:configure.in:72: -1- gl_FUNC_STRDUP
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRDUP$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- AC_CHECK_DECLS_ONCE([strdup])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_DECL_strdup], [
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/stdlib_h.m4:7: gl_STDLIB_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_STDLIB_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/stdlib_h.m4:7: gl_STDLIB_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_STDLIB_H$])
+m4trace:configure.in:89: -1- gl_FUNC_STPCPY
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STPCPY$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_STPCPY
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([stpcpy])
+m4trace:configure.in:89: -1- gl_FUNC_STRDUP
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRDUP$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([strdup])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_strdup], [
       AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
     ])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_STRDUP$])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRDUP$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
-gnulib/m4/strdup.m4:7: gl_FUNC_STRDUP is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_PREREQ_STRDUP
-m4trace:configure.in:72: -1- gl_FUNC_GNU_STRFTIME
-m4trace:configure.in:72: -1- gl_FUNC_STRFTIME
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRFTIME$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRFTIME$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^TM_IN_SYS_TIME$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRUCT_TM_TM_ZONE$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_TM_ZONE$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_TZNAME$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_TZNAME$])
-m4trace:configure.in:72: -1- gl_TM_GMTOFF
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_TM_GMTOFF$])
-m4trace:configure.in:72: -1- gl_FUNC_TZSET_CLOBBER
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_RUN_TZSET_TEST$])
-m4trace:configure.in:72: -1- gl_GETTIMEOFDAY_REPLACE_LOCALTIME
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^gmtime$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^localtime$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^tzset$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^TZSET_CLOBBERS_LOCALTIME_BUFFER$])
-m4trace:configure.in:72: -1- AC_CHECK_FUNCS_ONCE([mblen mbrlen mempcpy tzset])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_mblen], [
+gnulib/m4/strdup.m4:10: gl_FUNC_STRDUP is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_PREREQ_STRDUP
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([strdup])
+m4trace:configure.in:89: -1- gl_FUNC_GNU_STRFTIME
+m4trace:configure.in:89: -1- gl_FUNC_STRFTIME
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([mblen mbrlen mempcpy tzset])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_mblen], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_mbrlen], [
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_mbrlen], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_mempcpy], [
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_mempcpy], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_tzset], [
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_tzset], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
 gnulib/m4/strftime.m4:18: gl_FUNC_STRFTIME is expanded from...
 gnulib/m4/strftime.m4:12: gl_FUNC_GNU_STRFTIME is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([sys/time.h wchar.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_sys_time_h], [
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([wchar.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_wchar_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_wchar_h], [
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/strftime.m4:18: gl_FUNC_STRFTIME is expanded from...
+gnulib/m4/strftime.m4:12: gl_FUNC_GNU_STRFTIME is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^my_strftime$])
+m4trace:configure.in:89: -1- gl_HEADER_STRING_H
+m4trace:configure.in:89: -1- gl_HEADER_STRING_H_BODY
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([string.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([string.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_string_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/strftime.m4:18: gl_FUNC_STRFTIME is expanded from...
-gnulib/m4/strftime.m4:12: gl_FUNC_GNU_STRFTIME is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^my_strftime$])
-m4trace:configure.in:72: -1- gl_FUNC_STRSTR
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRSTR$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_STRSTR
-m4trace:configure.in:72: -1- gl_FUNC_STRTOIMAX
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRTOIMAX$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_STRTOIMAX
-m4trace:configure.in:72: -1- gl_AC_TYPE_INTMAX_T
-m4trace:configure.in:72: -1- gl_AC_TYPE_LONG_LONG
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/longlong.m4:11: gl_AC_TYPE_LONG_LONG is expanded from...
-gnulib/m4/intmax_t.m4:14: gl_AC_TYPE_INTMAX_T is expanded from...
-gnulib/m4/strtoimax.m4:31: gl_PREREQ_STRTOIMAX is expanded from...
-gnulib/m4/strtoimax.m4:7: gl_FUNC_STRTOIMAX is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_LONG_LONG$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^intmax_t$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_INTMAX_T$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_STRTOLL$])
-m4trace:configure.in:72: -1- gl_FUNC_STRTOL
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRTOL$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_STRTOL
-m4trace:configure.in:72: -1- AC_CHECK_FUNCS_ONCE([isascii])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_isascii], [
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/string_h.m4:17: gl_HEADER_STRING_H_BODY is expanded from...
+gnulib/m4/string_h.m4:10: gl_HEADER_STRING_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_STRING_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/string_h.m4:17: gl_HEADER_STRING_H_BODY is expanded from...
+gnulib/m4/string_h.m4:10: gl_HEADER_STRING_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_STRING_H$])
+m4trace:configure.in:89: -1- gl_FUNC_STRNDUP
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([strndup])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_strndup], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRNDUP$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/strndup.m4:7: gl_FUNC_STRNDUP is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRNDUP$])
+m4trace:configure.in:89: -1- gl_PREREQ_STRNDUP
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([strndup])
+m4trace:configure.in:89: -1- gl_FUNC_STRNLEN
+m4trace:configure.in:89: -1- AC_CHECK_DECLS_ONCE([strnlen])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_DECL_strnlen], [
+      AC_CHECK_DECLS(m4_defn([gl_DECL_NAME]))
+    ])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRNLEN$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:78: AC_CHECK_DECLS_ONCE is expanded from...
+gnulib/m4/strnlen.m4:7: gl_FUNC_STRNLEN is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^strnlen$])
+m4trace:configure.in:89: -1- gl_PREREQ_STRNLEN
+m4trace:configure.in:89: -1- gl_STRING_MODULE_INDICATOR([strnlen])
+m4trace:configure.in:89: -1- gl_FUNC_STRTOIMAX
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRTOIMAX$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_STRTOIMAX
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRTOLL$])
+m4trace:configure.in:89: -1- gl_INTTYPES_MODULE_INDICATOR([strtoimax])
+m4trace:configure.in:89: -1- gl_FUNC_STRTOL
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRTOL$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_FUNC_STRTOLL
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRTOLL$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_STRTOLL
+m4trace:configure.in:89: -1- gl_FUNC_STRTOUL
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRTOUL$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_FUNC_STRTOULL
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRTOULL$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_STRTOULL
+m4trace:configure.in:89: -1- gl_FUNC_STRTOUMAX
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_STRTOUMAX$])
+m4trace:configure.in:89: -1- gl_LIBOBJ([$ac_func])
+m4trace:configure.in:89: -1- gl_PREREQ_STRTOUMAX
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_STRTOULL$])
+m4trace:configure.in:89: -1- gl_INTTYPES_MODULE_INDICATOR([strtoumax])
+m4trace:configure.in:89: -1- gl_HEADER_SYS_STAT_H
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([lstat])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_lstat], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
-gnulib/m4/strtol.m4:16: gl_PREREQ_STRTOL is expanded from...
-gnulib/m4/strtol.m4:7: gl_FUNC_STRTOL is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_FUNC_STRTOLL
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRTOLL$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_STRTOLL
-m4trace:configure.in:72: -1- gl_FUNC_STRTOUL
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRTOUL$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_STRTOUL
-m4trace:configure.in:72: -1- gl_PREREQ_STRTOL
-m4trace:configure.in:72: -1- AC_CHECK_FUNCS_ONCE([isascii])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_isascii], [
+gnulib/m4/sys_stat_h.m4:10: gl_HEADER_SYS_STAT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_MKDIR$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_IO_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^STAT_MACROS_BROKEN$])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([sys/stat.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/stat.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_stat_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/sys_stat_h.m4:10: gl_HEADER_SYS_STAT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_SYS_STAT_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/sys_stat_h.m4:10: gl_HEADER_SYS_STAT_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_SYS_STAT_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^SYS_STAT_H$])
+m4trace:configure.in:89: -1- AC_PROG_MKDIR_P
+m4trace:configure.in:89: -1- gl_HEADER_SYS_TIME_H
+m4trace:configure.in:89: -1- AC_PROG_MKDIR_P
+m4trace:configure.in:89: -1- gl_HEADER_TIME_H
+m4trace:configure.in:89: -1- gl_HEADER_TIME_H_BODY
+m4trace:configure.in:89: -1- gl_HEADER_TIME_H_DEFAULTS
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_LOCALTIME_R$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_NANOSLEEP$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_STRPTIME$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^REPLACE_TIMEGM$])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([time.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([time.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_time_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/time_h.m4:19: gl_HEADER_TIME_H_BODY is expanded from...
+gnulib/m4/time_h.m4:12: gl_HEADER_TIME_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_TIME_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/time_h.m4:19: gl_HEADER_TIME_H_BODY is expanded from...
+gnulib/m4/time_h.m4:12: gl_HEADER_TIME_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_TIME_H$])
+m4trace:configure.in:89: -1- gl_CHECK_TYPE_STRUCT_TIMESPEC
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([sys/time.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_sys_time_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/time_h.m4:43: gl_CHECK_TYPE_STRUCT_TIMESPEC is expanded from...
+gnulib/m4/time_h.m4:19: gl_HEADER_TIME_H_BODY is expanded from...
+gnulib/m4/time_h.m4:12: gl_HEADER_TIME_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^TIME_H_DEFINES_STRUCT_TIMESPEC$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^SYS_TIME_H_DEFINES_STRUCT_TIMESPEC$])
+m4trace:configure.in:89: -1- gl_TIME_R
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/time_r.m4:10: gl_TIME_R is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_PREREQ_TIME_R
+m4trace:configure.in:89: -1- gl_TIMESPEC
+m4trace:configure.in:89: -1- gl_UNISTD_H
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([unistd.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/unistd_h.m4:9: gl_UNISTD_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([unistd.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([unistd.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/unistd_h.m4:9: gl_UNISTD_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_UNISTD_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/unistd_h.m4:9: gl_UNISTD_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_UNISTD_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_UNISTD_H$])
+m4trace:configure.in:89: -1- gl_UNISTD_SAFER
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([pipe])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_pipe], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
-gnulib/m4/strtol.m4:16: gl_PREREQ_STRTOL is expanded from...
-gnulib/m4/strtoul.m4:16: gl_PREREQ_STRTOUL is expanded from...
-gnulib/m4/strtoul.m4:7: gl_FUNC_STRTOUL is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_FUNC_STRTOULL
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRTOULL$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_STRTOULL
-m4trace:configure.in:72: -1- gl_FUNC_STRTOUMAX
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_STRTOUMAX$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_STRTOUMAX
-m4trace:configure.in:72: -1- gl_AC_TYPE_UINTMAX_T
-m4trace:configure.in:72: -1- m4_pattern_allow([^uintmax_t$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_UINTMAX_T$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_STRTOULL$])
-m4trace:configure.in:72: -1- gl_TIME_R
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2614: AC_TRY_COMPILE is expanded from...
+gnulib/m4/unistd-safer.m4:7: gl_UNISTD_SAFER is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_WCHAR_H
+m4trace:configure.in:89: -1- _m4_warn([syntax], [AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body], [../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
+../../lib/autoconf/general.m4:2590: _AC_COMPILE_IFELSE is expanded from...
+../../lib/autoconf/general.m4:2606: AC_COMPILE_IFELSE is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/time_r.m4:10: gl_TIME_R is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_TIME_R_POSIX$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- gl_PREREQ_TIME_R
-m4trace:configure.in:72: -1- gl_FUNC_TZSET_CLOBBER
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_RUN_TZSET_TEST$])
-m4trace:configure.in:72: -1- gl_GETTIMEOFDAY_REPLACE_LOCALTIME
-m4trace:configure.in:72: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^gmtime$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^localtime$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^tzset$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^TZSET_CLOBBERS_LOCALTIME_BUFFER$])
-m4trace:configure.in:72: -1- gl_XALLOC
-m4trace:configure.in:72: -1- gl_PREREQ_XALLOC
-m4trace:configure.in:72: -1- gl_PREREQ_XMALLOC
-m4trace:configure.in:72: -1- gl_XGETCWD
-m4trace:configure.in:72: -1- gl_XREADLINK
-m4trace:configure.in:72: -1- AC_CHECK_HEADERS_ONCE([unistd.h])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_HEADER_unistd_h], [
+gnulib/m4/wchar.m4:12: gl_WCHAR_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([wchar.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([wchar.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_wchar_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/xreadlink.m4:7: gl_XREADLINK is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_XSTRTOL
-m4trace:configure.in:72: -1- gl_PREREQ_XSTRTOL
-m4trace:configure.in:72: -1- gl_PREREQ_XSTRTOL_H
-m4trace:configure.in:72: -1- _m4_warn([syntax], [AC_REQUIRE: `gl_AC_TYPE_INTMAX_T' was expanded before it was required
-http://www.gnu.org/software/autoconf/manual/autoconf.html#Expanded-Before-Required], [gnulib/m4/xstrtol.m4:14: gl_PREREQ_XSTRTOL_H is expanded from...
-gnulib/m4/xstrtol.m4:21: gl_PREREQ_XSTRTOL is expanded from...
-gnulib/m4/xstrtol.m4:7: gl_XSTRTOL is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- gl_AC_TYPE_INTMAX_T
-m4trace:configure.in:72: -1- m4_pattern_allow([^intmax_t$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_INTMAX_T$])
-m4trace:configure.in:72: -1- AC_CHECK_FUNCS_ONCE([isascii])
-m4trace:configure.in:72: -1- AC_DEFUN([gl_CHECK_FUNC_isascii], [
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/wchar.m4:12: gl_WCHAR_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_WCHAR_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/wchar.m4:12: gl_WCHAR_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_WCHAR_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^WCHAR_H$])
+m4trace:configure.in:89: -1- gl_WCTYPE_H
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([iswcntrl])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_iswcntrl], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:72: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
-gnulib/m4/xstrtol.m4:21: gl_PREREQ_XSTRTOL is expanded from...
-gnulib/m4/xstrtol.m4:7: gl_XSTRTOL is expanded from...
-gnulib/m4/gnulib.m4:19: gl_INIT is expanded from...
-configure.in:72: the top level])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_STRTOIMAX$])
-m4trace:configure.in:72: -1- m4_pattern_allow([^HAVE_DECL_STRTOUMAX$])
-m4trace:configure.in:72: -1- gl_PREREQ_XSTRTOUL
-m4trace:configure.in:72: -1- gl_XSTRTOUMAX
-m4trace:configure.in:72: -1- gl_YESNO
-m4trace:configure.in:78: -1- m4_pattern_allow([^HAVE_LIBSUN$])
-m4trace:configure.in:82: -1- m4_pattern_allow([^STDC_HEADERS$])
-m4trace:configure.in:87: -1- m4_pattern_allow([^HAVE_SYS_UTSNAME_H$])
-m4trace:configure.in:88: -1- m4_pattern_allow([^MAJOR_IN_MKDEV$])
-m4trace:configure.in:88: -1- m4_pattern_allow([^MAJOR_IN_SYSMACROS$])
-m4trace:configure.in:90: -1- m4_pattern_allow([^STAT_MACROS_BROKEN$])
-m4trace:configure.in:91: -1- m4_pattern_allow([^HAVE_SYS_WAIT_H$])
-m4trace:configure.in:96: -1- m4_pattern_allow([^uid_t$])
-m4trace:configure.in:96: -1- m4_pattern_allow([^gid_t$])
-m4trace:configure.in:97: -1- m4_pattern_allow([^size_t$])
-m4trace:configure.in:98: -1- m4_pattern_allow([^ssize_t$])
-m4trace:configure.in:99: -1- m4_pattern_allow([^pid_t$])
-m4trace:configure.in:100: -1- m4_pattern_allow([^ino_t$])
-m4trace:configure.in:101: -1- m4_pattern_allow([^dev_t$])
-m4trace:configure.in:102: -1- m4_pattern_allow([^mode_t$])
-m4trace:configure.in:103: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_BLOCKS$])
-m4trace:configure.in:103: -1- m4_pattern_allow([^HAVE_ST_BLOCKS$])
-m4trace:configure.in:103: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:104: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_RDEV$])
-m4trace:configure.in:111: -1- m4_pattern_allow([^USE_STRUCT_DIRENT_D_TYPE$])
-m4trace:configure.in:113: -1- m4_pattern_allow([^HAVE_STRUCT_DIRENT_D_TYPE$])
-m4trace:configure.in:113: -1- m4_pattern_allow([^HAVE_STRUCT_DIRENT_D_TYPE$])
-m4trace:configure.in:122: -1- m4_pattern_allow([^TM_IN_SYS_TIME$])
-m4trace:configure.in:123: -1- m4_pattern_allow([^HAVE_STRUCT_TM_TM_ZONE$])
-m4trace:configure.in:123: -1- m4_pattern_allow([^HAVE_TM_ZONE$])
-m4trace:configure.in:123: -1- m4_pattern_allow([^HAVE_DECL_TZNAME$])
-m4trace:configure.in:123: -1- m4_pattern_allow([^HAVE_TZNAME$])
-m4trace:configure.in:126: -1- m4_pattern_allow([^HAVE_STRFTIME$])
-m4trace:configure.in:126: -1- m4_pattern_allow([^HAVE_STRFTIME$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^HAVE_MEMCMP$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^HAVE_MEMSET$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^HAVE_STPCPY$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^HAVE_STRDUP$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^HAVE_STRSTR$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^HAVE_STRTOL$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^HAVE_STRTOUL$])
-m4trace:configure.in:127: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:129: -1- m4_pattern_allow([^HAVE_VPRINTF$])
-m4trace:configure.in:129: -1- m4_pattern_allow([^HAVE_DOPRNT$])
-m4trace:configure.in:130: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
-m4trace:configure.in:130: -1- m4_pattern_allow([^HAVE_ALLOCA$])
-m4trace:configure.in:130: -1- m4_pattern_allow([^ALLOCA$])
-m4trace:configure.in:130: -1- m4_pattern_allow([^C_ALLOCA$])
-m4trace:configure.in:130: -1- m4_pattern_allow([^CRAY_STACKSEG_END$])
-m4trace:configure.in:130: -1- m4_pattern_allow([^STACK_DIRECTION$])
-m4trace:configure.in:131: -1- m4_pattern_allow([^CLOSEDIR_VOID$])
-m4trace:configure.in:136: -1- AC_FUNC_GETMNTENT
-m4trace:configure.in:136: -1- m4_pattern_allow([^HAVE_GETMNTENT$])
-m4trace:configure.in:137: -1- m4_pattern_allow([^HAVE_GETMNTENT$])
-m4trace:configure.in:142: -1- FINDLIB_REPLACE_FUNCS([waitpid strspn])
-m4trace:configure.in:142: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+gnulib/m4/wctype.m4:10: gl_WCTYPE_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([wctype.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_wctype_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
-m4/findlib.m4:3: FINDLIB_REPLACE_FUNCS is expanded from...
-configure.in:142: the top level])
-m4trace:configure.in:142: -1- m4_pattern_allow([^FINDLIB@&t@OBJS$])
-m4trace:configure.in:143: -1- FINDLIB_REPLACE_FUNCS([forcefindlib])
-m4trace:configure.in:143: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/wctype.m4:10: gl_WCTYPE_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_WINT_T$])
+m4trace:configure.in:89: -1- gl_ABSOLUTE_HEADER([wctype.h])
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([wctype.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_wctype_h], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_header_list="$gl_header_list gl_HEADER_NAME"])
+      gl_HEADERS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
+        [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
-m4/findlib.m4:3: FINDLIB_REPLACE_FUNCS is expanded from...
-configure.in:143: the top level])
-m4trace:configure.in:143: -1- m4_pattern_allow([^HAVE_FORCEFINDLIB$])
-m4trace:configure.in:143: -1- m4_pattern_allow([^FINDLIB@&t@OBJS$])
-m4trace:configure.in:146: -1- gl_FUNC_ALLOCA
-m4trace:configure.in:146: -1- gl_PREREQ_ALLOCA
-m4trace:configure.in:146: -1- m4_pattern_allow([^HAVE_ALLOCA$])
-m4trace:configure.in:146: -1- m4_pattern_allow([^ALLOCA_H$])
-m4trace:configure.in:146: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
-m4trace:configure.in:151: -1- gl_INCLUDED_REGEX([gnulib/lib/regex.c])
-m4trace:configure.in:151: -2- _m4_warn([obsolete], [The macro `AC_TRY_RUN' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/general.m4:2764: AC_TRY_RUN is expanded from...
-gnulib/m4/regex.m4:20: gl_INCLUDED_REGEX is expanded from...
-configure.in:151: the top level])
-m4trace:configure.in:151: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:151: -1- gl_PREREQ_REGEX
-m4trace:configure.in:151: -1- AC_CHECK_HEADERS_ONCE([wchar.h wctype.h])
-m4trace:configure.in:151: -1- AC_DEFUN([gl_CHECK_HEADER_wchar_h], [
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/wctype.m4:10: gl_WCTYPE_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_WCTYPE_H$])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/absolute-header.m4:19: gl_ABSOLUTE_HEADER is expanded from...
+gnulib/m4/wctype.m4:10: gl_WCTYPE_H is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^ABSOLUTE_WCTYPE_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_WCTYPE_H$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^WCTYPE_H$])
+m4trace:configure.in:89: -1- gl_FUNC_WCWIDTH
+m4trace:configure.in:89: -1- AC_CHECK_HEADERS_ONCE([wchar.h])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_HEADER_wchar_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:151: -1- AC_DEFUN([gl_CHECK_HEADER_wctype_h], [
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
+gnulib/m4/wcwidth.m4:7: gl_FUNC_WCWIDTH is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- AC_CHECK_FUNCS_ONCE([wcwidth])
+m4trace:configure.in:89: -1- AC_DEFUN([gl_CHECK_FUNC_wcwidth], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:89: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
+gnulib/m4/wcwidth.m4:7: gl_FUNC_WCWIDTH is expanded from...
+gnulib/m4/gnulib-comp.m4:34: gl_INIT is expanded from...
+configure.in:89: the top level])
+m4trace:configure.in:89: -1- m4_pattern_allow([^HAVE_DECL_WCWIDTH$])
+m4trace:configure.in:89: -1- gl_XALLOC
+m4trace:configure.in:89: -1- gl_PREREQ_XALLOC
+m4trace:configure.in:89: -1- gl_PREREQ_XMALLOC
+m4trace:configure.in:89: -1- gl_XGETCWD
+m4trace:configure.in:89: -1- gl_XSTRNDUP
+m4trace:configure.in:89: -1- gl_PREREQ_XSTRNDUP
+m4trace:configure.in:89: -1- gl_XSTRTOD
+m4trace:configure.in:89: -1- gl_XSTRTOL
+m4trace:configure.in:89: -1- gl_YESNO
+m4trace:configure.in:89: -1- m4_pattern_allow([^LIBGNULIB_LIBDEPS$])
+m4trace:configure.in:89: -1- m4_pattern_allow([^LIBGNULIB_LTLIBDEPS$])
+m4trace:configure.in:97: -1- AM_MKINSTALLDIRS
+m4trace:configure.in:97: -1- m4_pattern_allow([^MKINSTALLDIRS$])
+m4trace:configure.in:102: -1- AM_CONDITIONAL([CROSS_COMPILING], [[test "x$cross_compiling" = xyes]])
+m4trace:configure.in:102: -1- m4_pattern_allow([^CROSS_COMPILING_TRUE$])
+m4trace:configure.in:102: -1- m4_pattern_allow([^CROSS_COMPILING_FALSE$])
+m4trace:configure.in:102: -1- _AM_SUBST_NOTMAKE([CROSS_COMPILING_TRUE])
+m4trace:configure.in:102: -1- _AM_SUBST_NOTMAKE([CROSS_COMPILING_FALSE])
+m4trace:configure.in:108: -1- m4_pattern_allow([^HAVE_LIBSUN$])
+m4trace:configure.in:112: -1- m4_pattern_allow([^STDC_HEADERS$])
+m4trace:configure.in:118: -1- m4_pattern_allow([^HAVE_SYS_UTSNAME_H$])
+m4trace:configure.in:119: -1- m4_pattern_allow([^MAJOR_IN_MKDEV$])
+m4trace:configure.in:119: -1- m4_pattern_allow([^MAJOR_IN_SYSMACROS$])
+m4trace:configure.in:121: -1- m4_pattern_allow([^STAT_MACROS_BROKEN$])
+m4trace:configure.in:122: -1- m4_pattern_allow([^HAVE_SYS_WAIT_H$])
+m4trace:configure.in:127: -1- m4_pattern_allow([^uid_t$])
+m4trace:configure.in:127: -1- m4_pattern_allow([^gid_t$])
+m4trace:configure.in:128: -1- m4_pattern_allow([^size_t$])
+m4trace:configure.in:129: -1- m4_pattern_allow([^ssize_t$])
+m4trace:configure.in:130: -1- m4_pattern_allow([^pid_t$])
+m4trace:configure.in:131: -1- m4_pattern_allow([^ino_t$])
+m4trace:configure.in:132: -1- m4_pattern_allow([^dev_t$])
+m4trace:configure.in:133: -1- m4_pattern_allow([^mode_t$])
+m4trace:configure.in:134: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_BLOCKS$])
+m4trace:configure.in:134: -1- m4_pattern_allow([^HAVE_ST_BLOCKS$])
+m4trace:configure.in:134: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:135: -1- m4_pattern_allow([^HAVE_STRUCT_STAT_ST_RDEV$])
+m4trace:configure.in:142: -1- m4_pattern_allow([^USE_STRUCT_DIRENT_D_TYPE$])
+m4trace:configure.in:144: -1- m4_pattern_allow([^HAVE_STRUCT_DIRENT_D_TYPE$])
+m4trace:configure.in:144: -1- m4_pattern_allow([^HAVE_STRUCT_DIRENT_D_TYPE$])
+m4trace:configure.in:153: -1- m4_pattern_allow([^TM_IN_SYS_TIME$])
+m4trace:configure.in:154: -1- m4_pattern_allow([^HAVE_STRUCT_TM_TM_ZONE$])
+m4trace:configure.in:154: -1- m4_pattern_allow([^HAVE_TM_ZONE$])
+m4trace:configure.in:154: -1- m4_pattern_allow([^HAVE_DECL_TZNAME$])
+m4trace:configure.in:154: -1- m4_pattern_allow([^HAVE_TZNAME$])
+m4trace:configure.in:157: -1- m4_pattern_allow([^HAVE_STRFTIME$])
+m4trace:configure.in:157: -1- m4_pattern_allow([^HAVE_STRFTIME$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^HAVE_MEMCMP$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^HAVE_MEMSET$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^HAVE_STPCPY$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^HAVE_STRDUP$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^HAVE_STRSTR$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^HAVE_STRTOL$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^HAVE_STRTOUL$])
+m4trace:configure.in:158: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:160: -1- m4_pattern_allow([^HAVE_VPRINTF$])
+m4trace:configure.in:160: -1- m4_pattern_allow([^HAVE_DOPRNT$])
+m4trace:configure.in:161: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
+m4trace:configure.in:161: -1- m4_pattern_allow([^HAVE_ALLOCA$])
+m4trace:configure.in:161: -1- m4_pattern_allow([^ALLOCA$])
+m4trace:configure.in:161: -1- m4_pattern_allow([^C_ALLOCA$])
+m4trace:configure.in:161: -1- m4_pattern_allow([^CRAY_STACKSEG_END$])
+m4trace:configure.in:161: -1- m4_pattern_allow([^STACK_DIRECTION$])
+m4trace:configure.in:162: -1- m4_pattern_allow([^CLOSEDIR_VOID$])
+m4trace:configure.in:167: -1- AC_FUNC_GETMNTENT
+m4trace:configure.in:167: -1- m4_pattern_allow([^HAVE_GETMNTENT$])
+m4trace:configure.in:168: -1- m4_pattern_allow([^HAVE_GETMNTENT$])
+m4trace:configure.in:173: -1- FINDLIB_REPLACE_FUNCS([waitpid strspn])
+m4trace:configure.in:173: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+m4/findlib.m4:3: FINDLIB_REPLACE_FUNCS is expanded from...
+configure.in:173: the top level])
+m4trace:configure.in:173: -1- m4_pattern_allow([^FINDLIB@&t@OBJS$])
+m4trace:configure.in:174: -1- FINDLIB_REPLACE_FUNCS([forcefindlib])
+m4trace:configure.in:174: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
+m4/findlib.m4:3: FINDLIB_REPLACE_FUNCS is expanded from...
+configure.in:174: the top level])
+m4trace:configure.in:174: -1- m4_pattern_allow([^HAVE_FORCEFINDLIB$])
+m4trace:configure.in:174: -1- m4_pattern_allow([^FINDLIB@&t@OBJS$])
+m4trace:configure.in:177: -1- gl_FUNC_ALLOCA
+m4trace:configure.in:177: -1- gl_PREREQ_ALLOCA
+m4trace:configure.in:177: -1- m4_pattern_allow([^HAVE_ALLOCA$])
+m4trace:configure.in:177: -1- m4_pattern_allow([^ALLOCA_H$])
+m4trace:configure.in:177: -1- m4_pattern_allow([^HAVE_ALLOCA_H$])
+m4trace:configure.in:183: -1- gl_REGEX
+m4trace:configure.in:183: -1- AC_CHECK_HEADERS_ONCE([locale.h])
+m4trace:configure.in:183: -1- AC_DEFUN([gl_CHECK_HEADER_locale_h], [
       m4_divert_text([INIT_PREPARE],
         [gl_header_list="$gl_header_list gl_HEADER_NAME"])
       gl_HEADERS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_HEADER_NAME])),
         [Define to 1 if you have the <]m4_defn([gl_HEADER_NAME])[> header file.])
     ])
-m4trace:configure.in:151: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:183: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:34: AC_CHECK_HEADERS_ONCE is expanded from...
-gnulib/m4/regex.m4:111: gl_PREREQ_REGEX is expanded from...
-gnulib/m4/regex.m4:20: gl_INCLUDED_REGEX is expanded from...
-configure.in:151: the top level])
-m4trace:configure.in:151: -1- AC_CHECK_FUNCS_ONCE([isascii mempcpy])
-m4trace:configure.in:151: -1- AC_DEFUN([gl_CHECK_FUNC_isascii], [
+gnulib/m4/regex.m4:15: gl_REGEX is expanded from...
+configure.in:183: the top level])
+m4trace:configure.in:183: -1- m4_pattern_allow([^_REGEX_LARGE_OFFSETS$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_syntax_options$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_set_syntax$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_compile_pattern$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_compile_fastmap$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_search$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_search_2$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_match$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_match_2$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_set_registers$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_comp$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^re_exec$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^regcomp$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^regexec$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^regerror$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^regfree$])
+m4trace:configure.in:183: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:183: -1- gl_PREREQ_REGEX
+m4trace:configure.in:183: -1- AC_CHECK_FUNCS_ONCE([iswctype mbrtowc wcrtomb wcscoll])
+m4trace:configure.in:183: -1- AC_DEFUN([gl_CHECK_FUNC_iswctype], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:183: -1- AC_DEFUN([gl_CHECK_FUNC_mbrtowc], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:151: -1- AC_DEFUN([gl_CHECK_FUNC_mempcpy], [
+m4trace:configure.in:183: -1- AC_DEFUN([gl_CHECK_FUNC_wcrtomb], [
       m4_divert_text([INIT_PREPARE],
         [gl_func_list="$gl_func_list gl_FUNC_NAME"])
       gl_FUNCS_EXPANSION
       AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
         [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
     ])
-m4trace:configure.in:151: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
+m4trace:configure.in:183: -1- AC_DEFUN([gl_CHECK_FUNC_wcscoll], [
+      m4_divert_text([INIT_PREPARE],
+        [gl_func_list="$gl_func_list gl_FUNC_NAME"])
+      gl_FUNCS_EXPANSION
+      AH_TEMPLATE(AS_TR_CPP([HAVE_]m4_defn([gl_FUNC_NAME])),
+        [Define to 1 if you have the `]m4_defn([gl_FUNC_NAME])[' function.])
+    ])
+m4trace:configure.in:183: -1- _m4_warn([obsolete], [The macro `AC_FOREACH' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:194: AC_FOREACH is expanded from...
 gnulib/m4/onceonly_2_57.m4:57: AC_CHECK_FUNCS_ONCE is expanded from...
-gnulib/m4/regex.m4:111: gl_PREREQ_REGEX is expanded from...
-gnulib/m4/regex.m4:20: gl_INCLUDED_REGEX is expanded from...
-configure.in:151: the top level])
-m4trace:configure.in:151: -1- m4_pattern_allow([^HAVE_BTOWC$])
-m4trace:configure.in:158: -1- AC_DEFUN([jy_AC_TYPE_INTMAX_T], [
+gnulib/m4/regex.m4:205: gl_PREREQ_REGEX is expanded from...
+gnulib/m4/regex.m4:15: gl_REGEX is expanded from...
+configure.in:183: the top level])
+m4trace:configure.in:183: -1- m4_pattern_allow([^HAVE_DECL_ISBLANK$])
+m4trace:configure.in:190: -1- AC_DEFUN([jy_AC_TYPE_INTMAX_T], [
   if test $ac_cv_header_inttypes_h = no && test $ac_cv_header_stdint_h = no; then
     AC_REQUIRE([gl_AC_TYPE_LONG_LONG])
     test $ac_cv_type_long_long = yes \
@@ -6116,44 +10881,53 @@ m4trace:configure.in:158: -1- AC_DEFUN([
       [Define if you have the 'intmax_t' type in <stdint.h> or <inttypes.h>.])
   fi
 ])
-m4trace:configure.in:174: -1- jy_AC_TYPE_INTMAX_T
-m4trace:configure.in:174: -1- m4_pattern_allow([^intmax_t$])
-m4trace:configure.in:174: -1- m4_pattern_allow([^HAVE_INTMAX_T$])
-m4trace:configure.in:175: -1- jy_SORTZ
-m4trace:configure.in:175: -1- m4_pattern_allow([^SORT$])
-m4trace:configure.in:175: -1- m4_pattern_allow([^SORT_SUPPORTS_Z$])
-m4trace:configure.in:175: -1- m4_pattern_allow([^SORT_SUPPORTS_Z$])
-m4trace:configure.in:184: -1- AM_GNU_GETTEXT([external])
-m4trace:configure.in:184: -1- AM_PO_SUBDIRS
-m4trace:configure.in:184: -1- AM_MKINSTALLDIRS
-m4trace:configure.in:184: -1- m4_pattern_allow([^MKINSTALLDIRS$])
-m4trace:configure.in:184: -1- AM_NLS
-m4trace:configure.in:184: -1- m4_pattern_allow([^USE_NLS$])
-m4trace:configure.in:184: -1- AM_PATH_PROG_WITH_TEST([MSGFMT], [msgfmt], [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1 &&
+m4trace:configure.in:206: -1- jy_AC_TYPE_INTMAX_T
+m4trace:configure.in:206: -1- gl_AC_TYPE_LONG_LONG
+m4trace:configure.in:206: -1- m4_pattern_allow([^HAVE_LONG_LONG$])
+m4trace:configure.in:206: -1- m4_pattern_allow([^intmax_t$])
+m4trace:configure.in:206: -1- m4_pattern_allow([^HAVE_INTMAX_T$])
+m4trace:configure.in:207: -1- jy_SORTZ
+m4trace:configure.in:207: -1- m4_pattern_allow([^SORT$])
+m4trace:configure.in:207: -1- m4_pattern_allow([^SORT_SUPPORTS_Z$])
+m4trace:configure.in:207: -1- m4_pattern_allow([^SORT_SUPPORTS_Z$])
+m4trace:configure.in:216: -1- AM_GNU_GETTEXT([external])
+m4trace:configure.in:216: -1- AM_GNU_GETTEXT_NEED([])
+m4trace:configure.in:216: -1- AM_PO_SUBDIRS
+m4trace:configure.in:216: -1- AM_PROG_MKDIR_P
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [AM_PROG_MKDIR_P: this macro is deprecated, and will soon be removed.
+You should use the Autoconf-provided 'AC_PROG_MKDIR_P' macro instead,
+and use '$(MKDIR_P)' instead of '$(mkdir_p)'in your Makefile.am files.], [/usr/share/aclocal-1.14/mkdirp.m4:11: AM_PROG_MKDIR_P is expanded from...
+gnulib/m4/po.m4:23: AM_PO_SUBDIRS is expanded from...
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- m4_pattern_allow([^mkdir_p$])
+m4trace:configure.in:216: -1- AM_NLS
+m4trace:configure.in:216: -1- m4_pattern_allow([^USE_NLS$])
+m4trace:configure.in:216: -1- AM_PATH_PROG_WITH_TEST([MSGFMT], [msgfmt], [$ac_dir/$ac_word --statistics /dev/null >&5 2>&1 &&
      (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)], [:])
-m4trace:configure.in:184: -1- m4_pattern_allow([^MSGFMT$])
-m4trace:configure.in:184: -1- m4_pattern_allow([^GMSGFMT$])
-m4trace:configure.in:184: -1- AM_PATH_PROG_WITH_TEST([XGETTEXT], [xgettext], [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
+m4trace:configure.in:216: -1- m4_pattern_allow([^MSGFMT$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^GMSGFMT$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^MSGFMT_015$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^GMSGFMT_015$])
+m4trace:configure.in:216: -1- AM_PATH_PROG_WITH_TEST([XGETTEXT], [xgettext], [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >&5 2>&1 &&
      (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)], [:])
-m4trace:configure.in:184: -1- m4_pattern_allow([^XGETTEXT$])
-m4trace:configure.in:184: -1- AM_PATH_PROG_WITH_TEST([MSGMERGE], [msgmerge], [$ac_dir/$ac_word --update -q /dev/null /dev/null >/dev/null 2>&1], [:])
-m4trace:configure.in:184: -1- m4_pattern_allow([^MSGMERGE$])
-m4trace:configure.in:184: -1- _m4_warn([obsolete], [The macro `AC_OUTPUT_COMMANDS' is obsolete.
-You should run autoupdate.], [../../lib/autoconf/status.m4:1026: AC_OUTPUT_COMMANDS is expanded from...
-gnulib/m4/po.m4:23: AM_PO_SUBDIRS is expanded from...
-gnulib/m4/gettext.m4:59: AM_GNU_GETTEXT is expanded from...
-configure.in:184: the top level])
-m4trace:configure.in:184: -1- AC_LIB_PREPARE_PREFIX
-m4trace:configure.in:184: -1- AC_LIB_RPATH
-m4trace:configure.in:184: -1- AC_LIB_PROG_LD
-m4trace:configure.in:184: -1- AC_LIB_PROG_LD_GNU
-m4trace:configure.in:184: -1- AM_ICONV_LINKFLAGS_BODY
-m4trace:configure.in:184: -1- AC_LIB_LINKFLAGS_BODY([iconv])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([
+m4trace:configure.in:216: -1- m4_pattern_allow([^XGETTEXT$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^XGETTEXT_015$])
+m4trace:configure.in:216: -1- AM_PATH_PROG_WITH_TEST([MSGMERGE], [msgmerge], [$ac_dir/$ac_word --update -q /dev/null /dev/null >&5 2>&1], [:])
+m4trace:configure.in:216: -1- m4_pattern_allow([^MSGMERGE$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^localedir$])
+m4trace:configure.in:216: -1- AC_LIB_PREPARE_PREFIX
+m4trace:configure.in:216: -1- AC_LIB_RPATH
+m4trace:configure.in:216: -1- AC_LIB_PROG_LD
+m4trace:configure.in:216: -1- AC_LIB_PROG_LD_GNU
+m4trace:configure.in:216: -1- AM_ICONV_LINKFLAGS_BODY
+m4trace:configure.in:216: -1- AC_LIB_LINKFLAGS_BODY([iconv])
+m4trace:configure.in:216: -1- AC_LIB_PREPARE_MULTILIB
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([
     eval additional_includedir=\"$includedir\"
     eval additional_libdir=\"$libdir\"
   ])
-m4trace:configure.in:184: -1- AC_LIB_ARG_WITH([libiconv-prefix], [  --with-libiconv-prefix[=DIR]  search for libiconv in DIR/include and DIR/lib
+m4trace:configure.in:216: -1- AC_LIB_ARG_WITH([libiconv-prefix], [  --with-libiconv-prefix[=DIR]  search for libiconv in DIR/include and DIR/lib
   --without-libiconv-prefix     don't search for libiconv in includedir and libdir], [
     if test "X$withval" = "Xno"; then
       use_additional=no
@@ -6165,56 +10939,82 @@ m4trace:configure.in:184: -1- AC_LIB_ARG
         ])
       else
         additional_includedir="$withval/include"
-        additional_libdir="$withval/lib"
+        additional_libdir="$withval/$acl_libdirstem"
       fi
     fi
 ])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([
           eval additional_includedir=\"$includedir\"
           eval additional_libdir=\"$libdir\"
         ])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AM_NLS
-m4trace:configure.in:184: -1- m4_pattern_allow([^USE_NLS$])
-m4trace:configure.in:184: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- gt_INTL_MACOSX
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/gettext.m4:367: gt_INTL_MACOSX is expanded from...
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- m4_pattern_allow([^HAVE_CFPREFERENCESCOPYAPPVALUE$])
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/gettext.m4:367: gt_INTL_MACOSX is expanded from...
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- m4_pattern_allow([^HAVE_CFLOCALECOPYCURRENT$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^INTL_MACOSX_LIBS$])
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/gettext.m4:59: AM_GNU_GETTEXT is expanded from...
-configure.in:184: the top level])
-m4trace:configure.in:184: -1- AM_ICONV_LINK
-m4trace:configure.in:184: -1- AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCICONV])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- AM_ICONV_LINK
+m4trace:configure.in:216: -1- AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCICONV])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
 gnulib/m4/iconv.m4:20: AM_ICONV_LINK is expanded from...
-gnulib/m4/gettext.m4:59: AM_GNU_GETTEXT is expanded from...
-configure.in:184: the top level])
-m4trace:configure.in:184: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
 gnulib/m4/iconv.m4:20: AM_ICONV_LINK is expanded from...
-gnulib/m4/gettext.m4:59: AM_GNU_GETTEXT is expanded from...
-configure.in:184: the top level])
-m4trace:configure.in:184: -1- m4_pattern_allow([^HAVE_ICONV$])
-m4trace:configure.in:184: -1- m4_pattern_allow([^LIBICONV$])
-m4trace:configure.in:184: -1- m4_pattern_allow([^LTLIBICONV$])
-m4trace:configure.in:184: -1- AC_LIB_LINKFLAGS_BODY([intl])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [The macro `AC_TRY_RUN' is obsolete.
+You should run autoupdate.], [../../lib/autoconf/general.m4:2764: AC_TRY_RUN is expanded from...
+../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
+../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
+../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
+gnulib/m4/iconv.m4:20: AM_ICONV_LINK is expanded from...
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- m4_pattern_allow([^HAVE_ICONV$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^LIBICONV$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^LTLIBICONV$])
+m4trace:configure.in:216: -1- AC_LIB_LINKFLAGS_BODY([intl])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([
     eval additional_includedir=\"$includedir\"
     eval additional_libdir=\"$libdir\"
   ])
-m4trace:configure.in:184: -1- AC_LIB_ARG_WITH([libintl-prefix], [  --with-libintl-prefix[=DIR]  search for libintl in DIR/include and DIR/lib
+m4trace:configure.in:216: -1- AC_LIB_ARG_WITH([libintl-prefix], [  --with-libintl-prefix[=DIR]  search for libintl in DIR/include and DIR/lib
   --without-libintl-prefix     don't search for libintl in includedir and libdir], [
     if test "X$withval" = "Xno"; then
       use_additional=no
@@ -6226,48 +11026,52 @@ m4trace:configure.in:184: -1- AC_LIB_ARG
         ])
       else
         additional_includedir="$withval/include"
-        additional_libdir="$withval/lib"
+        additional_libdir="$withval/$acl_libdirstem"
       fi
     fi
 ])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([
           eval additional_includedir=\"$includedir\"
           eval additional_libdir=\"$libdir\"
         ])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/gettext.m4:59: AM_GNU_GETTEXT is expanded from...
-configure.in:184: the top level])
-m4trace:configure.in:184: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- _m4_warn([obsolete], [The macro `AC_TRY_LINK' is obsolete.
 You should run autoupdate.], [../../lib/autoconf/general.m4:2687: AC_TRY_LINK is expanded from...
 ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
 ../../lib/autoconf/general.m4:2031: AC_CACHE_VAL is expanded from...
 ../../lib/autoconf/general.m4:2052: AC_CACHE_CHECK is expanded from...
-gnulib/m4/gettext.m4:59: AM_GNU_GETTEXT is expanded from...
-configure.in:184: the top level])
-m4trace:configure.in:184: -1- m4_pattern_allow([^ENABLE_NLS$])
-m4trace:configure.in:184: -1- AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCINTL])
-m4trace:configure.in:184: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
-m4trace:configure.in:184: -1- m4_pattern_allow([^HAVE_GETTEXT$])
-m4trace:configure.in:184: -1- m4_pattern_allow([^HAVE_DCGETTEXT$])
-m4trace:configure.in:184: -1- m4_pattern_allow([^INTLLIBS$])
-m4trace:configure.in:184: -1- m4_pattern_allow([^LIBINTL$])
-m4trace:configure.in:184: -1- m4_pattern_allow([^LTLIBINTL$])
-m4trace:configure.in:184: -1- m4_pattern_allow([^POSUB$])
-m4trace:configure.in:199: -1- m4_pattern_allow([^LIB@&t@OBJS$])
-m4trace:configure.in:199: -1- m4_pattern_allow([^LTLIBOBJS$])
-m4trace:configure.in:199: -1- AM_CONDITIONAL([am__EXEEXT], [test -n "$EXEEXT"])
-m4trace:configure.in:199: -1- m4_pattern_allow([^am__EXEEXT_TRUE$])
-m4trace:configure.in:199: -1- m4_pattern_allow([^am__EXEEXT_FALSE$])
-m4trace:configure.in:199: -1- _AM_SUBST_NOTMAKE([am__EXEEXT_TRUE])
-m4trace:configure.in:199: -1- _AM_SUBST_NOTMAKE([am__EXEEXT_FALSE])
-m4trace:configure.in:199: -1- _AC_AM_CONFIG_HEADER_HOOK(["$ac_file"])
-m4trace:configure.in:199: -1- _AM_OUTPUT_DEPENDENCY_COMMANDS
+gnulib/m4/gettext.m4:57: AM_GNU_GETTEXT is expanded from...
+configure.in:216: the top level])
+m4trace:configure.in:216: -1- m4_pattern_allow([^ENABLE_NLS$])
+m4trace:configure.in:216: -1- AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCINTL])
+m4trace:configure.in:216: -1- AC_LIB_WITH_FINAL_PREFIX([eval x=\"$x\"])
+m4trace:configure.in:216: -1- m4_pattern_allow([^HAVE_GETTEXT$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^HAVE_DCGETTEXT$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^INTLLIBS$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^LIBINTL$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^LTLIBINTL$])
+m4trace:configure.in:216: -1- m4_pattern_allow([^POSUB$])
+m4trace:configure.in:217: -1- AM_GNU_GETTEXT_VERSION([0.14.5])
+m4trace:configure.in:223: -1- m4_pattern_allow([^FINDUTILS$])
+m4trace:configure.in:240: -1- m4_pattern_allow([^LIB@&t@OBJS$])
+m4trace:configure.in:240: -1- m4_pattern_allow([^LTLIBOBJS$])
+m4trace:configure.in:240: -1- AM_CONDITIONAL([am__EXEEXT], [test -n "$EXEEXT"])
+m4trace:configure.in:240: -1- m4_pattern_allow([^am__EXEEXT_TRUE$])
+m4trace:configure.in:240: -1- m4_pattern_allow([^am__EXEEXT_FALSE$])
+m4trace:configure.in:240: -1- _AM_SUBST_NOTMAKE([am__EXEEXT_TRUE])
+m4trace:configure.in:240: -1- _AM_SUBST_NOTMAKE([am__EXEEXT_FALSE])
+m4trace:configure.in:240: -1- m4_pattern_allow([^gl_LIBOBJS$])
+m4trace:configure.in:240: -1- m4_pattern_allow([^gl_LTLIBOBJS$])
+m4trace:configure.in:240: -1- _AC_AM_CONFIG_HEADER_HOOK(["$ac_file"])
+m4trace:configure.in:240: -1- _AM_OUTPUT_DEPENDENCY_COMMANDS
diff -up -r dbg/find14/find/autom4te.cache/traces.1 dbg/find6/find/autom4te.cache/traces.1
