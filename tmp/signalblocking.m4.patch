--- dbg/find14/find/gnulib-cvs/gnulib/m4/signalblocking.m4	2020-01-28 23:47:42.000000000 -0600
+++ dbg/find6/find/gnulib-cvs/gnulib/m4/signalblocking.m4	2020-01-28 23:39:42.000000000 -0600
@@ -1,5 +1,5 @@
-# signalblocking.m4 serial 1 (gettext-0.11)
-dnl Copyright (C) 2001-2002 Free Software Foundation, Inc.
+# signalblocking.m4 serial 4
+dnl Copyright (C) 2001-2002, 2006 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
@@ -9,13 +9,32 @@ dnl with or without modifications, as lo
 # 2) SYSV: sighold, sigrelse
 # 3) BSD: sigblock, sigsetmask
 # For simplicity, here we check only for the POSIX signal blocking.
-AC_DEFUN([gt_SIGNALBLOCKING],
+AC_DEFUN([gl_SIGNALBLOCKING],
 [
   signals_not_posix=
   AC_EGREP_HEADER(sigset_t, signal.h, , signals_not_posix=1)
   if test -z "$signals_not_posix"; then
-    AC_CHECK_FUNC(sigprocmask,
-      AC_DEFINE(HAVE_POSIX_SIGNALBLOCKING, 1,
-       [Define to 1 if you have the sigset_t type and the sigprocmask function.]))
+    AC_CHECK_FUNC(sigprocmask, [gl_cv_func_sigprocmask=1])
   fi
+  if test -n "$gl_cv_func_sigprocmask"; then
+    AC_DEFINE([HAVE_POSIX_SIGNALBLOCKING], 1,
+      [Define to 1 if you have the sigset_t type and the sigprocmask function.])
+  else
+    AC_LIBOBJ([sigprocmask])
+    gl_PREREQ_SIGPROCMASK
+  fi
+])
+
+# Prerequisites of lib/sigprocmask.h and lib/sigprocmask.c.
+AC_DEFUN([gl_PREREQ_SIGPROCMASK], [
+  AC_CHECK_TYPES([sigset_t],
+    [gl_cv_type_sigset_t=yes], [gl_cv_type_sigset_t=no],
+    [#include <signal.h>
+/* Mingw defines sigset_t not in <signal.h>, but in <sys/types.h>.  */
+#include <sys/types.h>])
+  if test $gl_cv_type_sigset_t = yes; then
+    AC_DEFINE([HAVE_SIGSET_T], [1],
+      [Define to 1 if you lack the sigprocmask function but have the sigset_t type.])
+  fi
+  AC_CHECK_FUNCS_ONCE(raise)
 ])
Only in dbg/find14/find/gnulib-cvs/gnulib/m4: signed.m4
diff -up -r dbg/find14/find/gnulib-cvs/gnulib/m4/size_max.m4 dbg/find6/find/gnulib-cvs/gnulib/m4/size_max.m4
